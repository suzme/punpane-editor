const Pl=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}};Pl();function ht(){}const Gt=e=>e;function vl(e){return e()}function xt(){return Object.create(null)}function He(e){e.forEach(vl)}function Ht(e){return typeof e=="function"}function Sl(e,l){return e!=e?l==l:e!==l||e&&typeof e=="object"||typeof e=="function"}function Fl(e){return Object.keys(e).length===0}const bl=typeof window!="undefined";let yl=bl?()=>window.performance.now():()=>Date.now(),Qt=bl?e=>requestAnimationFrame(e):ht;const nt=new Set;function kl(e){nt.forEach(l=>{l.c(e)||(nt.delete(l),l.f())}),nt.size!==0&&Qt(kl)}function wl(e){let l;return nt.size===0&&Qt(kl),{promise:new Promise(t=>{nt.add(l={c:e,f:t})}),abort(){nt.delete(l)}}}function r(e,l){e.appendChild(l)}function Dl(e){if(!e)return document;const l=e.getRootNode?e.getRootNode():e.ownerDocument;return l&&l.host?l:e.ownerDocument}function Ol(e){const l=u("style");return Rl(Dl(e),l),l.sheet}function Rl(e,l){r(e.head||e,l)}function Pe(e,l,t){e.insertBefore(l,t||null)}function ke(e){e.parentNode.removeChild(e)}function ot(e,l){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(l)}function u(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function w(){return L(" ")}function Al(){return L("")}function b(e,l,t,s){return e.addEventListener(l,t,s),()=>e.removeEventListener(l,t,s)}function o(e,l,t){t==null?e.removeAttribute(l):e.getAttribute(l)!==t&&e.setAttribute(l,t)}function Kt(e){return e===""?null:+e}function zl(e){return Array.from(e.childNodes)}function Ye(e,l){l=""+l,e.wholeText!==l&&(e.data=l)}function st(e,l){e.value=l==null?"":l}function A(e,l,t,s){t===null?e.style.removeProperty(l):e.style.setProperty(l,t,s?"important":"")}function U(e,l,t){e.classList[t?"add":"remove"](l)}function Ll(e,l,{bubbles:t=!1,cancelable:s=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t,s,l),n}const Ft=new Map;let Ot=0;function Tl(e){let l=5381,t=e.length;for(;t--;)l=(l<<5)-l^e.charCodeAt(t);return l>>>0}function Bl(e,l){const t={stylesheet:Ol(l),rules:{}};return Ft.set(e,t),t}function El(e,l,t,s,n,i,a,m=0){const h=16.666/s;let d=`{
`;for(let y=0;y<=1;y+=h){const D=l+(t-l)*i(y);d+=y*100+`%{${a(D,1-D)}}
`}const P=d+`100% {${a(t,1-t)}}
}`,E=`__svelte_${Tl(P)}_${m}`,F=Dl(e),{stylesheet:S,rules:N}=Ft.get(F)||Bl(F,e);N[E]||(N[E]=!0,S.insertRule(`@keyframes ${E} ${P}`,S.cssRules.length));const C=e.style.animation||"";return e.style.animation=`${C?`${C}, `:""}${E} ${s}ms linear ${n}ms 1 both`,Ot+=1,E}function Vt(e,l){const t=(e.style.animation||"").split(", "),s=t.filter(l?i=>i.indexOf(l)<0:i=>i.indexOf("__svelte")===-1),n=t.length-s.length;n&&(e.style.animation=s.join(", "),Ot-=n,Ot||jl())}function jl(){Qt(()=>{Ot||(Ft.forEach(e=>{const{stylesheet:l}=e;let t=l.cssRules.length;for(;t--;)l.deleteRule(t);e.rules={}}),Ft.clear())})}let Wt;function dt(e){Wt=e}const _t=[],$t=[],Mt=[],el=[],Il=Promise.resolve();let Yt=!1;function ql(){Yt||(Yt=!0,Il.then(Nl))}function rt(e){Mt.push(e)}const jt=new Set;let Ct=0;function Nl(){const e=Wt;do{for(;Ct<_t.length;){const l=_t[Ct];Ct++,dt(l),Jl(l.$$)}for(dt(null),_t.length=0,Ct=0;$t.length;)$t.pop()();for(let l=0;l<Mt.length;l+=1){const t=Mt[l];jt.has(t)||(jt.add(t),t())}Mt.length=0}while(_t.length);for(;el.length;)el.pop()();Yt=!1,jt.clear(),dt(e)}function Jl(e){if(e.fragment!==null){e.update(),He(e.before_update);const l=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,l),e.after_update.forEach(rt)}}let pt;function Cl(){return pt||(pt=Promise.resolve(),pt.then(()=>{pt=null})),pt}function Rt(e,l,t){e.dispatchEvent(Ll(`${l?"intro":"outro"}${t}`))}const Pt=new Set;let Te;function Ul(){Te={r:0,c:[],p:Te}}function Vl(){Te.r||He(Te.c),Te=Te.p}function St(e,l){e&&e.i&&(Pt.delete(e),e.i(l))}function tl(e,l,t,s){if(e&&e.o){if(Pt.has(e))return;Pt.add(e),Te.c.push(()=>{Pt.delete(e),s&&(t&&e.d(1),s())}),e.o(l)}}const Kl={duration:0};function Yl(e,l,t){let s=l(e,t),n=!1,i,a,m=0;function h(){i&&Vt(e,i)}function d(){const{delay:E=0,duration:F=300,easing:S=Gt,tick:N=ht,css:C}=s||Kl;C&&(i=El(e,0,1,F,E,S,C,m++)),N(0,1);const y=yl()+E,D=y+F;a&&a.abort(),n=!0,rt(()=>Rt(e,!0,"start")),a=wl(Z=>{if(n){if(Z>=D)return N(1,0),Rt(e,!0,"end"),h(),n=!1;if(Z>=y){const je=S((Z-y)/F);N(je,1-je)}}return n})}let P=!1;return{start(){P||(P=!0,Vt(e),Ht(s)?(s=s(),Cl().then(d)):d())},invalidate(){P=!1},end(){n&&(h(),n=!1)}}}function Gl(e,l,t){let s=l(e,t),n=!0,i;const a=Te;a.r+=1;function m(){const{delay:h=0,duration:d=300,easing:P=Gt,tick:E=ht,css:F}=s||Kl;F&&(i=El(e,1,0,d,h,P,F));const S=yl()+h,N=S+d;rt(()=>Rt(e,!1,"start")),wl(C=>{if(n){if(C>=N)return E(0,1),Rt(e,!1,"end"),--a.r||He(a.c),!1;if(C>=S){const y=P((C-S)/d);E(1-y,y)}}return n})}return Ht(s)?Cl().then(()=>{s=s(),m()}):m(),{end(h){h&&s.tick&&s.tick(1,0),n&&(i&&Vt(e,i),n=!1)}}}function Hl(e,l,t,s){const{fragment:n,on_mount:i,on_destroy:a,after_update:m}=e.$$;n&&n.m(l,t),s||rt(()=>{const h=i.map(vl).filter(Ht);a?a.push(...h):He(h),e.$$.on_mount=[]}),m.forEach(rt)}function Ql(e,l){const t=e.$$;t.fragment!==null&&(He(t.on_destroy),t.fragment&&t.fragment.d(l),t.on_destroy=t.fragment=null,t.ctx=[])}function Wl(e,l){e.$$.dirty[0]===-1&&(_t.push(e),ql(),e.$$.dirty.fill(0)),e.$$.dirty[l/31|0]|=1<<l%31}function Xl(e,l,t,s,n,i,a,m=[-1]){const h=Wt;dt(e);const d=e.$$={fragment:null,ctx:null,props:i,update:ht,not_equal:n,bound:xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(h?h.$$.context:[])),callbacks:xt(),dirty:m,skip_bound:!1,root:l.target||h.$$.root};a&&a(d.root);let P=!1;if(d.ctx=t?t(e,l.props||{},(E,F,...S)=>{const N=S.length?S[0]:F;return d.ctx&&n(d.ctx[E],d.ctx[E]=N)&&(!d.skip_bound&&d.bound[E]&&d.bound[E](N),P&&Wl(e,E)),F}):[],d.update(),P=!0,He(d.before_update),d.fragment=s?s(d.ctx):!1,l.target){if(l.hydrate){const E=zl(l.target);d.fragment&&d.fragment.l(E),E.forEach(ke)}else d.fragment&&d.fragment.c();l.intro&&St(e.$$.fragment),Hl(e,l.target,l.anchor,l.customElement),Nl()}dt(h)}class Zl{$destroy(){Ql(this,1),this.$destroy=ht}$on(l,t){const s=this.$$.callbacks[l]||(this.$$.callbacks[l]=[]);return s.push(t),()=>{const n=s.indexOf(t);n!==-1&&s.splice(n,1)}}$set(l){this.$$set&&!Fl(l)&&(this.$$.skip_bound=!0,this.$$set(l),this.$$.skip_bound=!1)}}function ll(e,{delay:l=0,duration:t=400,easing:s=Gt}={}){const n=+getComputedStyle(e).opacity;return{delay:l,duration:t,easing:s,css:i=>`opacity: ${i*n}`}}function sl(e,l,t){const s=e.slice();return s[81]=l[t],s[83]=t,s}function nl(e,l,t){const s=e.slice();return s[84]=l[t],s[86]=t,s}function ol(e,l,t){const s=e.slice();return s[81]=l[t],s[83]=t,s}function rl(e,l,t){const s=e.slice();return s[88]=l[t],s}function il(e,l,t){const s=e.slice();return s[91]=l[t],s[83]=t,s}function al(e,l,t){const s=e.slice();return s[93]=l[t],s}function cl(e){let l,t=`${Ge-e[93]}px`,s=`${zt-e[93]}px`;return{c(){l=u("div"),o(l,"class","panel_back svelte-2scaft"),A(l,"width",t,!1),A(l,"height",s,!1),A(l,"background",e[22][e[23][e[83]]],!1)},m(n,i){Pe(n,l,i)},p(n,i){i[0]&65536&&t!==(t=`${Ge-n[93]}px`)&&A(l,"width",t,!1),i[0]&65536&&s!==(s=`${zt-n[93]}px`)&&A(l,"height",s,!1)},d(n){n&&ke(l)}}}function fl(e){let l,t,s,n=e[24][e[83]]+"",i,a,m=`${Ge+1}px`,h=`${zt+1}px`,d=`${e[20][e[83]]*zt}px`,P=`${e[21][e[83]]*Ge}px`,E,F,S=e[16][e[83]],N=[];for(let C=0;C<S.length;C+=1)N[C]=cl(al(e,S,C));return{c(){l=u("div");for(let C=0;C<N.length;C+=1)N[C].c();t=w(),s=u("div"),i=L(n),a=w(),o(s,"class","svelte-2scaft"),o(l,"class","panel svelte-2scaft"),A(l,"width",m,!1),A(l,"height",h,!1),A(l,"top",d,!1),A(l,"left",P,!1),A(l,"background",e[18][e[83]],!1)},m(C,y){Pe(C,l,y);for(let D=0;D<N.length;D+=1)N[D].m(l,null);r(l,t),r(l,s),r(s,i),r(l,a),E||(F=b(l,"click",e[31](e[83])),E=!0)},p(C,y){if(e=C,y[0]&12648448){S=e[16][e[83]];let D;for(D=0;D<S.length;D+=1){const Z=al(e,S,D);N[D]?N[D].p(Z,y):(N[D]=cl(Z),N[D].c(),N[D].m(l,t))}for(;D<N.length;D+=1)N[D].d(1);N.length=S.length}y[0]&262144&&A(l,"background",e[18][e[83]],!1)},d(C){C&&ke(l),ot(N,C),E=!1,F()}}}function ul(e){let l,t=`${Be+1}px`,s=`${e[19]/e[1]*2+1}px`,n=`${e[88]*2}px`,i=`${e[83]*Be}px`,a,m;function h(){return e[55](e[88])}return{c(){l=u("div"),o(l,"class","grid svelte-2scaft"),A(l,"width",t,!1),A(l,"height",s,!1),A(l,"top",n,!1),A(l,"left",i,!1)},m(d,P){Pe(d,l,P),a||(m=b(l,"click",h),a=!0)},p(d,P){e=d,P[0]&2&&s!==(s=`${e[19]/e[1]*2+1}px`)&&A(l,"height",s,!1),P[0]&32768&&n!==(n=`${e[88]*2}px`)&&A(l,"top",n,!1)},d(d){d&&ke(l),a=!1,m()}}}function pl(e){let l,t=e[15],s=[];for(let n=0;n<t.length;n+=1)s[n]=ul(rl(e,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();l=Al()},m(n,i){for(let a=0;a<s.length;a+=1)s[a].m(n,i);Pe(n,l,i)},p(n,i){if(i[0]&34111506){t=n[15];let a;for(a=0;a<t.length;a+=1){const m=rl(n,t,a);s[a]?s[a].p(m,i):(s[a]=ul(m),s[a].c(),s[a].m(l.parentNode,l))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(n){ot(s,n),n&&ke(l)}}}function _l(e){let l,t=`${e[11]*2}px`,s=`${Be*18}px`;return{c(){l=u("div"),o(l,"class","cursor_play svelte-2scaft"),A(l,"top",t,!1),A(l,"width",s,!1)},m(n,i){Pe(n,l,i)},p(n,i){i[0]&2048&&t!==(t=`${n[11]*2}px`)&&A(l,"top",t,!1)},d(n){n&&ke(l)}}}function dl(e){let l,t=`${Be+1}px`,s=`${qt}px`,n=`${e[84]*2-qt/2}px`,i=`${e[83]*Be}px`;return{c(){l=u("div"),o(l,"class","note svelte-2scaft"),A(l,"width",t,!1),A(l,"height",s,!1),A(l,"top",n,!1),A(l,"left",i,!1),A(l,"background",e[22][e[23][e[83]]],!1)},m(a,m){Pe(a,l,m)},p(a,m){m[0]&131072&&n!==(n=`${a[84]*2-qt/2}px`)&&A(l,"top",n,!1)},d(a){a&&ke(l)}}}function hl(e){let l,t=e[81],s=[];for(let n=0;n<t.length;n+=1)s[n]=dl(nl(e,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();l=Al()},m(n,i){for(let a=0;a<s.length;a+=1)s[a].m(n,i);Pe(n,l,i)},p(n,i){if(i[0]&12713984){t=n[81];let a;for(a=0;a<t.length;a+=1){const m=nl(n,t,a);s[a]?s[a].p(m,i):(s[a]=dl(m),s[a].c(),s[a].m(l.parentNode,l))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(n){ot(s,n),n&&ke(l)}}}function ml(e){let l,t,s,n,i,a,m;return{c(){l=u("div"),t=L(e[8]),o(l,"class","message svelte-2scaft"),A(l,"background",e[9],!1)},m(h,d){Pe(h,l,d),r(l,t),i=!0,a||(m=b(l,"click",e[59]),a=!0)},p(h,d){(!i||d[0]&256)&&Ye(t,h[8]),d[0]&512&&A(l,"background",h[9],!1)},i(h){i||(rt(()=>{n&&n.end(1),s=Yl(l,ll,{duration:100}),s.start()}),i=!0)},o(h){s&&s.invalidate(),n=Gl(l,ll,{duration:300}),i=!1},d(h){h&&ke(l),h&&n&&n.end(),a=!1,m()}}}function xl(e){let l,t,s,n=e[4]+1+"",i,a,m=(e[0]-e[4]*192)/(e[19]/e[1])+1+"",h,d,P,E,F=Math.round(e[14])+"",S,N,C,y,D,Z,je,Ie,we,x,T,V,j,R,I,W,O,v,$,B,oe,qe,X,De,Y,Je,re,ge,ie,ve,G,Ae,ee,Qe,de,he,Ee,mt,M,We,be,gt,ye,vt,Ne,Xe,Ce,Se,bt,H,Fe,Ue,Ke,Ze=`${(e[0]-e[4]*e[19])*2}px`,Lt=`${Be*18}px`,yt,Tt=`${e[19]*2+10}px`,kt,ae,wt,xe=e[12].toFixed(2)+"",it,Dt,ce,At,$e=e[13].toFixed(2)+"",at,Et,fe,Nt,Oe,f,p,g,K,Q,pe,z,q,Re,ct,_e,ft,ze,ut,Me,me,Xt,Ve,ue,Bt,Zt,et=e[2],te=[];for(let c=0;c<et.length;c+=1)te[c]=fl(il(e,et,c));let tt=e[17],le=[];for(let c=0;c<tt.length;c+=1)le[c]=pl(ol(e,tt,c));let se=e[11]>=0&&_l(e),lt=e[17],ne=[];for(let c=0;c<lt.length;c+=1)ne[c]=hl(sl(e,lt,c));let J=e[8]!==""&&ml(e);return{c(){l=u("main"),t=u("div"),s=u("div"),i=L(n),a=L("\u5C0F\u7BC0\u76EE, "),h=L(m),d=L("/"),P=L(e[1]),E=L(" ("),S=L(F),N=L("f)"),C=w(),y=u("div"),D=u("input"),je=w(),Ie=u("label"),Ie.textContent="\u3053\u306E\u5C0F\u7BC0\u3067\u8A2D\u5B9A\u5909\u66F4",we=L(` |\r
      `),x=u("label"),x.textContent="\u958B\u59CB\u30D5\u30EC\u30FC\u30E0:",T=w(),V=u("input"),j=w(),R=u("label"),R.textContent="BPM:",I=w(),W=u("input"),O=w(),v=u("div"),$=u("input"),B=w(),oe=u("input"),qe=w(),X=u("input"),De=w(),Y=u("input"),Je=w(),re=u("input"),ge=w(),ie=u("input"),ve=w(),G=u("input"),Ae=w(),ee=u("input"),Qe=w(),de=u("input"),he=w(),Ee=u("input"),mt=w(),M=u("input"),We=w(),be=u("input"),gt=w(),ye=u("input"),vt=w(),Ne=u("input"),Xe=w(),Ce=u("div"),Se=u("div");for(let c=0;c<te.length;c+=1)te[c].c();bt=w(),H=u("div");for(let c=0;c<le.length;c+=1)le[c].c();Fe=w(),se&&se.c(),Ue=w(),Ke=u("div"),yt=w();for(let c=0;c<ne.length;c+=1)ne[c].c();kt=w(),ae=u("div"),wt=L("\u97F3\u91CF("),it=L(xe),Dt=L(`)\r
      `),ce=u("input"),At=L(`\r
      \u901F\u5EA6(`),at=L($e),Et=L(`)\r
      `),fe=u("input"),Nt=w(),Oe=u("div"),Oe.textContent="\u753B\u9762\u306B\u30D5\u30A1\u30A4\u30EB\u3092\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF/\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u3092\u8AAD\u307F\u8FBC\u307F",f=w(),p=u("div"),g=u("input"),K=w(),Q=u("input"),pe=w(),z=u("input"),q=w(),Re=u("input"),ct=L(`\r
      \u8B5C\u9762\u756A\u53F7`),_e=u("input"),ft=w(),ze=u("div"),J&&J.c(),ut=w(),Me=u("footer"),me=u("a"),me.textContent="\u4F7F\u7528\u3057\u3066\u3044\u308B\u30BD\u30D5\u30C8\u30A6\u30A7\u30A2\u306E\u30E9\u30A4\u30BB\u30F3\u30B9\u8868\u793A",Xt=L(` |\r
      `),Ve=u("a"),Ve.textContent=`Pun\u25C7Pane Editor Ver.${Ml}`,o(D,"type","checkbox"),D.checked=Z=e[6]===e[4],o(D,"id","fix"),o(Ie,"for","fix"),o(Ie,"class","svelte-2scaft"),o(x,"for","begin_frame"),o(x,"class","svelte-2scaft"),o(V,"type","number"),V.value=e[5],o(V,"id","begin_frame"),o(V,"class","svelte-2scaft"),o(R,"for","bpm"),o(R,"class","svelte-2scaft"),o(W,"type","number"),W.value=e[3],o(W,"step","0.01"),o(W,"min","0.01"),o(W,"id","bpm"),o(W,"class","svelte-2scaft"),o(y,"class","main_input svelte-2scaft"),o($,"type","button"),$.value="4",o($,"title","1\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30924\u5206\u306B\u5909\u66F4"),o($,"class","svelte-2scaft"),U($,"selected",e[1]===4),o(oe,"type","button"),oe.value="8",o(oe,"title","2\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30928\u5206\u306B\u5909\u66F4"),o(oe,"class","svelte-2scaft"),U(oe,"selected",e[1]===8),o(X,"type","button"),X.value="16",o(X,"title","3\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309216\u5206\u306B\u5909\u66F4"),o(X,"class","svelte-2scaft"),U(X,"selected",e[1]===16),o(Y,"type","button"),Y.value="32",o(Y,"title","R\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309232\u5206\u306B\u5909\u66F4"),o(Y,"class","svelte-2scaft"),U(Y,"selected",e[1]===32),o(re,"type","button"),re.value="12",o(re,"title","4\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309212\u5206(8\u52063\u9023)\u306B\u5909\u66F4"),o(re,"class","svelte-2scaft"),U(re,"selected",e[1]===12),o(ie,"type","button"),ie.value="24",o(ie,"title","5\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309224\u5206(16\u52063\u9023)\u306B\u5909\u66F4"),o(ie,"class","svelte-2scaft"),U(ie,"selected",e[1]===24),o(G,"type","button"),G.value="48",o(G,"title","6\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309248\u5206(32\u52063\u9023)\u306B\u5909\u66F4"),o(G,"class","svelte-2scaft"),U(G,"selected",e[1]===48),o(ee,"type","button"),ee.value="\u2190",o(ee,"title","\u5DE6\u77E2\u5370\u30AD\u30FC: \u524D\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),o(ee,"class","svelte-2scaft"),o(de,"type","button"),de.value="\u2191",o(de,"title","\u4E0A\u77E2\u5370/E/B: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0A\u306B\u79FB\u52D5"),o(de,"class","svelte-2scaft"),o(Ee,"type","button"),Ee.value="\u2193",o(Ee,"title","\u4E0B\u77E2\u5370/D/\u30B9\u30DA\u30FC\u30B9: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0B\u306B\u79FB\u52D5"),o(Ee,"class","svelte-2scaft"),o(M,"type","button"),M.value="\u2192",o(M,"title","\u53F3\u77E2\u5370\u30AD\u30FC: \u6B21\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),o(M,"class","svelte-2scaft"),o(be,"type","button"),be.value="BS",o(be,"title","Backspace: \u30AB\u30FC\u30BD\u30EB\u3092\u524D\u306B\u79FB\u52D5\u3057\u3066\u30D1\u30CD\u30EB\u3092\u524A\u9664"),o(be,"class","svelte-2scaft"),o(ye,"type","button"),ye.value="DEL",o(ye,"title","Delete: \u30AB\u30FC\u30BD\u30EB\u306E\u3042\u308B\u884C\u306E\u30D1\u30CD\u30EB\u3092\u524A\u9664"),o(ye,"class","svelte-2scaft"),o(Ne,"type","button"),Ne.value="Enter",o(Ne,"title","Enter: \u66F2\u518D\u751F\u306E\u958B\u59CB/\u505C\u6B62"),o(Ne,"class","svelte-2scaft"),o(v,"class","main_buttons svelte-2scaft"),o(Se,"class","panels svelte-2scaft"),o(Se,"style",`left: ${Be*18+20}px; width: ${Ge*5}px;`),o(Ke,"class","cursor svelte-2scaft"),A(Ke,"top",Ze,!1),A(Ke,"width",Lt,!1),o(H,"class","notes svelte-2scaft"),o(Ce,"class","punpane_editor svelte-2scaft"),A(Ce,"height",Tt,!1),o(ce,"type","range"),o(ce,"min","0"),o(ce,"max","1"),o(ce,"step","0.01"),o(fe,"type","range"),o(fe,"min","0.1"),o(fe,"max","1.5"),o(fe,"step","0.1"),o(ae,"class","music_control svelte-2scaft"),o(Oe,"class","drop_area svelte-2scaft"),U(Oe,"dragover",e[10]),o(g,"type","button"),g.value="\u65B0\u898F\u4F5C\u6210",o(g,"class","svelte-2scaft"),o(Q,"type","button"),Q.value="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u304B\u3089\u8AAD\u307F\u8FBC\u307F",o(Q,"class","svelte-2scaft"),o(z,"type","button"),z.value="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u4FDD\u5B58",o(z,"class","svelte-2scaft"),o(Re,"type","button"),Re.value="dos\u306E\u4FDD\u5B58",o(Re,"class","svelte-2scaft"),o(_e,"type","number"),o(_e,"min","1"),o(_e,"class","svelte-2scaft"),o(p,"class","save_buttons svelte-2scaft"),o(ze,"class","message_container svelte-2scaft"),o(me,"href","./thirdparty_license.txt"),o(me,"target","_blank"),o(me,"rel","noopener noreferrer"),o(me,"class","svelte-2scaft"),o(Ve,"href","https://github.com/suzme/punpane-editor"),o(Ve,"target","_blank"),o(Ve,"rel","noopener noreferrer"),o(Ve,"class","svelte-2scaft"),o(Me,"class","svelte-2scaft"),o(t,"class","container svelte-2scaft"),U(t,"dragover",e[10]),A(t,"width",`${Be*18+20+Ge*5}px`,!1)},m(c,k){Pe(c,l,k),r(l,t),r(t,s),r(s,i),r(s,a),r(s,h),r(s,d),r(s,P),r(s,E),r(s,S),r(s,N),r(t,C),r(t,y),r(y,D),r(y,je),r(y,Ie),r(y,we),r(y,x),r(y,T),r(y,V),r(y,j),r(y,R),r(y,I),r(y,W),r(t,O),r(t,v),r(v,$),r(v,B),r(v,oe),r(v,qe),r(v,X),r(v,De),r(v,Y),r(v,Je),r(v,re),r(v,ge),r(v,ie),r(v,ve),r(v,G),r(v,Ae),r(v,ee),r(v,Qe),r(v,de),r(v,he),r(v,Ee),r(v,mt),r(v,M),r(v,We),r(v,be),r(v,gt),r(v,ye),r(v,vt),r(v,Ne),r(t,Xe),r(t,Ce),r(Ce,Se);for(let _=0;_<te.length;_+=1)te[_].m(Se,null);r(Ce,bt),r(Ce,H);for(let _=0;_<le.length;_+=1)le[_].m(H,null);r(H,Fe),se&&se.m(H,null),r(H,Ue),r(H,Ke),r(H,yt);for(let _=0;_<ne.length;_+=1)ne[_].m(H,null);r(t,kt),r(t,ae),r(ae,wt),r(ae,it),r(ae,Dt),r(ae,ce),st(ce,e[12]),r(ae,At),r(ae,at),r(ae,Et),r(ae,fe),st(fe,e[13]),r(t,Nt),r(t,Oe),r(t,f),r(t,p),r(p,g),r(p,K),r(p,Q),r(p,pe),r(p,z),r(p,q),r(p,Re),r(p,ct),r(p,_e),st(_e,e[7]),r(t,ft),r(t,ze),J&&J.m(ze,null),r(t,ut),r(t,Me),r(Me,me),r(Me,Xt),r(Me,Ve),ue=!0,Bt||(Zt=[b(window,"beforeunload",e[49]),b(window,"keydown",e[47]),b(window,"wheel",e[48]),b(window,"drop",e[46]),b(window,"dragover",e[44]),b(window,"dragleave",e[45]),b(D,"change",e[41]),b(V,"change",e[42]),b(W,"change",e[43]),b($,"click",e[30](4)),b(oe,"click",e[30](8)),b(X,"click",e[30](16)),b(Y,"click",e[30](32)),b(re,"click",e[30](12)),b(ie,"click",e[30](24)),b(G,"click",e[30](48)),b(ee,"click",e[28]),b(de,"click",e[26]),b(Ee,"click",e[27]),b(M,"click",e[29]),b(be,"click",e[33]),b(ye,"click",e[32]),b(Ne,"click",e[38]),b(ce,"change",e[56]),b(ce,"input",e[56]),b(ce,"input",e[39]),b(fe,"change",e[57]),b(fe,"input",e[57]),b(fe,"input",e[40]),b(g,"click",e[34]),b(Q,"click",e[36]),b(z,"click",e[35]),b(Re,"click",e[37]),b(_e,"input",e[58])],Bt=!0)},p(c,k){if((!ue||k[0]&16)&&n!==(n=c[4]+1+"")&&Ye(i,n),(!ue||k[0]&19)&&m!==(m=(c[0]-c[4]*192)/(c[19]/c[1])+1+"")&&Ye(h,m),(!ue||k[0]&2)&&Ye(P,c[1]),(!ue||k[0]&16384)&&F!==(F=Math.round(c[14])+"")&&Ye(S,F),(!ue||k[0]&80&&Z!==(Z=c[6]===c[4]))&&(D.checked=Z),(!ue||k[0]&32&&V.value!==c[5])&&(V.value=c[5]),(!ue||k[0]&8&&W.value!==c[3])&&(W.value=c[3]),k[0]&2&&U($,"selected",c[1]===4),k[0]&2&&U(oe,"selected",c[1]===8),k[0]&2&&U(X,"selected",c[1]===16),k[0]&2&&U(Y,"selected",c[1]===32),k[0]&2&&U(re,"selected",c[1]===12),k[0]&2&&U(ie,"selected",c[1]===24),k[0]&2&&U(G,"selected",c[1]===48),k[0]&32833540|k[1]&1){et=c[2];let _;for(_=0;_<et.length;_+=1){const Le=il(c,et,_);te[_]?te[_].p(Le,k):(te[_]=fl(Le),te[_].c(),te[_].m(Se,null))}for(;_<te.length;_+=1)te[_].d(1);te.length=et.length}if(k[0]&34242578){tt=c[17];let _;for(_=0;_<tt.length;_+=1){const Le=ol(c,tt,_);le[_]?le[_].p(Le,k):(le[_]=pl(Le),le[_].c(),le[_].m(H,Fe))}for(;_<le.length;_+=1)le[_].d(1);le.length=tt.length}if(c[11]>=0?se?se.p(c,k):(se=_l(c),se.c(),se.m(H,Ue)):se&&(se.d(1),se=null),k[0]&17&&Ze!==(Ze=`${(c[0]-c[4]*c[19])*2}px`)&&A(Ke,"top",Ze,!1),k[0]&12713984){lt=c[17];let _;for(_=0;_<lt.length;_+=1){const Le=sl(c,lt,_);ne[_]?ne[_].p(Le,k):(ne[_]=hl(Le),ne[_].c(),ne[_].m(H,null))}for(;_<ne.length;_+=1)ne[_].d(1);ne.length=lt.length}(!ue||k[0]&4096)&&xe!==(xe=c[12].toFixed(2)+"")&&Ye(it,xe),k[0]&4096&&st(ce,c[12]),(!ue||k[0]&8192)&&$e!==($e=c[13].toFixed(2)+"")&&Ye(at,$e),k[0]&8192&&st(fe,c[13]),k[0]&1024&&U(Oe,"dragover",c[10]),k[0]&128&&Kt(_e.value)!==c[7]&&st(_e,c[7]),c[8]!==""?J?(J.p(c,k),k[0]&256&&St(J,1)):(J=ml(c),J.c(),St(J,1),J.m(ze,null)):J&&(Ul(),tl(J,1,1,()=>{J=null}),Vl()),k[0]&1024&&U(t,"dragover",c[10])},i(c){ue||(St(J),ue=!0)},o(c){tl(J),ue=!1},d(c){c&&ke(l),ot(te,c),ot(le,c),se&&se.d(),ot(ne,c),J&&J.d(),Bt=!1,He(Zt)}}}const Ml="20220710-0",It=18,Ge=96,zt=96,Be=20,qt=6,$l=100,gl=0,Jt=200,Ut=160;function es(e,l,t){let s,n,i,a,m,h,d,P,E,F,S;const C=[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],y=[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4],D=["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],Z=[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],je="7890-UIOPJKL;NM<>/".split(""),Ie="aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de".split(","),we={success:"#99ccff",error:"#ffcccc"};let x=1,T=0,V=16,j=[0],R=[Jt],I=[Ut],W=null,O="",v=we.success,$=!1,B=new Array(It).fill([]),oe,qe=-1,X=1,De=1;const Y=new AudioContext,Je=Y.createGain();Je.connect(Y.destination);let re,ge,ie=!1,ve=!1;const G=f=>{t(8,O=""),ve&&Math.floor(f/192)!==Math.floor(T/192)&&setTimeout(Fe,0),t(0,T=f)},Ae=()=>G(T-3*64/V),ee=()=>G(T+3*64/V),Qe=()=>G((s-1)*192),de=()=>G((s+1)*192),he=f=>()=>{t(8,O=""),t(1,V=f),t(0,T=Math.floor(T/(192/f))*(192/f))},Ee=(f,p)=>{t(2,B[f]=[...B[f],p],B)},mt=(f,p)=>{t(2,B[f]=B[f].filter(g=>g!==p),B)},M=f=>()=>{t(8,O=""),B[f].includes(T)?mt(f,T):Ee(f,T),W===null&&(W=setTimeout(()=>{W=null,ee()},$l))},We=()=>{t(8,O=""),t(2,B=B.map(f=>f.filter(p=>p!==T)))},be=()=>{Ae(),We()},gt=()=>{confirm("\u73FE\u5728\u7DE8\u96C6\u4E2D\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F")!==!1&&(t(2,B=new Array(It).fill([])),t(50,j=[]),t(51,R=[]),t(52,I=[]),t(7,x=1),t(0,T=0),t(8,O=""))},ye=(f,p="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002")=>{navigator.clipboard?(navigator.clipboard.writeText(f),t(8,O=p),t(9,v=we.success)):prompt("\u30B3\u30D4\u30FC\u3057\u3066\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044\u3002",f)},vt=()=>JSON.stringify({panels:B,label_measures:j,begin_frames:R,bpms:I,resolution:192,chart_num:x,editor_version:Ml,save_data_version:0}),Ne=()=>ye(vt(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),Xe=f=>{var g,K,Q,pe;let p;if(confirm("\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u8FBC\u3080\u3068\u73FE\u5728\u7DE8\u96C6\u4E2D\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F")!==!1){try{p=JSON.parse(f)}catch(z){console.log(z),t(8,O="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002"),t(9,v=we.error);return}t(0,T=0),t(2,B=(g=p.panels)!=null?g:new Array(It).fill([])),t(50,j=(K=p.label_measures)!=null?K:[]),t(51,R=(Q=p.begin_frames)!=null?Q:[]),t(52,I=(pe=p.bpms)!=null?pe:[]),t(7,x=p.chart_num),t(8,O="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u8FBC\u307F\u307E\u3057\u305F\u3002")}},Ce=()=>{if(navigator.clipboard)navigator.clipboard.readText().then(f=>Xe(f));else{const f=prompt("\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8CBC\u308A\u4ED8\u3051\u3066\u304F\u3060\u3055\u3044\u3002");f&&f!==""&&Xe(f)}},Se=()=>B.map((f,p)=>`|${Ie[p]}${x!==1?x:""}_data=`+[...f.map(g=>{var ct,_e,ft,ze,ut,Me;const K=Math.floor(g/192),Q=Math.max(...j.filter(me=>K>=me)),pe=j.findIndex(me=>me===Q),z=(_e=(ct=j[pe])!=null?ct:j[0])!=null?_e:gl,q=(ze=(ft=R[pe])!=null?ft:R[0])!=null?ze:Jt,Re=(Me=(ut=I[pe])!=null?ut:I[0])!=null?Me:Ut;return Math.round((g-z*192)/192*4*60*60/Re+q)})].sort().join(",")).join("")+"|",bt=()=>ye(Se(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306Bdos\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),H=()=>{!ve||(t(11,qe=((Y.currentTime-oe)*h*De/60/4-.5)*192),qe>192&&(Ue(),Fe()),requestAnimationFrame(H))},Fe=()=>{if(ve&&Ue(),ie){const p=((s-a-.5)*4*60*60/h+m-200)/60,g=p<0?-p:0;Je.gain.value=X,ge=Y.createBufferSource(),ge.buffer=re,ge.playbackRate.value=De,ge.connect(Je),oe=Y.currentTime+g,ge.start(oe+g,Math.max(p,0)),requestAnimationFrame(H),ve=!0}else re?t(8,O="\u518D\u751F\u6E96\u5099\u304C\u672A\u5B8C\u4E86\u3067\u3059\u3002"):t(8,O="\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u304C\u5165\u529B\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002"),t(9,v=we.error)},Ue=()=>{ge.stop(),t(11,qe=-1),ve=!1},Ke=()=>{ve?Ue():Fe()},Ze=()=>{Je.gain.value=X},Lt=()=>{ge.playbackRate.value=De,ve&&Fe()},yt=f=>{if(t(8,O=""),f.target.checked)t(50,j=[...j,s]),t(51,R=[...R,Math.round(d)]),t(52,I=[...I,h]);else{const p=i;t(50,j=j.filter((g,K)=>p!==K)),t(51,R=R.filter((g,K)=>p!==K)),t(52,I=I.filter((g,K)=>p!==K))}},Tt=f=>{t(8,O="");const p=f.target.value;let g;try{g=parseFloat(p)}catch(K){console.log(K),K.target.value=R[i];return}Number.isNaN(g)?f.target.value=R[i]:t(51,R[i]=g,R)},kt=f=>{t(8,O="");const p=f.target.value;let g;try{g=parseFloat(p)}catch(K){console.log(K),K.target.value=I[i];return}Number.isNaN(g)||g<=0?f.target.value=I[i]:t(52,I[i]=g,I)},ae=f=>{f.preventDefault(),t(10,$=!0),t(8,O="")},wt=f=>{f.preventDefault(),t(10,$=!1),t(8,O="")},xe=f=>{if(f.stopPropagation(),f.preventDefault(),t(10,$=!1),t(8,O=""),!f.dataTransfer||!f.dataTransfer.files)return;const p=f.dataTransfer.files;if(p.length===0)return;const g=p[0];if(g.type.match(/^audio/)){ie=!1;const K=new FileReader;K.onload=()=>{Y.decodeAudioData(K.result,Q=>{re=Q,t(8,O="\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u306E\u8AAD\u307F\u8FBC\u307F\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\u3002"),t(9,v=we.success),ie=!0})},K.readAsArrayBuffer(g)}else if(g.type==="text/plain"){const K=new FileReader;K.onload=()=>{Xe(K.result)},K.readAsText(g)}else t(8,O="\u975E\u5BFE\u5FDC\u306E\u30D5\u30A1\u30A4\u30EB\u30BF\u30A4\u30D7\u3067\u3059("+g.type+")"),t(9,v=we.error)},it={ArrowUp:Ae,ArrowDown:ee,ArrowLeft:Qe,ArrowRight:de,KeyE:Ae,KeyD:ee,KeyS:Qe,KeyF:de,KeyB:Ae,Space:ee,Digit1:he(4),Digit2:he(8),Digit3:he(16),Digit4:he(12),Digit5:he(24),Digit6:he(48),KeyR:he(32),Digit7:M(0),Digit8:M(1),Digit9:M(2),Digit0:M(3),Minus:M(4),KeyU:M(5),KeyI:M(6),KeyO:M(7),KeyP:M(8),KeyJ:M(9),KeyK:M(10),KeyL:M(11),Semicolon:M(12),KeyN:M(13),KeyM:M(14),Comma:M(15),Period:M(16),Slash:M(17),Delete:We,Backspace:be,Enter:Ke},Dt={},ce=f=>{if(f.target.type!=="number"){const p=f.ctrlKey?Dt:it;p[f.code]&&(p[f.code](),f.preventDefault())}},At=f=>{f.deltaY>0?ee():f.deltaY<0&&Ae()},$e=f=>{f.preventDefault(),f.returnValue="\u30DA\u30FC\u30B8\u3092\u79FB\u52D5\u3057\u3066\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F\u73FE\u5728\u7DE8\u96C6\u4E2D\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002"},at=f=>G(s*192+f);function Et(){X=Kt(this.value),t(12,X)}function fe(){De=Kt(this.value),t(13,De)}function Nt(){x=Kt(this.value),t(7,x)}const Oe=()=>t(8,O="");return e.$$.update=()=>{var f,p,g,K,Q,pe;e.$$.dirty[0]&1&&t(4,s=Math.floor(T/192)),e.$$.dirty[0]&16|e.$$.dirty[1]&524288&&t(54,n=Math.max(...j.filter(z=>s>=z))),e.$$.dirty[1]&8912896&&t(53,i=j.findIndex(z=>z===n)),e.$$.dirty[1]&4718592&&t(6,a=(p=(f=j[i])!=null?f:j[0])!=null?p:gl),e.$$.dirty[1]&5242880&&t(5,m=(K=(g=R[i])!=null?g:R[0])!=null?K:Jt),e.$$.dirty[1]&6291456&&t(3,h=(pe=(Q=I[i])!=null?Q:I[0])!=null?pe:Ut),e.$$.dirty[0]&105&&t(14,d=(T-a*192)/192*4*60*60/h+m),e.$$.dirty[0]&5&&t(18,P=B.map((z,q)=>z.includes(T)?D[Z[q]]:D[0])),e.$$.dirty[0]&20&&t(17,E=B.map(z=>z.map(q=>q-s*192).filter(q=>q>=0&&q<192))),e.$$.dirty[0]&5&&t(16,F=B.map(z=>z.map(q=>T-q).filter(q=>q>0&&q<=Ge))),e.$$.dirty[0]&2&&t(15,S=new Array(V).fill(0).map((z,q)=>192/V*q))},[T,V,B,h,s,m,a,x,O,v,$,qe,X,De,d,S,F,E,P,192,C,y,D,Z,je,G,Ae,ee,Qe,de,he,M,We,be,gt,Ne,Ce,bt,Ke,Ze,Lt,yt,Tt,kt,ae,wt,xe,ce,At,$e,j,R,I,i,n,at,Et,fe,Nt,Oe]}class ts extends Zl{constructor(l){super(),Xl(this,l,es,xl,Sl,{},null,[-1,-1,-1,-1])}}new ts({target:document.getElementById("app")});
