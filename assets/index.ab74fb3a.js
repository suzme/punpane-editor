const Ml=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function l(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(n){if(n.ep)return;n.ep=!0;const c=l(n);fetch(n.href,c)}};Ml();function _t(){}const Vt=e=>e;function ml(e){return e()}function Wt(){return Object.create(null)}function Ve(e){e.forEach(ml)}function Yt(e){return typeof e=="function"}function Nl(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pl(e){return Object.keys(e).length===0}const gl=typeof window!="undefined";let vl=gl?()=>window.performance.now():()=>Date.now(),Gt=gl?e=>requestAnimationFrame(e):_t;const lt=new Set;function bl(e){lt.forEach(t=>{t.c(e)||(lt.delete(t),t.f())}),lt.size!==0&&Gt(bl)}function yl(e){let t;return lt.size===0&&Gt(bl),{promise:new Promise(l=>{lt.add(t={c:e,f:l})}),abort(){lt.delete(t)}}}function r(e,t){e.appendChild(t)}function kl(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Sl(e){const t=p("style");return Fl(kl(e),t),t.sheet}function Fl(e,t){r(e.head||e,t)}function Ne(e,t,l){e.insertBefore(t,l||null)}function ke(e){e.parentNode.removeChild(e)}function st(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function p(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function D(){return z(" ")}function wl(){return z("")}function v(e,t,l,s){return e.addEventListener(t,l,s),()=>e.removeEventListener(t,l,s)}function o(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Kt(e){return e===""?null:+e}function Ol(e){return Array.from(e.childNodes)}function Je(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function tt(e,t){e.value=t==null?"":t}function A(e,t,l,s){l===null?e.style.removeProperty(t):e.style.setProperty(t,l,s?"important":"")}function J(e,t,l){e.classList[l?"add":"remove"](t)}function Rl(e,t,{bubbles:l=!1,cancelable:s=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,l,s,t),n}const St=new Map;let Ft=0;function zl(e){let t=5381,l=e.length;for(;l--;)t=(t<<5)-t^e.charCodeAt(l);return t>>>0}function Ll(e,t){const l={stylesheet:Sl(t),rules:{}};return St.set(e,l),l}function Dl(e,t,l,s,n,c,i,m=0){const _=16.666/s;let d=`{
`;for(let b=0;b<=1;b+=_){const k=t+(l-t)*c(b);d+=b*100+`%{${i(k,1-k)}}
`}const P=d+`100% {${i(l,1-l)}}
}`,E=`__svelte_${zl(P)}_${m}`,F=kl(e),{stylesheet:S,rules:C}=St.get(F)||Ll(F,e);C[E]||(C[E]=!0,S.insertRule(`@keyframes ${E} ${P}`,S.cssRules.length));const K=e.style.animation||"";return e.style.animation=`${K?`${K}, `:""}${E} ${s}ms linear ${n}ms 1 both`,Ft+=1,E}function Jt(e,t){const l=(e.style.animation||"").split(", "),s=l.filter(t?c=>c.indexOf(t)<0:c=>c.indexOf("__svelte")===-1),n=l.length-s.length;n&&(e.style.animation=s.join(", "),Ft-=n,Ft||Tl())}function Tl(){Gt(()=>{Ft||(St.forEach(e=>{const{stylesheet:t}=e;let l=t.cssRules.length;for(;l--;)t.deleteRule(l);e.rules={}}),St.clear())})}let Ht;function dt(e){Ht=e}const pt=[],Xt=[],Mt=[],Zt=[],Bl=Promise.resolve();let Ut=!1;function jl(){Ut||(Ut=!0,Bl.then(Al))}function nt(e){Mt.push(e)}const Bt=new Set;let Ct=0;function Al(){const e=Ht;do{for(;Ct<pt.length;){const t=pt[Ct];Ct++,dt(t),Il(t.$$)}for(dt(null),pt.length=0,Ct=0;Xt.length;)Xt.pop()();for(let t=0;t<Mt.length;t+=1){const l=Mt[t];Bt.has(l)||(Bt.add(l),l())}Mt.length=0}while(pt.length);for(;Zt.length;)Zt.pop()();Ut=!1,Bt.clear(),dt(e)}function Il(e){if(e.fragment!==null){e.update(),Ve(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(nt)}}let ut;function El(){return ut||(ut=Promise.resolve(),ut.then(()=>{ut=null})),ut}function Ot(e,t,l){e.dispatchEvent(Rl(`${t?"intro":"outro"}${l}`))}const Nt=new Set;let Re;function ql(){Re={r:0,c:[],p:Re}}function Jl(){Re.r||Ve(Re.c),Re=Re.p}function Pt(e,t){e&&e.i&&(Nt.delete(e),e.i(t))}function xt(e,t,l,s){if(e&&e.o){if(Nt.has(e))return;Nt.add(e),Re.c.push(()=>{Nt.delete(e),s&&(l&&e.d(1),s())}),e.o(t)}}const Cl={duration:0};function Ul(e,t,l){let s=t(e,l),n=!1,c,i,m=0;function _(){c&&Jt(e,c)}function d(){const{delay:E=0,duration:F=300,easing:S=Vt,tick:C=_t,css:K}=s||Cl;K&&(c=Dl(e,0,1,F,E,S,K,m++)),C(0,1);const b=vl()+E,k=b+F;i&&i.abort(),n=!0,nt(()=>Ot(e,!0,"start")),i=yl(X=>{if(n){if(X>=k)return C(1,0),Ot(e,!0,"end"),_(),n=!1;if(X>=b){const Le=S((X-b)/F);C(Le,1-Le)}}return n})}let P=!1;return{start(){P||(P=!0,Jt(e),Yt(s)?(s=s(),El().then(d)):d())},invalidate(){P=!1},end(){n&&(_(),n=!1)}}}function Vl(e,t,l){let s=t(e,l),n=!0,c;const i=Re;i.r+=1;function m(){const{delay:_=0,duration:d=300,easing:P=Vt,tick:E=_t,css:F}=s||Cl;F&&(c=Dl(e,1,0,d,_,P,F));const S=vl()+_,C=S+d;nt(()=>Ot(e,!1,"start")),yl(K=>{if(n){if(K>=C)return E(0,1),Ot(e,!1,"end"),--i.r||Ve(i.c),!1;if(K>=S){const b=P((K-S)/d);E(1-b,b)}}return n})}return Yt(s)?El().then(()=>{s=s(),m()}):m(),{end(_){_&&s.tick&&s.tick(1,0),n&&(c&&Jt(e,c),n=!1)}}}function Yl(e,t,l,s){const{fragment:n,on_mount:c,on_destroy:i,after_update:m}=e.$$;n&&n.m(t,l),s||nt(()=>{const _=c.map(ml).filter(Yt);i?i.push(..._):Ve(_),e.$$.on_mount=[]}),m.forEach(nt)}function Gl(e,t){const l=e.$$;l.fragment!==null&&(Ve(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Hl(e,t){e.$$.dirty[0]===-1&&(pt.push(e),jl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ql(e,t,l,s,n,c,i,m=[-1]){const _=Ht;dt(e);const d=e.$$={fragment:null,ctx:null,props:c,update:_t,not_equal:n,bound:Wt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:Wt(),dirty:m,skip_bound:!1,root:t.target||_.$$.root};i&&i(d.root);let P=!1;if(d.ctx=l?l(e,t.props||{},(E,F,...S)=>{const C=S.length?S[0]:F;return d.ctx&&n(d.ctx[E],d.ctx[E]=C)&&(!d.skip_bound&&d.bound[E]&&d.bound[E](C),P&&Hl(e,E)),F}):[],d.update(),P=!0,Ve(d.before_update),d.fragment=s?s(d.ctx):!1,t.target){if(t.hydrate){const E=Ol(t.target);d.fragment&&d.fragment.l(E),E.forEach(ke)}else d.fragment&&d.fragment.c();t.intro&&Pt(e.$$.fragment),Yl(e,t.target,t.anchor,t.customElement),Al()}dt(_)}class Wl{$destroy(){Gl(this,1),this.$destroy=_t}$on(t,l){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(l),()=>{const n=s.indexOf(l);n!==-1&&s.splice(n,1)}}$set(t){this.$$set&&!Pl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function $t(e,{delay:t=0,duration:l=400,easing:s=Vt}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:l,easing:s,css:c=>`opacity: ${c*n}`}}function el(e,t,l){const s=e.slice();return s[80]=t[l],s[82]=l,s}function tl(e,t,l){const s=e.slice();return s[83]=t[l],s[85]=l,s}function ll(e,t,l){const s=e.slice();return s[80]=t[l],s[82]=l,s}function sl(e,t,l){const s=e.slice();return s[87]=t[l],s}function nl(e,t,l){const s=e.slice();return s[90]=t[l],s[82]=l,s}function ol(e,t,l){const s=e.slice();return s[92]=t[l],s}function rl(e){let t,l=`${Ue-e[92]}px`,s=`${Rt-e[92]}px`;return{c(){t=p("div"),o(t,"class","panel_back svelte-2scaft"),A(t,"width",l,!1),A(t,"height",s,!1),A(t,"background",e[22][e[23][e[82]]],!1)},m(n,c){Ne(n,t,c)},p(n,c){c[0]&65536&&l!==(l=`${Ue-n[92]}px`)&&A(t,"width",l,!1),c[0]&65536&&s!==(s=`${Rt-n[92]}px`)&&A(t,"height",s,!1)},d(n){n&&ke(t)}}}function il(e){let t,l,s,n=e[24][e[82]]+"",c,i,m=`${Ue+1}px`,_=`${Rt+1}px`,d=`${e[20][e[82]]*Rt}px`,P=`${e[21][e[82]]*Ue}px`,E,F,S=e[16][e[82]],C=[];for(let K=0;K<S.length;K+=1)C[K]=rl(ol(e,S,K));return{c(){t=p("div");for(let K=0;K<C.length;K+=1)C[K].c();l=D(),s=p("div"),c=z(n),i=D(),o(s,"class","svelte-2scaft"),o(t,"class","panel svelte-2scaft"),A(t,"width",m,!1),A(t,"height",_,!1),A(t,"top",d,!1),A(t,"left",P,!1),A(t,"background",e[18][e[82]],!1)},m(K,b){Ne(K,t,b);for(let k=0;k<C.length;k+=1)C[k].m(t,null);r(t,l),r(t,s),r(s,c),r(t,i),E||(F=v(t,"click",e[31](e[82])),E=!0)},p(K,b){if(e=K,b[0]&12648448){S=e[16][e[82]];let k;for(k=0;k<S.length;k+=1){const X=ol(e,S,k);C[k]?C[k].p(X,b):(C[k]=rl(X),C[k].c(),C[k].m(t,l))}for(;k<C.length;k+=1)C[k].d(1);C.length=S.length}b[0]&262144&&A(t,"background",e[18][e[82]],!1)},d(K){K&&ke(t),st(C,K),E=!1,F()}}}function al(e){let t,l=`${ze+1}px`,s=`${e[19]/e[1]*2+1}px`,n=`${e[87]*2}px`,c=`${e[82]*ze}px`,i,m;function _(){return e[54](e[87])}return{c(){t=p("div"),o(t,"class","grid svelte-2scaft"),A(t,"width",l,!1),A(t,"height",s,!1),A(t,"top",n,!1),A(t,"left",c,!1)},m(d,P){Ne(d,t,P),i||(m=v(t,"click",_),i=!0)},p(d,P){e=d,P[0]&2&&s!==(s=`${e[19]/e[1]*2+1}px`)&&A(t,"height",s,!1),P[0]&32768&&n!==(n=`${e[87]*2}px`)&&A(t,"top",n,!1)},d(d){d&&ke(t),i=!1,m()}}}function cl(e){let t,l=e[15],s=[];for(let n=0;n<l.length;n+=1)s[n]=al(sl(e,l,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();t=wl()},m(n,c){for(let i=0;i<s.length;i+=1)s[i].m(n,c);Ne(n,t,c)},p(n,c){if(c[0]&34111506){l=n[15];let i;for(i=0;i<l.length;i+=1){const m=sl(n,l,i);s[i]?s[i].p(m,c):(s[i]=al(m),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=l.length}},d(n){st(s,n),n&&ke(t)}}}function fl(e){let t,l=`${e[11]*2}px`,s=`${ze*18}px`;return{c(){t=p("div"),o(t,"class","cursor_play svelte-2scaft"),A(t,"top",l,!1),A(t,"width",s,!1)},m(n,c){Ne(n,t,c)},p(n,c){c[0]&2048&&l!==(l=`${n[11]*2}px`)&&A(t,"top",l,!1)},d(n){n&&ke(t)}}}function ul(e){let t,l=`${ze+1}px`,s=`${jt}px`,n=`${e[83]*2-jt/2}px`,c=`${e[82]*ze}px`;return{c(){t=p("div"),o(t,"class","note svelte-2scaft"),A(t,"width",l,!1),A(t,"height",s,!1),A(t,"top",n,!1),A(t,"left",c,!1),A(t,"background",e[22][e[23][e[82]]],!1)},m(i,m){Ne(i,t,m)},p(i,m){m[0]&131072&&n!==(n=`${i[83]*2-jt/2}px`)&&A(t,"top",n,!1)},d(i){i&&ke(t)}}}function pl(e){let t,l=e[80],s=[];for(let n=0;n<l.length;n+=1)s[n]=ul(tl(e,l,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();t=wl()},m(n,c){for(let i=0;i<s.length;i+=1)s[i].m(n,c);Ne(n,t,c)},p(n,c){if(c[0]&12713984){l=n[80];let i;for(i=0;i<l.length;i+=1){const m=tl(n,l,i);s[i]?s[i].p(m,c):(s[i]=ul(m),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=l.length}},d(n){st(s,n),n&&ke(t)}}}function dl(e){let t,l,s,n,c,i,m;return{c(){t=p("div"),l=z(e[8]),o(t,"class","message svelte-2scaft"),A(t,"background",e[9],!1)},m(_,d){Ne(_,t,d),r(t,l),c=!0,i||(m=v(t,"click",e[58]),i=!0)},p(_,d){(!c||d[0]&256)&&Je(l,_[8]),d[0]&512&&A(t,"background",_[9],!1)},i(_){c||(nt(()=>{n&&n.end(1),s=Ul(t,$t,{duration:100}),s.start()}),c=!0)},o(_){s&&s.invalidate(),n=Vl(t,$t,{duration:300}),c=!1},d(_){_&&ke(t),_&&n&&n.end(),i=!1,m()}}}function Xl(e){let t,l,s,n=e[4]+1+"",c,i,m=(e[0]-e[4]*192)/(e[19]/e[1])+1+"",_,d,P,E,F=Math.round(e[14])+"",S,C,K,b,k,X,Le,Te,we,ne,B,V,j,L,Y,Z,R,g,x,T,oe,Be,W,De,G,je,re,ge,ie,ve,H,Ae,$,Ye,_e,he,Ee,ht,N,Ge,be,ot,Ce,mt,me,gt,Ke,Pe,rt,I,Ie,He,Se,Qe=`${(e[0]-e[4]*e[19])*2}px`,zt=`${ze*18}px`,vt,Lt=`${e[19]*2+10}px`,bt,ae,yt,We=e[12].toFixed(2)+"",it,kt,ce,wt,Xe=e[13].toFixed(2)+"",at,Dt,fe,At,f,h,w,M,pe,Q,U,O,Et,de,ct,Fe,ft,Me,ye,Ze,qe,ue,Tt,Qt,xe=e[2],ee=[];for(let a=0;a<xe.length;a+=1)ee[a]=il(nl(e,xe,a));let $e=e[17],te=[];for(let a=0;a<$e.length;a+=1)te[a]=cl(ll(e,$e,a));let le=e[11]>=0&&fl(e),et=e[17],se=[];for(let a=0;a<et.length;a+=1)se[a]=pl(el(e,et,a));let q=e[8]!==""&&dl(e);return{c(){t=p("main"),l=p("div"),s=p("div"),c=z(n),i=z("\u5C0F\u7BC0\u76EE, "),_=z(m),d=z("/"),P=z(e[1]),E=z(" ("),S=z(F),C=z("f)"),K=D(),b=p("div"),k=p("input"),Le=D(),Te=p("label"),Te.textContent="\u3053\u306E\u5C0F\u7BC0\u3067\u8A2D\u5B9A\u5909\u66F4",we=z(` |\r
      `),ne=p("label"),ne.textContent="\u958B\u59CB\u30D5\u30EC\u30FC\u30E0:",B=D(),V=p("input"),j=D(),L=p("label"),L.textContent="BPM:",Y=D(),Z=p("input"),R=D(),g=p("div"),x=p("input"),T=D(),oe=p("input"),Be=D(),W=p("input"),De=D(),G=p("input"),je=D(),re=p("input"),ge=D(),ie=p("input"),ve=D(),H=p("input"),Ae=D(),$=p("input"),Ye=D(),_e=p("input"),he=D(),Ee=p("input"),ht=D(),N=p("input"),Ge=D(),be=p("input"),ot=D(),Ce=p("input"),mt=D(),me=p("input"),gt=D(),Ke=p("div"),Pe=p("div");for(let a=0;a<ee.length;a+=1)ee[a].c();rt=D(),I=p("div");for(let a=0;a<te.length;a+=1)te[a].c();Ie=D(),le&&le.c(),He=D(),Se=p("div"),vt=D();for(let a=0;a<se.length;a+=1)se[a].c();bt=D(),ae=p("div"),yt=z("\u97F3\u91CF("),it=z(We),kt=z(`)\r
      `),ce=p("input"),wt=z(`\r
      \u901F\u5EA6(`),at=z(Xe),Dt=z(`)\r
      `),fe=p("input"),At=D(),f=p("div"),f.textContent="\u753B\u9762\u306B\u30D5\u30A1\u30A4\u30EB\u3092\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF/\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u3092\u8AAD\u307F\u8FBC\u307F",h=D(),w=p("div"),M=p("input"),pe=D(),Q=p("input"),U=D(),O=p("input"),Et=z(`\r
      \u8B5C\u9762\u756A\u53F7`),de=p("input"),ct=D(),Fe=p("div"),q&&q.c(),ft=D(),Me=p("footer"),ye=p("a"),ye.textContent="\u4F7F\u7528\u3057\u3066\u3044\u308B\u30BD\u30D5\u30C8\u30A6\u30A7\u30A2\u306E\u30E9\u30A4\u30BB\u30F3\u30B9\u8868\u793A",Ze=z(` |\r
      `),qe=p("a"),qe.textContent=`Pun\u25C7Pane Editor Ver.${Kl}`,o(k,"type","checkbox"),k.checked=X=e[6]===e[4],o(k,"id","fix"),o(Te,"for","fix"),o(Te,"class","svelte-2scaft"),o(ne,"for","begin_frame"),o(ne,"class","svelte-2scaft"),o(V,"type","number"),V.value=e[5],o(V,"id","begin_frame"),o(V,"class","svelte-2scaft"),o(L,"for","bpm"),o(L,"class","svelte-2scaft"),o(Z,"type","number"),Z.value=e[3],o(Z,"step","0.01"),o(Z,"id","bpm"),o(Z,"class","svelte-2scaft"),o(b,"class","main_input svelte-2scaft"),o(x,"type","button"),x.value="4",o(x,"title","1\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30924\u5206\u306B\u5909\u66F4"),o(x,"class","svelte-2scaft"),J(x,"selected",e[1]===4),o(oe,"type","button"),oe.value="8",o(oe,"title","2\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30928\u5206\u306B\u5909\u66F4"),o(oe,"class","svelte-2scaft"),J(oe,"selected",e[1]===8),o(W,"type","button"),W.value="16",o(W,"title","3\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309216\u5206\u306B\u5909\u66F4"),o(W,"class","svelte-2scaft"),J(W,"selected",e[1]===16),o(G,"type","button"),G.value="32",o(G,"title","R\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309232\u5206\u306B\u5909\u66F4"),o(G,"class","svelte-2scaft"),J(G,"selected",e[1]===32),o(re,"type","button"),re.value="12",o(re,"title","4\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309212\u5206(8\u52063\u9023)\u306B\u5909\u66F4"),o(re,"class","svelte-2scaft"),J(re,"selected",e[1]===12),o(ie,"type","button"),ie.value="24",o(ie,"title","5\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309224\u5206(16\u52063\u9023)\u306B\u5909\u66F4"),o(ie,"class","svelte-2scaft"),J(ie,"selected",e[1]===24),o(H,"type","button"),H.value="48",o(H,"title","6\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309248\u5206(32\u52063\u9023)\u306B\u5909\u66F4"),o(H,"class","svelte-2scaft"),J(H,"selected",e[1]===48),o($,"type","button"),$.value="\u2190",o($,"title","\u5DE6\u77E2\u5370\u30AD\u30FC: \u524D\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),o($,"class","svelte-2scaft"),o(_e,"type","button"),_e.value="\u2191",o(_e,"title","\u4E0A\u77E2\u5370/E/B: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0A\u306B\u79FB\u52D5"),o(_e,"class","svelte-2scaft"),o(Ee,"type","button"),Ee.value="\u2193",o(Ee,"title","\u4E0B\u77E2\u5370/D/\u30B9\u30DA\u30FC\u30B9: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0B\u306B\u79FB\u52D5"),o(Ee,"class","svelte-2scaft"),o(N,"type","button"),N.value="\u2192",o(N,"title","\u53F3\u77E2\u5370\u30AD\u30FC: \u6B21\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),o(N,"class","svelte-2scaft"),o(be,"type","button"),be.value="BS",o(be,"title","Backspace: \u30AB\u30FC\u30BD\u30EB\u3092\u524D\u306B\u79FB\u52D5\u3057\u3066\u30D1\u30CD\u30EB\u3092\u524A\u9664"),o(be,"class","svelte-2scaft"),o(Ce,"type","button"),Ce.value="DEL",o(Ce,"title","Delete: \u30AB\u30FC\u30BD\u30EB\u306E\u3042\u308B\u884C\u306E\u30D1\u30CD\u30EB\u3092\u524A\u9664"),o(Ce,"class","svelte-2scaft"),o(me,"type","button"),me.value="Enter",o(me,"title","Enter: \u66F2\u518D\u751F\u306E\u958B\u59CB/\u505C\u6B62"),o(me,"class","svelte-2scaft"),o(g,"class","main_buttons svelte-2scaft"),o(Pe,"class","panels svelte-2scaft"),o(Pe,"style",`left: ${ze*18+20}px; width: ${Ue*5}px;`),o(Se,"class","cursor svelte-2scaft"),A(Se,"top",Qe,!1),A(Se,"width",zt,!1),o(I,"class","notes svelte-2scaft"),o(Ke,"class","punpane_editor svelte-2scaft"),A(Ke,"height",Lt,!1),o(ce,"type","range"),o(ce,"min","0"),o(ce,"max","1"),o(ce,"step","0.01"),o(fe,"type","range"),o(fe,"min","0.1"),o(fe,"max","1.5"),o(fe,"step","0.1"),o(ae,"class","music_control svelte-2scaft"),o(f,"class","drop_area svelte-2scaft"),J(f,"dragover",e[10]),o(M,"type","button"),M.value="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u304B\u3089\u8AAD\u307F\u8FBC\u307F",o(M,"class","svelte-2scaft"),o(Q,"type","button"),Q.value="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u4FDD\u5B58",o(Q,"class","svelte-2scaft"),o(O,"type","button"),O.value="dos\u306E\u4FDD\u5B58",o(O,"class","svelte-2scaft"),o(de,"type","number"),o(de,"min","1"),o(de,"class","svelte-2scaft"),o(w,"class","save_buttons svelte-2scaft"),o(Fe,"class","message_container svelte-2scaft"),o(ye,"href","./thirdparty_license.txt"),o(ye,"target","_blank"),o(ye,"rel","noopener noreferrer"),o(ye,"class","svelte-2scaft"),o(qe,"href","https://github.com/suzme/punpane-editor"),o(qe,"target","_blank"),o(qe,"rel","noopener noreferrer"),o(qe,"class","svelte-2scaft"),o(Me,"class","svelte-2scaft"),o(l,"class","container svelte-2scaft"),J(l,"dragover",e[10]),A(l,"width",`${ze*18+20+Ue*5}px`,!1)},m(a,y){Ne(a,t,y),r(t,l),r(l,s),r(s,c),r(s,i),r(s,_),r(s,d),r(s,P),r(s,E),r(s,S),r(s,C),r(l,K),r(l,b),r(b,k),r(b,Le),r(b,Te),r(b,we),r(b,ne),r(b,B),r(b,V),r(b,j),r(b,L),r(b,Y),r(b,Z),r(l,R),r(l,g),r(g,x),r(g,T),r(g,oe),r(g,Be),r(g,W),r(g,De),r(g,G),r(g,je),r(g,re),r(g,ge),r(g,ie),r(g,ve),r(g,H),r(g,Ae),r(g,$),r(g,Ye),r(g,_e),r(g,he),r(g,Ee),r(g,ht),r(g,N),r(g,Ge),r(g,be),r(g,ot),r(g,Ce),r(g,mt),r(g,me),r(l,gt),r(l,Ke),r(Ke,Pe);for(let u=0;u<ee.length;u+=1)ee[u].m(Pe,null);r(Ke,rt),r(Ke,I);for(let u=0;u<te.length;u+=1)te[u].m(I,null);r(I,Ie),le&&le.m(I,null),r(I,He),r(I,Se),r(I,vt);for(let u=0;u<se.length;u+=1)se[u].m(I,null);r(l,bt),r(l,ae),r(ae,yt),r(ae,it),r(ae,kt),r(ae,ce),tt(ce,e[12]),r(ae,wt),r(ae,at),r(ae,Dt),r(ae,fe),tt(fe,e[13]),r(l,At),r(l,f),r(l,h),r(l,w),r(w,M),r(w,pe),r(w,Q),r(w,U),r(w,O),r(w,Et),r(w,de),tt(de,e[7]),r(l,ct),r(l,Fe),q&&q.m(Fe,null),r(l,ft),r(l,Me),r(Me,ye),r(Me,Ze),r(Me,qe),ue=!0,Tt||(Qt=[v(window,"beforeunload",e[48]),v(window,"keydown",e[46]),v(window,"wheel",e[47]),v(window,"drop",e[45]),v(window,"dragover",e[43]),v(window,"dragleave",e[44]),v(k,"change",e[40]),v(V,"change",e[41]),v(Z,"change",e[42]),v(x,"click",e[30](4)),v(oe,"click",e[30](8)),v(W,"click",e[30](16)),v(G,"click",e[30](32)),v(re,"click",e[30](12)),v(ie,"click",e[30](24)),v(H,"click",e[30](48)),v($,"click",e[28]),v(_e,"click",e[26]),v(Ee,"click",e[27]),v(N,"click",e[29]),v(be,"click",e[33]),v(Ce,"click",e[32]),v(me,"click",e[37]),v(ce,"change",e[55]),v(ce,"input",e[55]),v(ce,"input",e[38]),v(fe,"change",e[56]),v(fe,"input",e[56]),v(fe,"input",e[39]),v(M,"click",e[35]),v(Q,"click",e[34]),v(O,"click",e[36]),v(de,"input",e[57])],Tt=!0)},p(a,y){if((!ue||y[0]&16)&&n!==(n=a[4]+1+"")&&Je(c,n),(!ue||y[0]&19)&&m!==(m=(a[0]-a[4]*192)/(a[19]/a[1])+1+"")&&Je(_,m),(!ue||y[0]&2)&&Je(P,a[1]),(!ue||y[0]&16384)&&F!==(F=Math.round(a[14])+"")&&Je(S,F),(!ue||y[0]&80&&X!==(X=a[6]===a[4]))&&(k.checked=X),(!ue||y[0]&32&&V.value!==a[5])&&(V.value=a[5]),(!ue||y[0]&8&&Z.value!==a[3])&&(Z.value=a[3]),y[0]&2&&J(x,"selected",a[1]===4),y[0]&2&&J(oe,"selected",a[1]===8),y[0]&2&&J(W,"selected",a[1]===16),y[0]&2&&J(G,"selected",a[1]===32),y[0]&2&&J(re,"selected",a[1]===12),y[0]&2&&J(ie,"selected",a[1]===24),y[0]&2&&J(H,"selected",a[1]===48),y[0]&32833540|y[1]&1){xe=a[2];let u;for(u=0;u<xe.length;u+=1){const Oe=nl(a,xe,u);ee[u]?ee[u].p(Oe,y):(ee[u]=il(Oe),ee[u].c(),ee[u].m(Pe,null))}for(;u<ee.length;u+=1)ee[u].d(1);ee.length=xe.length}if(y[0]&34242578){$e=a[17];let u;for(u=0;u<$e.length;u+=1){const Oe=ll(a,$e,u);te[u]?te[u].p(Oe,y):(te[u]=cl(Oe),te[u].c(),te[u].m(I,Ie))}for(;u<te.length;u+=1)te[u].d(1);te.length=$e.length}if(a[11]>=0?le?le.p(a,y):(le=fl(a),le.c(),le.m(I,He)):le&&(le.d(1),le=null),y[0]&17&&Qe!==(Qe=`${(a[0]-a[4]*a[19])*2}px`)&&A(Se,"top",Qe,!1),y[0]&12713984){et=a[17];let u;for(u=0;u<et.length;u+=1){const Oe=el(a,et,u);se[u]?se[u].p(Oe,y):(se[u]=pl(Oe),se[u].c(),se[u].m(I,null))}for(;u<se.length;u+=1)se[u].d(1);se.length=et.length}(!ue||y[0]&4096)&&We!==(We=a[12].toFixed(2)+"")&&Je(it,We),y[0]&4096&&tt(ce,a[12]),(!ue||y[0]&8192)&&Xe!==(Xe=a[13].toFixed(2)+"")&&Je(at,Xe),y[0]&8192&&tt(fe,a[13]),y[0]&1024&&J(f,"dragover",a[10]),y[0]&128&&Kt(de.value)!==a[7]&&tt(de,a[7]),a[8]!==""?q?(q.p(a,y),y[0]&256&&Pt(q,1)):(q=dl(a),q.c(),Pt(q,1),q.m(Fe,null)):q&&(ql(),xt(q,1,1,()=>{q=null}),Jl()),y[0]&1024&&J(l,"dragover",a[10])},i(a){ue||(Pt(q),ue=!0)},o(a){xt(q),ue=!1},d(a){a&&ke(t),st(ee,a),st(te,a),le&&le.d(),st(se,a),q&&q.d(),Tt=!1,Ve(Qt)}}}const Kl="20220709-0",_l=18,Ue=96,Rt=96,ze=20,jt=6,Zl=100,hl=0,It=200,qt=160;function xl(e,t,l){let s,n,c,i,m,_,d,P,E,F,S;const K=[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],b=[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4],k=["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],X=[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],Le="7890-UIOPJKL;NM<>/".split(""),Te="aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de".split(","),we={success:"#99ccff",error:"#ffcccc"};let ne=1,B=0,V=16,j=[0],L=[It],Y=[qt],Z=null,R="",g=we.success,x=!1,T=new Array(_l).fill([]),oe,Be=-1,W=1,De=1;const G=new AudioContext,je=G.createGain();je.connect(G.destination);let re,ge,ie=!1,ve=!1;const H=f=>{l(8,R=""),ve&&Math.floor(f/192)!==Math.floor(B/192)&&setTimeout(I,0),l(0,B=f)},Ae=()=>H(B-3*64/V),$=()=>H(B+3*64/V),Ye=()=>H((s-1)*192),_e=()=>H((s+1)*192),he=f=>()=>{l(8,R=""),l(1,V=f),l(0,B=Math.floor(B/(192/f))*(192/f))},Ee=(f,h)=>{l(2,T[f]=[...T[f],h],T)},ht=(f,h)=>{l(2,T[f]=T[f].filter(w=>w!==h),T)},N=f=>()=>{l(8,R=""),T[f].includes(B)?ht(f,B):Ee(f,B),Z===null&&(Z=setTimeout(()=>{Z=null,$()},Zl))},Ge=()=>{l(8,R=""),l(2,T=T.map(f=>f.filter(h=>h!==B)))},be=()=>{Ae(),Ge()},ot=(f,h="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002")=>{navigator.clipboard?(navigator.clipboard.writeText(f),l(8,R=h),l(9,g=we.success)):prompt("\u30B3\u30D4\u30FC\u3057\u3066\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044\u3002",f)},Ce=()=>JSON.stringify({panels:T,label_measures:j,begin_frames:L,bpms:Y,resolution:192,chart_num:ne,editor_version:Kl,save_data_version:0}),mt=()=>ot(Ce(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),me=f=>{var w,M,pe,Q;let h;if(confirm("\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u8FBC\u3080\u3068\u73FE\u5728\u7DE8\u96C6\u4E2D\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F")!==!1){try{h=JSON.parse(f)}catch(U){console.log(U),l(8,R="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002"),l(9,g=we.error);return}l(2,T=(w=h.panels)!=null?w:new Array(_l).fill([])),l(49,j=(M=h.label_measures)!=null?M:[]),l(50,L=(pe=h.begin_frames)!=null?pe:[]),l(51,Y=(Q=h.bpms)!=null?Q:[]),l(7,ne=h.chart_num)}},gt=()=>{if(navigator.clipboard)navigator.clipboard.readText().then(f=>me(f));else{const f=prompt("\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8CBC\u308A\u4ED8\u3051\u3066\u304F\u3060\u3055\u3044\u3002");f&&f!==""&&me(f)}},Ke=()=>T.map((f,h)=>`|${Te[h]}${ne!==1?ne:""}_data=`+[...f.map(w=>{var de,ct,Fe,ft,Me,ye;const M=Math.floor(w/192),pe=Math.max(...j.filter(Ze=>M>=Ze)),Q=j.findIndex(Ze=>Ze===pe),U=(ct=(de=j[Q])!=null?de:j[0])!=null?ct:hl,O=(ft=(Fe=L[Q])!=null?Fe:L[0])!=null?ft:It,Et=(ye=(Me=Y[Q])!=null?Me:Y[0])!=null?ye:qt;return Math.round((w-U*192)/192*4*60*60/Et+O)})].sort().join(",")).join("")+"|",Pe=()=>ot(Ke(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306Bdos\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),rt=()=>{!ve||(l(11,Be=((G.currentTime-oe)*_*De/60/4-.5)*192),Be>192&&(Ie(),I()),requestAnimationFrame(rt))},I=()=>{if(ve&&Ie(),ie){const h=((s-i-.5)*4*60*60/_+m-200)/60,w=h<0?-h:0;je.gain.value=W,ge=G.createBufferSource(),ge.buffer=re,ge.playbackRate.value=De,ge.connect(je),oe=G.currentTime+w,ge.start(oe+w,Math.max(h,0)),requestAnimationFrame(rt),ve=!0}else re?l(8,R="\u518D\u751F\u6E96\u5099\u304C\u672A\u5B8C\u4E86\u3067\u3059\u3002"):l(8,R="\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u304C\u5165\u529B\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002"),l(9,g=we.error)},Ie=()=>{ge.stop(),l(11,Be=-1),ve=!1},He=()=>{ve?Ie():I()},Se=()=>{je.gain.value=W},Qe=()=>{ge.playbackRate.value=De,ve&&I()},zt=f=>{if(l(8,R=""),f.target.checked)l(49,j=[...j,s]),l(50,L=[...L,Math.round(d)]),l(51,Y=[...Y,_]);else{const h=c;l(49,j=j.filter((w,M)=>h!==M)),l(50,L=L.filter((w,M)=>h!==M)),l(51,Y=Y.filter((w,M)=>h!==M))}},vt=f=>{l(8,R="");const h=f.target.value;isNaN(h)||l(50,L[c]=parseFloat(h),L)},Lt=f=>{l(8,R="");const h=f.target.value;isNaN(h)||l(51,Y[c]=parseFloat(h),Y)},bt=f=>{f.preventDefault(),l(10,x=!0),l(8,R="")},ae=f=>{f.preventDefault(),l(10,x=!1),l(8,R="")},yt=f=>{if(f.stopPropagation(),f.preventDefault(),l(10,x=!1),l(8,R=""),!f.dataTransfer||!f.dataTransfer.files)return;const h=f.dataTransfer.files;if(h.length===0)return;const w=h[0];if(w.type.match(/^audio/)){ie=!1;const M=new FileReader;M.onload=()=>{G.decodeAudioData(M.result,pe=>{re=pe,l(8,R="\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u306E\u8AAD\u307F\u8FBC\u307F\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\u3002"),l(9,g=we.success),ie=!0})},M.readAsArrayBuffer(w)}else if(w.type==="text/plain"){const M=new FileReader;M.onload=()=>{me(M.result)},M.readAsText(w)}else l(8,R="\u975E\u5BFE\u5FDC\u306E\u30D5\u30A1\u30A4\u30EB\u30BF\u30A4\u30D7\u3067\u3059("+w.type+")"),l(9,g=we.error)},We={ArrowUp:Ae,ArrowDown:$,ArrowLeft:Ye,ArrowRight:_e,KeyE:Ae,KeyD:$,KeyS:Ye,KeyF:_e,KeyB:Ae,Space:$,Digit1:he(4),Digit2:he(8),Digit3:he(16),Digit4:he(12),Digit5:he(24),Digit6:he(48),KeyR:he(32),Digit7:N(0),Digit8:N(1),Digit9:N(2),Digit0:N(3),Minus:N(4),KeyU:N(5),KeyI:N(6),KeyO:N(7),KeyP:N(8),KeyJ:N(9),KeyK:N(10),KeyL:N(11),Semicolon:N(12),KeyN:N(13),KeyM:N(14),Comma:N(15),Period:N(16),Slash:N(17),Delete:Ge,Backspace:be,Enter:He},it={},kt=f=>{if(f.target.type!=="number"){const h=f.ctrlKey?it:We;h[f.code]&&(h[f.code](),f.preventDefault())}},ce=f=>{f.deltaY>0?$():f.deltaY<0&&Ae()},wt=f=>{f.preventDefault(),f.returnValue="\u30DA\u30FC\u30B8\u3092\u79FB\u52D5\u3057\u3066\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F\u73FE\u5728\u7DE8\u96C6\u4E2D\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002"},Xe=f=>H(s*192+f);function at(){W=Kt(this.value),l(12,W)}function Dt(){De=Kt(this.value),l(13,De)}function fe(){ne=Kt(this.value),l(7,ne)}const At=()=>l(8,R="");return e.$$.update=()=>{var f,h,w,M,pe,Q;e.$$.dirty[0]&1&&l(4,s=Math.floor(B/192)),e.$$.dirty[0]&16|e.$$.dirty[1]&262144&&l(53,n=Math.max(...j.filter(U=>s>=U))),e.$$.dirty[1]&4456448&&l(52,c=j.findIndex(U=>U===n)),e.$$.dirty[1]&2359296&&l(6,i=(h=(f=j[c])!=null?f:j[0])!=null?h:hl),e.$$.dirty[1]&2621440&&l(5,m=(M=(w=L[c])!=null?w:L[0])!=null?M:It),e.$$.dirty[1]&3145728&&l(3,_=(Q=(pe=Y[c])!=null?pe:Y[0])!=null?Q:qt),e.$$.dirty[0]&105&&l(14,d=(B-i*192)/192*4*60*60/_+m),e.$$.dirty[0]&5&&l(18,P=T.map((U,O)=>U.includes(B)?k[X[O]]:k[0])),e.$$.dirty[0]&20&&l(17,E=T.map(U=>U.map(O=>O-s*192).filter(O=>O>=0&&O<192))),e.$$.dirty[0]&5&&l(16,F=T.map(U=>U.map(O=>B-O).filter(O=>O>0&&O<=Ue))),e.$$.dirty[0]&2&&l(15,S=new Array(V).fill(0).map((U,O)=>192/V*O))},[B,V,T,_,s,m,i,ne,R,g,x,Be,W,De,d,S,F,E,P,192,K,b,k,X,Le,H,Ae,$,Ye,_e,he,N,Ge,be,mt,gt,Pe,He,Se,Qe,zt,vt,Lt,bt,ae,yt,kt,ce,wt,j,L,Y,c,n,Xe,at,Dt,fe,At]}class $l extends Wl{constructor(t){super(),Ql(this,t,xl,Xl,Nl,{},null,[-1,-1,-1,-1])}}new $l({target:document.getElementById("app")});
