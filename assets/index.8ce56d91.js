const An=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};An();function pt(){}const jt=e=>e;function pn(e){return e()}function Ut(){return Object.create(null)}function Je(e){e.forEach(pn)}function It(e){return typeof e=="function"}function En(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Kn(e){return Object.keys(e).length===0}const dn=typeof window!="undefined";let _n=dn?()=>window.performance.now():()=>Date.now(),qt=dn?e=>requestAnimationFrame(e):pt;const et=new Set;function vn(e){et.forEach(t=>{t.c(e)||(et.delete(t),t.f())}),et.size!==0&&qt(vn)}function hn(e){let t;return et.size===0&&qt(vn),{promise:new Promise(n=>{et.add(t={c:e,f:n})}),abort(){et.delete(t)}}}function i(e,t){e.appendChild(t)}function gn(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Mn(e){const t=p("style");return Cn(gn(e),t),t.sheet}function Cn(e,t){i(e.head||e,t)}function Ae(e,t,n){e.insertBefore(t,n||null)}function me(e){e.parentNode.removeChild(e)}function tt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function B(e){return document.createTextNode(e)}function k(){return B(" ")}function mn(){return B("")}function m(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function o(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Vt(e){return e===""?null:+e}function Nn(e){return Array.from(e.childNodes)}function Ie(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function wt(e,t){e.value=t==null?"":t}function w(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function U(e,t,n){e.classList[n?"add":"remove"](t)}function Pn(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,l,t),s}const Mt=new Map;let Ct=0;function Sn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Fn(e,t){const n={stylesheet:Mn(t),rules:{}};return Mt.set(e,n),n}function bn(e,t,n,l,s,a,r,h=0){const v=16.666/l;let d=`{
`;for(let b=0;b<=1;b+=v){const y=t+(n-t)*a(b);d+=b*100+`%{${r(y,1-y)}}
`}const N=d+`100% {${r(n,1-n)}}
}`,A=`__svelte_${Sn(N)}_${h}`,F=gn(e),{stylesheet:P,rules:E}=Mt.get(F)||Fn(F,e);E[A]||(E[A]=!0,P.insertRule(`@keyframes ${A} ${N}`,P.cssRules.length));const K=e.style.animation||"";return e.style.animation=`${K?`${K}, `:""}${A} ${l}ms linear ${s}ms 1 both`,Ct+=1,A}function Bt(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),s=n.length-l.length;s&&(e.style.animation=l.join(", "),Ct-=s,Ct||On())}function On(){qt(()=>{Ct||(Mt.forEach(e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}}),Mt.clear())})}let Jt;function ft(e){Jt=e}const ct=[],Yt=[],At=[],Gt=[],Rn=Promise.resolve();let zt=!1;function Ln(){zt||(zt=!0,Rn.then(yn))}function nt(e){At.push(e)}const Ot=new Set;let Dt=0;function yn(){const e=Jt;do{for(;Dt<ct.length;){const t=ct[Dt];Dt++,ft(t),Tn(t.$$)}for(ft(null),ct.length=0,Dt=0;Yt.length;)Yt.pop()();for(let t=0;t<At.length;t+=1){const n=At[t];Ot.has(n)||(Ot.add(n),n())}At.length=0}while(ct.length);for(;Gt.length;)Gt.pop()();zt=!1,Ot.clear(),ft(e)}function Tn(e){if(e.fragment!==null){e.update(),Je(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(nt)}}let ut;function kn(){return ut||(ut=Promise.resolve(),ut.then(()=>{ut=null})),ut}function Nt(e,t,n){e.dispatchEvent(Pn(`${t?"intro":"outro"}${n}`))}const Et=new Set;let Fe;function Bn(){Fe={r:0,c:[],p:Fe}}function zn(){Fe.r||Je(Fe.c),Fe=Fe.p}function Kt(e,t){e&&e.i&&(Et.delete(e),e.i(t))}function Ht(e,t,n,l){if(e&&e.o){if(Et.has(e))return;Et.add(e),Fe.c.push(()=>{Et.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}const wn={duration:0};function jn(e,t,n){let l=t(e,n),s=!1,a,r,h=0;function v(){a&&Bt(e,a)}function d(){const{delay:A=0,duration:F=300,easing:P=jt,tick:E=pt,css:K}=l||wn;K&&(a=bn(e,0,1,F,A,P,K,h++)),E(0,1);const b=_n()+A,y=b+F;r&&r.abort(),s=!0,nt(()=>Nt(e,!0,"start")),r=hn(Z=>{if(s){if(Z>=y)return E(1,0),Nt(e,!0,"end"),v(),s=!1;if(Z>=b){const Re=P((Z-b)/F);E(Re,1-Re)}}return s})}let N=!1;return{start(){N||(N=!0,Bt(e),It(l)?(l=l(),kn().then(d)):d())},invalidate(){N=!1},end(){s&&(v(),s=!1)}}}function In(e,t,n){let l=t(e,n),s=!0,a;const r=Fe;r.r+=1;function h(){const{delay:v=0,duration:d=300,easing:N=jt,tick:A=pt,css:F}=l||wn;F&&(a=bn(e,1,0,d,v,N,F));const P=_n()+v,E=P+d;nt(()=>Nt(e,!1,"start")),hn(K=>{if(s){if(K>=E)return A(0,1),Nt(e,!1,"end"),--r.r||Je(r.c),!1;if(K>=P){const b=N((K-P)/d);A(1-b,b)}}return s})}return It(l)?kn().then(()=>{l=l(),h()}):h(),{end(v){v&&l.tick&&l.tick(1,0),s&&(a&&Bt(e,a),s=!1)}}}function qn(e,t,n,l){const{fragment:s,on_mount:a,on_destroy:r,after_update:h}=e.$$;s&&s.m(t,n),l||nt(()=>{const v=a.map(pn).filter(It);r?r.push(...v):Je(v),e.$$.on_mount=[]}),h.forEach(nt)}function Jn(e,t){const n=e.$$;n.fragment!==null&&(Je(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Un(e,t){e.$$.dirty[0]===-1&&(ct.push(e),Ln(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Vn(e,t,n,l,s,a,r,h=[-1]){const v=Jt;ft(e);const d=e.$$={fragment:null,ctx:null,props:a,update:pt,not_equal:s,bound:Ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(v?v.$$.context:[])),callbacks:Ut(),dirty:h,skip_bound:!1,root:t.target||v.$$.root};r&&r(d.root);let N=!1;if(d.ctx=n?n(e,t.props||{},(A,F,...P)=>{const E=P.length?P[0]:F;return d.ctx&&s(d.ctx[A],d.ctx[A]=E)&&(!d.skip_bound&&d.bound[A]&&d.bound[A](E),N&&Un(e,A)),F}):[],d.update(),N=!0,Je(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const A=Nn(t.target);d.fragment&&d.fragment.l(A),A.forEach(me)}else d.fragment&&d.fragment.c();t.intro&&Kt(e.$$.fragment),qn(e,t.target,t.anchor,t.customElement),yn()}ft(v)}class Yn{$destroy(){Jn(this,1),this.$destroy=pt}$on(t,n){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!Kn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Qt(e,{delay:t=0,duration:n=400,easing:l=jt}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:l,css:a=>`opacity: ${a*s}`}}function Wt(e,t,n){const l=e.slice();return l[79]=t[n],l[81]=n,l}function Xt(e,t,n){const l=e.slice();return l[82]=t[n],l[84]=n,l}function Zt(e,t,n){const l=e.slice();return l[79]=t[n],l[81]=n,l}function xt(e,t,n){const l=e.slice();return l[86]=t[n],l}function $t(e,t,n){const l=e.slice();return l[89]=t[n],l[81]=n,l}function en(e,t,n){const l=e.slice();return l[91]=t[n],l}function tn(e){let t,n=`${qe-e[91]}px`,l=`${Pt-e[91]}px`;return{c(){t=p("div"),o(t,"class","panel_back svelte-pdvnua"),w(t,"width",n,!1),w(t,"height",l,!1),w(t,"background",e[21][e[22][e[81]]],!1)},m(s,a){Ae(s,t,a)},p(s,a){a[0]&32768&&n!==(n=`${qe-s[91]}px`)&&w(t,"width",n,!1),a[0]&32768&&l!==(l=`${Pt-s[91]}px`)&&w(t,"height",l,!1)},d(s){s&&me(t)}}}function nn(e){let t,n,l,s=e[23][e[81]]+"",a,r,h=`${qe+1}px`,v=`${Pt+1}px`,d=`${e[19][e[81]]*Pt}px`,N=`${e[20][e[81]]*qe}px`,A,F,P=e[15][e[81]],E=[];for(let K=0;K<P.length;K+=1)E[K]=tn(en(e,P,K));return{c(){t=p("div");for(let K=0;K<E.length;K+=1)E[K].c();n=k(),l=p("div"),a=B(s),r=k(),o(l,"class","svelte-pdvnua"),o(t,"class","panel svelte-pdvnua"),w(t,"width",h,!1),w(t,"height",v,!1),w(t,"top",d,!1),w(t,"left",N,!1),w(t,"background",e[17][e[81]],!1)},m(K,b){Ae(K,t,b);for(let y=0;y<E.length;y+=1)E[y].m(t,null);i(t,n),i(t,l),i(l,a),i(t,r),A||(F=m(t,"click",e[30](e[81])),A=!0)},p(K,b){if(e=K,b[0]&6324224){P=e[15][e[81]];let y;for(y=0;y<P.length;y+=1){const Z=en(e,P,y);E[y]?E[y].p(Z,b):(E[y]=tn(Z),E[y].c(),E[y].m(t,n))}for(;y<E.length;y+=1)E[y].d(1);E.length=P.length}b[0]&131072&&w(t,"background",e[17][e[81]],!1)},d(K){K&&me(t),tt(E,K),A=!1,F()}}}function ln(e){let t,n=`${Oe+1}px`,l=`${e[18]/e[1]*2+1}px`,s=`${e[86]*2}px`,a=`${e[81]*Oe}px`,r,h;function v(){return e[53](e[86])}return{c(){t=p("div"),o(t,"class","grid svelte-pdvnua"),w(t,"width",n,!1),w(t,"height",l,!1),w(t,"top",s,!1),w(t,"left",a,!1)},m(d,N){Ae(d,t,N),r||(h=m(t,"click",v),r=!0)},p(d,N){e=d,N[0]&2&&l!==(l=`${e[18]/e[1]*2+1}px`)&&w(t,"height",l,!1),N[0]&16384&&s!==(s=`${e[86]*2}px`)&&w(t,"top",s,!1)},d(d){d&&me(t),r=!1,h()}}}function sn(e){let t,n=e[14],l=[];for(let s=0;s<n.length;s+=1)l[s]=ln(xt(e,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=mn()},m(s,a){for(let r=0;r<l.length;r+=1)l[r].m(s,a);Ae(s,t,a)},p(s,a){if(a[0]&17055762){n=s[14];let r;for(r=0;r<n.length;r+=1){const h=xt(s,n,r);l[r]?l[r].p(h,a):(l[r]=ln(h),l[r].c(),l[r].m(t.parentNode,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){tt(l,s),s&&me(t)}}}function on(e){let t,n=`${e[10]*2}px`,l=`${Oe*18}px`;return{c(){t=p("div"),o(t,"class","cursor_play svelte-pdvnua"),w(t,"top",n,!1),w(t,"width",l,!1)},m(s,a){Ae(s,t,a)},p(s,a){a[0]&1024&&n!==(n=`${s[10]*2}px`)&&w(t,"top",n,!1)},d(s){s&&me(t)}}}function rn(e){let t,n=`${Oe+1}px`,l=`${Rt}px`,s=`${e[82]*2-Rt/2}px`,a=`${e[81]*Oe}px`;return{c(){t=p("div"),o(t,"class","note svelte-pdvnua"),w(t,"width",n,!1),w(t,"height",l,!1),w(t,"top",s,!1),w(t,"left",a,!1),w(t,"background",e[21][e[22][e[81]]],!1)},m(r,h){Ae(r,t,h)},p(r,h){h[0]&65536&&s!==(s=`${r[82]*2-Rt/2}px`)&&w(t,"top",s,!1)},d(r){r&&me(t)}}}function an(e){let t,n=e[79],l=[];for(let s=0;s<n.length;s+=1)l[s]=rn(Xt(e,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=mn()},m(s,a){for(let r=0;r<l.length;r+=1)l[r].m(s,a);Ae(s,t,a)},p(s,a){if(a[0]&6356992){n=s[79];let r;for(r=0;r<n.length;r+=1){const h=Xt(s,n,r);l[r]?l[r].p(h,a):(l[r]=rn(h),l[r].c(),l[r].m(t.parentNode,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){tt(l,s),s&&me(t)}}}function un(e){let t,n,l,s,a,r,h;return{c(){t=p("div"),n=B(e[7]),o(t,"class","message svelte-pdvnua"),w(t,"background",e[8],!1)},m(v,d){Ae(v,t,d),i(t,n),a=!0,r||(h=m(t,"click",e[56]),r=!0)},p(v,d){(!a||d[0]&128)&&Ie(n,v[7]),d[0]&256&&w(t,"background",v[8],!1)},i(v){a||(nt(()=>{s&&s.end(1),l=jn(t,Qt,{duration:100}),l.start()}),a=!0)},o(v){l&&l.invalidate(),s=In(t,Qt,{duration:300}),a=!1},d(v){v&&me(t),v&&s&&s.end(),r=!1,h()}}}function Gn(e){let t,n,l,s=e[4]+1+"",a,r,h=(e[0]-e[4]*192)/(e[18]/e[1])+1+"",v,d,N,A,F=Math.round(e[13])+"",P,E,K,b,y,Z,Re,Le,be,Ee,z,V,j,L,Y,x,R,g,$,T,oe,Te,X,Ke,G,Be,ce,ve,ie,he,H,ye,ee,Ue,pe,de,ke,dt,C,Ve,ge,lt,we,_t,_e,vt,De,Me,st,I,ze,Ye,Ce,Ge=`${(e[0]-e[4]*e[18])*2}px`,St=`${Oe*18}px`,ht,Ft=`${e[18]*2+10}px`,gt,re,mt,He=e[11].toFixed(2)+"",ot,bt,ae,yt,Qe=e[12].toFixed(2)+"",it,kt,ue,c,_,S,M,Q,fe,O,q,Ne,rt,Pe,at,je,W,We,Xe,Ze=e[2],te=[];for(let u=0;u<Ze.length;u+=1)te[u]=nn($t(e,Ze,u));let xe=e[16],ne=[];for(let u=0;u<xe.length;u+=1)ne[u]=sn(Zt(e,xe,u));let le=e[10]>=0&&on(e),$e=e[16],se=[];for(let u=0;u<$e.length;u+=1)se[u]=an(Wt(e,$e,u));let J=e[7]!==""&&un(e);return{c(){t=p("main"),n=p("div"),l=p("div"),a=B(s),r=B("\u5C0F\u7BC0\u76EE, "),v=B(h),d=B("/"),N=B(e[1]),A=B(" ("),P=B(F),E=B("f)"),K=k(),b=p("div"),y=p("input"),Re=k(),Le=p("label"),Le.textContent="\u3053\u306E\u5C0F\u7BC0\u3067\u8A2D\u5B9A\u5909\u66F4",be=B(` |\r
      `),Ee=p("label"),Ee.textContent="\u958B\u59CB\u30D5\u30EC\u30FC\u30E0:",z=k(),V=p("input"),j=k(),L=p("label"),L.textContent="BPM:",Y=k(),x=p("input"),R=k(),g=p("div"),$=p("input"),T=k(),oe=p("input"),Te=k(),X=p("input"),Ke=k(),G=p("input"),Be=k(),ce=p("input"),ve=k(),ie=p("input"),he=k(),H=p("input"),ye=k(),ee=p("input"),Ue=k(),pe=p("input"),de=k(),ke=p("input"),dt=k(),C=p("input"),Ve=k(),ge=p("input"),lt=k(),we=p("input"),_t=k(),_e=p("input"),vt=k(),De=p("div"),Me=p("div");for(let u=0;u<te.length;u+=1)te[u].c();st=k(),I=p("div");for(let u=0;u<ne.length;u+=1)ne[u].c();ze=k(),le&&le.c(),Ye=k(),Ce=p("div"),ht=k();for(let u=0;u<se.length;u+=1)se[u].c();gt=k(),re=p("div"),mt=B("\u97F3\u91CF("),ot=B(He),bt=B(`)\r
      `),ae=p("input"),yt=B(`\r
      \u901F\u5EA6(`),it=B(Qe),kt=B(`)\r
      `),ue=p("input"),c=k(),_=p("div"),_.textContent="\u753B\u9762\u306B\u30D5\u30A1\u30A4\u30EB\u3092\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF/\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u3092\u8AAD\u307F\u8FBC\u307F",S=k(),M=p("div"),Q=p("input"),fe=k(),O=p("input"),q=k(),Ne=p("input"),rt=k(),Pe=p("div"),J&&J.c(),at=k(),je=p("footer"),je.textContent=`Pun\u25C7Pane Editor Ver.${Dn}`,o(y,"type","checkbox"),y.checked=Z=e[6]===e[4],o(y,"id","fix"),o(Le,"for","fix"),o(Le,"class","svelte-pdvnua"),o(Ee,"for","begin_frame"),o(Ee,"class","svelte-pdvnua"),o(V,"type","number"),V.value=e[5],o(V,"id","begin_frame"),o(V,"class","svelte-pdvnua"),o(L,"for","bpm"),o(L,"class","svelte-pdvnua"),o(x,"type","number"),x.value=e[3],o(x,"step","0.01"),o(x,"id","bpm"),o(x,"class","svelte-pdvnua"),o(b,"class","main_input svelte-pdvnua"),o($,"type","button"),$.value="4",o($,"title","1\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30924\u5206\u306B\u5909\u66F4"),o($,"class","svelte-pdvnua"),U($,"selected",e[1]===4),o(oe,"type","button"),oe.value="8",o(oe,"title","2\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30928\u5206\u306B\u5909\u66F4"),o(oe,"class","svelte-pdvnua"),U(oe,"selected",e[1]===8),o(X,"type","button"),X.value="16",o(X,"title","3\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309216\u5206\u306B\u5909\u66F4"),o(X,"class","svelte-pdvnua"),U(X,"selected",e[1]===16),o(G,"type","button"),G.value="32",o(G,"title","R\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309232\u5206\u306B\u5909\u66F4"),o(G,"class","svelte-pdvnua"),U(G,"selected",e[1]===32),o(ce,"type","button"),ce.value="12",o(ce,"title","4\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309212\u5206(8\u52063\u9023)\u306B\u5909\u66F4"),o(ce,"class","svelte-pdvnua"),U(ce,"selected",e[1]===12),o(ie,"type","button"),ie.value="24",o(ie,"title","5\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309224\u5206(16\u52063\u9023)\u306B\u5909\u66F4"),o(ie,"class","svelte-pdvnua"),U(ie,"selected",e[1]===24),o(H,"type","button"),H.value="48",o(H,"title","6\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309248\u5206(32\u52063\u9023)\u306B\u5909\u66F4"),o(H,"class","svelte-pdvnua"),U(H,"selected",e[1]===48),o(ee,"type","button"),ee.value="\u2190",o(ee,"title","\u5DE6\u77E2\u5370\u30AD\u30FC: \u524D\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),o(ee,"class","svelte-pdvnua"),o(pe,"type","button"),pe.value="\u2191",o(pe,"title","\u4E0A\u77E2\u5370/E/B: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0A\u306B\u79FB\u52D5"),o(pe,"class","svelte-pdvnua"),o(ke,"type","button"),ke.value="\u2193",o(ke,"title","\u4E0B\u77E2\u5370/D/\u30B9\u30DA\u30FC\u30B9: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0B\u306B\u79FB\u52D5"),o(ke,"class","svelte-pdvnua"),o(C,"type","button"),C.value="\u2192",o(C,"title","\u53F3\u77E2\u5370\u30AD\u30FC: \u6B21\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),o(C,"class","svelte-pdvnua"),o(ge,"type","button"),ge.value="BS",o(ge,"title","Backspace: \u30AB\u30FC\u30BD\u30EB\u3092\u524D\u306B\u79FB\u52D5\u3057\u3066\u30D1\u30CD\u30EB\u3092\u524A\u9664"),o(ge,"class","svelte-pdvnua"),o(we,"type","button"),we.value="DEL",o(we,"title","Delete: \u30AB\u30FC\u30BD\u30EB\u306E\u3042\u308B\u884C\u306E\u30D1\u30CD\u30EB\u3092\u524A\u9664"),o(we,"class","svelte-pdvnua"),o(_e,"type","button"),_e.value="Enter",o(_e,"title","Enter: \u66F2\u518D\u751F\u306E\u958B\u59CB/\u505C\u6B62"),o(_e,"class","svelte-pdvnua"),o(g,"class","main_buttons svelte-pdvnua"),o(Me,"class","panels svelte-pdvnua"),o(Me,"style",`left: ${Oe*18+20}px; width: ${qe*5}px;`),o(Ce,"class","cursor svelte-pdvnua"),w(Ce,"top",Ge,!1),w(Ce,"width",St,!1),o(I,"class","notes svelte-pdvnua"),o(De,"class","punpane_editor svelte-pdvnua"),w(De,"height",Ft,!1),o(ae,"type","range"),o(ae,"min","0"),o(ae,"max","1"),o(ae,"step","0.01"),o(ue,"type","range"),o(ue,"min","0.1"),o(ue,"max","1.5"),o(ue,"step","0.1"),o(re,"class","music_control svelte-pdvnua"),o(_,"class","drop_area svelte-pdvnua"),U(_,"dragover",e[9]),o(Q,"type","button"),Q.value="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u304B\u3089\u8AAD\u307F\u8FBC\u307F",o(Q,"class","svelte-pdvnua"),o(O,"type","button"),O.value="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u4FDD\u5B58",o(O,"class","svelte-pdvnua"),o(Ne,"type","button"),Ne.value="dos\u306E\u4FDD\u5B58",o(Ne,"class","svelte-pdvnua"),o(M,"class","save_buttons svelte-pdvnua"),o(Pe,"class","message_container svelte-pdvnua"),o(je,"class","svelte-pdvnua"),o(n,"class","container svelte-pdvnua"),U(n,"dragover",e[9]),w(n,"width",`${Oe*18+20+qe*5}px`,!1)},m(u,D){Ae(u,t,D),i(t,n),i(n,l),i(l,a),i(l,r),i(l,v),i(l,d),i(l,N),i(l,A),i(l,P),i(l,E),i(n,K),i(n,b),i(b,y),i(b,Re),i(b,Le),i(b,be),i(b,Ee),i(b,z),i(b,V),i(b,j),i(b,L),i(b,Y),i(b,x),i(n,R),i(n,g),i(g,$),i(g,T),i(g,oe),i(g,Te),i(g,X),i(g,Ke),i(g,G),i(g,Be),i(g,ce),i(g,ve),i(g,ie),i(g,he),i(g,H),i(g,ye),i(g,ee),i(g,Ue),i(g,pe),i(g,de),i(g,ke),i(g,dt),i(g,C),i(g,Ve),i(g,ge),i(g,lt),i(g,we),i(g,_t),i(g,_e),i(n,vt),i(n,De),i(De,Me);for(let f=0;f<te.length;f+=1)te[f].m(Me,null);i(De,st),i(De,I);for(let f=0;f<ne.length;f+=1)ne[f].m(I,null);i(I,ze),le&&le.m(I,null),i(I,Ye),i(I,Ce),i(I,ht);for(let f=0;f<se.length;f+=1)se[f].m(I,null);i(n,gt),i(n,re),i(re,mt),i(re,ot),i(re,bt),i(re,ae),wt(ae,e[11]),i(re,yt),i(re,it),i(re,kt),i(re,ue),wt(ue,e[12]),i(n,c),i(n,_),i(n,S),i(n,M),i(M,Q),i(M,fe),i(M,O),i(M,q),i(M,Ne),i(n,rt),i(n,Pe),J&&J.m(Pe,null),i(n,at),i(n,je),W=!0,We||(Xe=[m(window,"beforeunload",e[47]),m(window,"keydown",e[45]),m(window,"wheel",e[46]),m(window,"drop",e[44]),m(window,"dragover",e[42]),m(window,"dragleave",e[43]),m(y,"change",e[39]),m(V,"change",e[40]),m(x,"change",e[41]),m($,"click",e[29](4)),m(oe,"click",e[29](8)),m(X,"click",e[29](16)),m(G,"click",e[29](32)),m(ce,"click",e[29](12)),m(ie,"click",e[29](24)),m(H,"click",e[29](48)),m(ee,"click",e[27]),m(pe,"click",e[25]),m(ke,"click",e[26]),m(C,"click",e[28]),m(ge,"click",e[32]),m(we,"click",e[31]),m(_e,"click",e[36]),m(ae,"change",e[54]),m(ae,"input",e[54]),m(ae,"input",e[37]),m(ue,"change",e[55]),m(ue,"input",e[55]),m(ue,"input",e[38]),m(Q,"click",e[34]),m(O,"click",e[33]),m(Ne,"click",e[35])],We=!0)},p(u,D){if((!W||D[0]&16)&&s!==(s=u[4]+1+"")&&Ie(a,s),(!W||D[0]&19)&&h!==(h=(u[0]-u[4]*192)/(u[18]/u[1])+1+"")&&Ie(v,h),(!W||D[0]&2)&&Ie(N,u[1]),(!W||D[0]&8192)&&F!==(F=Math.round(u[13])+"")&&Ie(P,F),(!W||D[0]&80&&Z!==(Z=u[6]===u[4]))&&(y.checked=Z),(!W||D[0]&32&&V.value!==u[5])&&(V.value=u[5]),(!W||D[0]&8&&x.value!==u[3])&&(x.value=u[3]),D[0]&2&&U($,"selected",u[1]===4),D[0]&2&&U(oe,"selected",u[1]===8),D[0]&2&&U(X,"selected",u[1]===16),D[0]&2&&U(G,"selected",u[1]===32),D[0]&2&&U(ce,"selected",u[1]===12),D[0]&2&&U(ie,"selected",u[1]===24),D[0]&2&&U(H,"selected",u[1]===48),D[0]&1090158596){Ze=u[2];let f;for(f=0;f<Ze.length;f+=1){const Se=$t(u,Ze,f);te[f]?te[f].p(Se,D):(te[f]=nn(Se),te[f].c(),te[f].m(Me,null))}for(;f<te.length;f+=1)te[f].d(1);te.length=Ze.length}if(D[0]&17121298){xe=u[16];let f;for(f=0;f<xe.length;f+=1){const Se=Zt(u,xe,f);ne[f]?ne[f].p(Se,D):(ne[f]=sn(Se),ne[f].c(),ne[f].m(I,ze))}for(;f<ne.length;f+=1)ne[f].d(1);ne.length=xe.length}if(u[10]>=0?le?le.p(u,D):(le=on(u),le.c(),le.m(I,Ye)):le&&(le.d(1),le=null),D[0]&17&&Ge!==(Ge=`${(u[0]-u[4]*u[18])*2}px`)&&w(Ce,"top",Ge,!1),D[0]&6356992){$e=u[16];let f;for(f=0;f<$e.length;f+=1){const Se=Wt(u,$e,f);se[f]?se[f].p(Se,D):(se[f]=an(Se),se[f].c(),se[f].m(I,null))}for(;f<se.length;f+=1)se[f].d(1);se.length=$e.length}(!W||D[0]&2048)&&He!==(He=u[11].toFixed(2)+"")&&Ie(ot,He),D[0]&2048&&wt(ae,u[11]),(!W||D[0]&4096)&&Qe!==(Qe=u[12].toFixed(2)+"")&&Ie(it,Qe),D[0]&4096&&wt(ue,u[12]),D[0]&512&&U(_,"dragover",u[9]),u[7]!==""?J?(J.p(u,D),D[0]&128&&Kt(J,1)):(J=un(u),J.c(),Kt(J,1),J.m(Pe,null)):J&&(Bn(),Ht(J,1,1,()=>{J=null}),zn()),D[0]&512&&U(n,"dragover",u[9])},i(u){W||(Kt(J),W=!0)},o(u){Ht(J),W=!1},d(u){u&&me(t),tt(te,u),tt(ne,u),le&&le.d(),tt(se,u),J&&J.d(),We=!1,Je(Xe)}}}const Dn="20220704-1",cn=18,qe=96,Pt=96,Oe=20,Rt=6,Hn=100,fn=0,Lt=200,Tt=160;function Qn(e,t,n){let l,s,a,r,h,v,d,N,A,F,P;const K=[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],b=[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4],y=["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],Z=[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],Re="7890-UIOPJKL;NM<>/".split(""),Le="aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de".split(","),be={success:"#99ccff",error:"#ffcccc"};let Ee=1,z=0,V=16,j=[0],L=[Lt],Y=[Tt],x=null,R="",g=be.success,$=!1,T=new Array(cn).fill([]),oe,Te=-1,X=1,Ke=1;const G=new AudioContext,Be=G.createGain();Be.connect(G.destination);let ce,ve,ie=!1,he=!1;const H=c=>{n(7,R=""),he&&Math.floor(c/192)!==Math.floor(z/192)&&setTimeout(I,0),n(0,z=c)},ye=()=>H(z-3*64/V),ee=()=>H(z+3*64/V),Ue=()=>H((l-1)*192),pe=()=>H((l+1)*192),de=c=>()=>{n(7,R=""),n(1,V=c),n(0,z=Math.floor(z/(192/c))*(192/c))},ke=(c,_)=>{n(2,T[c]=[...T[c],_],T)},dt=(c,_)=>{n(2,T[c]=T[c].filter(S=>S!==_),T)},C=c=>()=>{n(7,R=""),T[c].includes(z)?dt(c,z):ke(c,z),x===null&&(x=setTimeout(()=>{x=null,ee()},Hn))},Ve=()=>{n(7,R=""),n(2,T=T.map(c=>c.filter(_=>_!==z)))},ge=()=>{ye(),Ve()},lt=(c,_="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002")=>{navigator.clipboard?(navigator.clipboard.writeText(c),n(7,R=_),n(8,g=be.success)):prompt("\u30B3\u30D4\u30FC\u3057\u3066\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044\u3002",c)},we=()=>JSON.stringify({panels:T,label_measures:j,begin_frames:L,bpms:Y,resolution:192,chart_num:Ee,editor_version:Dn,save_data_version:0}),_t=()=>lt(we(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),_e=c=>{var S,M,Q,fe;let _;if(confirm("\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u8FBC\u3080\u3068\u73FE\u5728\u7DE8\u96C6\u4E2D\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F")!==!1){try{_=JSON.parse(c)}catch(O){console.log(O),n(7,R="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002"),n(8,g=be.error);return}n(2,T=(S=_.panels)!=null?S:new Array(cn).fill([])),n(48,j=(M=_.label_measures)!=null?M:[]),n(49,L=(Q=_.begin_frames)!=null?Q:[]),n(50,Y=(fe=_.bpms)!=null?fe:[]),Ee=_.chart_num}},vt=()=>{if(navigator.clipboard)navigator.clipboard.readText().then(c=>_e(c));else{const c=prompt("\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8CBC\u308A\u4ED8\u3051\u3066\u304F\u3060\u3055\u3044\u3002");c&&c!==""&&_e(c)}},De=()=>T.map((c,_)=>`|${Le[_]}_data=`+[...c.map(S=>{var rt,Pe,at,je,W,We;const M=Math.floor(S/192),Q=Math.max(...j.filter(Xe=>M>=Xe)),fe=j.findIndex(Xe=>Xe===Q),O=(Pe=(rt=j[fe])!=null?rt:j[0])!=null?Pe:fn,q=(je=(at=L[fe])!=null?at:L[0])!=null?je:Lt,Ne=(We=(W=Y[fe])!=null?W:Y[0])!=null?We:Tt;return Math.round((S-O*192)/192*4*60*60/Ne+q)})].sort().join(",")).join("")+"|",Me=()=>lt(De(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306Bdos\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),st=()=>{!he||(n(10,Te=((G.currentTime-oe)*v/60/4-.5)*192),Te>192&&(ze(),I()),requestAnimationFrame(st))},I=()=>{if(he&&ze(),ie){const _=((l-r-.5)*4*60*60/v+h-200)/60,S=_<0?-_:0;Be.gain.value=X,ve=G.createBufferSource(),ve.buffer=ce,ve.playbackRate.value=Ke,ve.connect(Be),oe=G.currentTime+S,ve.start(oe+S,Math.max(_,0)),requestAnimationFrame(st),he=!0}else n(7,R="\u518D\u751F\u6E96\u5099\u304C\u672A\u5B8C\u4E86\u3067\u3059\u3002"),n(8,g=be.error)},ze=()=>{ve.stop(),n(10,Te=-1),he=!1},Ye=()=>{he?ze():I()},Ce=()=>{Be.gain.value=X},Ge=()=>{ve.playbackRate.value=Ke,he&&I()},St=c=>{if(n(7,R=""),c.target.checked)n(48,j=[...j,l]),n(49,L=[...L,Math.round(d)]),n(50,Y=[...Y,v]);else{const _=a;n(48,j=j.filter((S,M)=>_!==M)),n(49,L=L.filter((S,M)=>_!==M)),n(50,Y=Y.filter((S,M)=>_!==M))}},ht=c=>{n(7,R="");const _=c.target.value;isNaN(_)||n(49,L[a]=parseFloat(_),L)},Ft=c=>{n(7,R="");const _=c.target.value;isNaN(_)||n(50,Y[a]=parseFloat(_),Y)},gt=c=>{c.preventDefault(),n(9,$=!0),n(7,R="")},re=c=>{c.preventDefault(),n(9,$=!1),n(7,R="")},mt=c=>{if(c.stopPropagation(),c.preventDefault(),n(9,$=!1),n(7,R=""),!c.dataTransfer||!c.dataTransfer.files)return;const _=c.dataTransfer.files;if(_.length===0)return;const S=_[0];if(S.type.match(/^audio/)){ie=!1;const M=new FileReader;M.onload=()=>{G.decodeAudioData(M.result,Q=>{ce=Q,n(7,R="\u97F3\u697D\u30D5\u30A1\u30A4\u30EB\u306E\u8AAD\u307F\u8FBC\u307F\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\u3002"),n(8,g=be.success),ie=!0})},M.readAsArrayBuffer(S)}else if(S.type==="text/plain"){const M=new FileReader;M.onload=()=>{_e(M.result)},M.readAsText(S)}else n(7,R="\u975E\u5BFE\u5FDC\u306E\u30D5\u30A1\u30A4\u30EB\u30BF\u30A4\u30D7\u3067\u3059("+S.type+")"),n(8,g=be.error)},He={ArrowUp:ye,ArrowDown:ee,ArrowLeft:Ue,ArrowRight:pe,KeyE:ye,KeyD:ee,KeyS:Ue,KeyF:pe,KeyB:ye,Space:ee,Digit1:de(4),Digit2:de(8),Digit3:de(16),Digit4:de(12),Digit5:de(24),Digit6:de(48),KeyR:de(32),Digit7:C(0),Digit8:C(1),Digit9:C(2),Digit0:C(3),Minus:C(4),KeyU:C(5),KeyI:C(6),KeyO:C(7),KeyP:C(8),KeyJ:C(9),KeyK:C(10),KeyL:C(11),Semicolon:C(12),KeyN:C(13),KeyM:C(14),Comma:C(15),Period:C(16),Slash:C(17),Delete:Ve,Backspace:ge,Enter:Ye},ot={},bt=c=>{if(c.target.type!=="number"){const _=c.ctrlKey?ot:He;_[c.code]&&(_[c.code](),c.preventDefault())}},ae=c=>{c.deltaY>0?ee():c.deltaY<0&&ye()},yt=c=>{c.preventDefault(),c.returnValue="\u30DA\u30FC\u30B8\u3092\u79FB\u52D5\u3057\u3066\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F\u73FE\u5728\u7DE8\u96C6\u4E2D\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002"},Qe=c=>H(l*192+c);function it(){X=Vt(this.value),n(11,X)}function kt(){Ke=Vt(this.value),n(12,Ke)}const ue=()=>n(7,R="");return e.$$.update=()=>{var c,_,S,M,Q,fe;e.$$.dirty[0]&1&&n(4,l=Math.floor(z/192)),e.$$.dirty[0]&16|e.$$.dirty[1]&131072&&n(52,s=Math.max(...j.filter(O=>l>=O))),e.$$.dirty[1]&2228224&&n(51,a=j.findIndex(O=>O===s)),e.$$.dirty[1]&1179648&&n(6,r=(_=(c=j[a])!=null?c:j[0])!=null?_:fn),e.$$.dirty[1]&1310720&&n(5,h=(M=(S=L[a])!=null?S:L[0])!=null?M:Lt),e.$$.dirty[1]&1572864&&n(3,v=(fe=(Q=Y[a])!=null?Q:Y[0])!=null?fe:Tt),e.$$.dirty[0]&105&&n(13,d=(z-r*192)/192*4*60*60/v+h),e.$$.dirty[0]&5&&n(17,N=T.map((O,q)=>O.includes(z)?y[Z[q]]:y[0])),e.$$.dirty[0]&20&&n(16,A=T.map(O=>O.map(q=>q-l*192).filter(q=>q>=0&&q<192))),e.$$.dirty[0]&5&&n(15,F=T.map(O=>O.map(q=>z-q).filter(q=>q>0&&q<=qe))),e.$$.dirty[0]&2&&n(14,P=new Array(V).fill(0).map((O,q)=>192/V*q))},[z,V,T,v,l,h,r,R,g,$,Te,X,Ke,d,P,F,A,N,192,K,b,y,Z,Re,H,ye,ee,Ue,pe,de,C,Ve,ge,_t,vt,Me,Ye,Ce,Ge,St,ht,Ft,gt,re,mt,bt,ae,yt,j,L,Y,a,s,Qe,it,kt,ue]}class Wn extends Yn{constructor(t){super(),Vn(this,t,Qn,Gn,En,{},null,[-1,-1,-1,-1])}}new Wn({target:document.getElementById("app")});
