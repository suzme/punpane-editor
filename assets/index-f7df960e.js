(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function l(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=l(o);fetch(o.href,a)}})();function Be(){}const al=e=>e;function Il(e){return e()}function dl(){return Object.create(null)}function xe(e){e.forEach(Il)}function xt(e){return typeof e=="function"}function xl(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function en(e){return Object.keys(e).length===0}function ml(e){return e??""}const Jl=typeof window<"u";let Ul=Jl?()=>window.performance.now():()=>Date.now(),ul=Jl?e=>requestAnimationFrame(e):Be;const bt=new Set;function ql(e){bt.forEach(t=>{t.c(e)||(bt.delete(t),t.f())}),bt.size!==0&&ul(ql)}function Vl(e){let t;return bt.size===0&&ul(ql),{promise:new Promise(l=>{bt.add(t={c:e,f:l})}),abort(){bt.delete(t)}}}function r(e,t){e.appendChild(t)}function zl(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function tn(e){const t=p("style");return ln(zl(e),t),t.sheet}function ln(e,t){return r(e.head||e,t),t.sheet}function ye(e,t,l){e.insertBefore(t,l||null)}function ce(e){e.parentNode&&e.parentNode.removeChild(e)}function We(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function p(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function D(){return L(" ")}function Gl(){return L("")}function v(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function s(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Xt(e){return e===""?null:+e}function nn(e){return Array.from(e.childNodes)}function Ge(e,t){t=""+t,e.data!==t&&(e.data=t)}function mt(e,t){e.value=t??""}function m(e,t,l,n){l==null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}function zt(e,t,l){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t){o.selected=!0;return}}(!l||t!==void 0)&&(e.selectedIndex=-1)}function yl(e){const t=e.querySelector(":checked");return t&&t.__value}function q(e,t,l){e.classList[l?"add":"remove"](t)}function on(e,t,{bubbles:l=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,l,n,t),o}const Zt=new Map;let Ht=0;function sn(e){let t=5381,l=e.length;for(;l--;)t=(t<<5)-t^e.charCodeAt(l);return t>>>0}function rn(e,t){const l={stylesheet:tn(t),rules:{}};return Zt.set(e,l),l}function Wl(e,t,l,n,o,a,f,g=0){const k=16.666/n;let y=`{
`;for(let h=0;h<=1;h+=k){const K=t+(l-t)*a(h);y+=h*100+`%{${f(K,1-K)}}
`}const A=y+`100% {${f(l,1-l)}}
}`,b=`__svelte_${sn(A)}_${g}`,B=zl(e),{stylesheet:C,rules:N}=Zt.get(B)||rn(B,e);N[b]||(N[b]=!0,C.insertRule(`@keyframes ${b} ${A}`,C.cssRules.length));const E=e.style.animation||"";return e.style.animation=`${E?`${E}, `:""}${b} ${n}ms linear ${o}ms 1 both`,Ht+=1,b}function il(e,t){const l=(e.style.animation||"").split(", "),n=l.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),o=l.length-n.length;o&&(e.style.animation=n.join(", "),Ht-=o,Ht||an())}function an(){ul(()=>{Ht||(Zt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&ce(t)}),Zt.clear())})}let fl;function Pt(e){fl=e}const wt=[],wl=[];let vt=[];const bl=[],un=Promise.resolve();let sl=!1;function fn(){sl||(sl=!0,un.then(Xl))}function Ie(e){vt.push(e)}const nl=new Set;let yt=0;function Xl(){if(yt!==0)return;const e=fl;do{try{for(;yt<wt.length;){const t=wt[yt];yt++,Pt(t),cn(t.$$)}}catch(t){throw wt.length=0,yt=0,t}for(Pt(null),wt.length=0,yt=0;wl.length;)wl.pop()();for(let t=0;t<vt.length;t+=1){const l=vt[t];nl.has(l)||(nl.add(l),l())}vt.length=0}while(wt.length);for(;bl.length;)bl.pop()();sl=!1,nl.clear(),Pt(e)}function cn(e){if(e.fragment!==null){e.update(),xe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ie)}}function _n(e){const t=[],l=[];vt.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),vt=t}let Mt;function Yl(){return Mt||(Mt=Promise.resolve(),Mt.then(()=>{Mt=null})),Mt}function Qt(e,t,l){e.dispatchEvent(on(`${t?"intro":"outro"}${l}`))}const Yt=new Set;let Xe;function pn(){Xe={r:0,c:[],p:Xe}}function gn(){Xe.r||xe(Xe.c),Xe=Xe.p}function rl(e,t){e&&e.i&&(Yt.delete(e),e.i(t))}function vl(e,t,l,n){if(e&&e.o){if(Yt.has(e))return;Yt.add(e),Xe.c.push(()=>{Yt.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}const Zl={duration:0};function Hl(e,t,l){const n={direction:"in"};let o=t(e,l,n),a=!1,f,g,k=0;function y(){f&&il(e,f)}function A(){const{delay:B=0,duration:C=300,easing:N=al,tick:E=Be,css:h}=o||Zl;h&&(f=Wl(e,0,1,C,B,N,h,k++)),E(0,1);const K=Ul()+B,de=K+C;g&&g.abort(),a=!0,Ie(()=>Qt(e,!0,"start")),g=Vl(Me=>{if(a){if(Me>=de)return E(1,0),Qt(e,!0,"end"),y(),a=!1;if(Me>=K){const we=N((Me-K)/C);E(we,1-we)}}return a})}let b=!1;return{start(){b||(b=!0,il(e),xt(o)?(o=o(n),Yl().then(A)):A())},invalidate(){b=!1},end(){a&&(y(),a=!1)}}}function Ql(e,t,l){const n={direction:"out"};let o=t(e,l,n),a=!0,f;const g=Xe;g.r+=1;function k(){const{delay:y=0,duration:A=300,easing:b=al,tick:B=Be,css:C}=o||Zl;C&&(f=Wl(e,1,0,A,y,b,C));const N=Ul()+y,E=N+A;Ie(()=>Qt(e,!1,"start")),Vl(h=>{if(a){if(h>=E)return B(0,1),Qt(e,!1,"end"),--g.r||xe(g.c),!1;if(h>=N){const K=b((h-N)/A);B(1-K,K)}}return a})}return xt(o)?Yl().then(()=>{o=o(n),k()}):k(),{end(y){y&&o.tick&&o.tick(1,0),a&&(f&&il(e,f),a=!1)}}}function hn(e,t,l,n){const{fragment:o,after_update:a}=e.$$;o&&o.m(t,l),n||Ie(()=>{const f=e.$$.on_mount.map(Il).filter(xt);e.$$.on_destroy?e.$$.on_destroy.push(...f):xe(f),e.$$.on_mount=[]}),a.forEach(Ie)}function dn(e,t){const l=e.$$;l.fragment!==null&&(_n(l.after_update),xe(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function mn(e,t){e.$$.dirty[0]===-1&&(wt.push(e),fn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function yn(e,t,l,n,o,a,f,g=[-1]){const k=fl;Pt(e);const y=e.$$={fragment:null,ctx:[],props:a,update:Be,not_equal:o,bound:dl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(k?k.$$.context:[])),callbacks:dl(),dirty:g,skip_bound:!1,root:t.target||k.$$.root};f&&f(y.root);let A=!1;if(y.ctx=l?l(e,t.props||{},(b,B,...C)=>{const N=C.length?C[0]:B;return y.ctx&&o(y.ctx[b],y.ctx[b]=N)&&(!y.skip_bound&&y.bound[b]&&y.bound[b](N),A&&mn(e,b)),B}):[],y.update(),A=!0,xe(y.before_update),y.fragment=n?n(y.ctx):!1,t.target){if(t.hydrate){const b=nn(t.target);y.fragment&&y.fragment.l(b),b.forEach(ce)}else y.fragment&&y.fragment.c();t.intro&&rl(e.$$.fragment),hn(e,t.target,t.anchor,t.customElement),Xl()}Pt(k)}class wn{$destroy(){dn(this,1),this.$destroy=Be}$on(t,l){if(!xt(l))return Be;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!en(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function $t(e,{delay:t=0,duration:l=400,easing:n=al}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:l,easing:n,css:a=>`opacity: ${a*o}`}}const Ct={"18p":{panel_num:18,panel_width:96,panel_height:96,note_width:20,note_height:6,panel_top:[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],panel_left:[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4],colors:["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],panel_color_def:[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],names:"7890-UIOPJKL;NM<>/".split(""),dos_chara:"aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de".split(","),key_config:"Digit7,Digit8,Digit9,Digit0,Minus,KeyU,KeyI,KeyO,KeyP,KeyJ,KeyK,KeyL,Semicolon,KeyN,KeyM,Comma,Period,Slash".split(",")},"9t":{panel_num:9,panel_width:96,panel_height:96,note_width:30,note_height:6,panel_top:[0,0,0,1,1,1,2,2,2],panel_left:[0,1,2,0,1,2,0,1,2],colors:["#cccccc","#9999ff","#ff9999","#99ff99"],panel_color_def:[1,1,1,2,3,2,1,1,1],names:"789456123".split(""),dos_chara:"left,down,up,right,space,sleft,sdown,sup,sright".split(","),key_config:"Numpad7,Numpad8,Numpad9,Numpad4,Numpad5,Numpad6,Numpad1,Numpad2,Numpad3".split(",")},"36p":{panel_num:36,panel_width:48,panel_height:48,note_width:15,note_height:6,panel_top:[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],panel_left:[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4,5,6,7,8,9,5.5,6.5,7.5,8.5,5.5,6.5,7.5,8.5,5,6,7,8,9],colors:["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],panel_color_def:[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4,1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],names:"23456WERTSDFGZXCVB7890-UIOPJKL;NM<>/".split(""),dos_chara:"aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de,af,ag,ah,ai,aj,bf,bg,bh,bi,cf,cg,ch,ci,df,dg,dh,di,dj".split(","),key_config:"Digit2,Digit3,Digit4,Digit5,Digit6,KeyW,KeyE,KeyR,KeyT,KeyS,KeyD,KeyF,KeyG,KeyZ,KeyX,KeyC,KeyV,KeyB,Digit7,Digit8,Digit9,Digit0,Minus,KeyU,KeyI,KeyO,KeyP,KeyJ,KeyK,KeyL,Semicolon,KeyN,KeyM,Comma,Period,Slash".split(",")}};function kl(e,t,l){const n=e.slice();return n[94]=t[l],n[96]=l,n}function Kl(e,t,l){const n=e.slice();return n[97]=t[l],n[99]=l,n}function Dl(e,t,l){const n=e.slice();return n[94]=t[l],n[96]=l,n}function Nl(e,t,l){const n=e.slice();return n[101]=t[l],n[99]=l,n}function El(e,t,l){const n=e.slice();return n[103]=t[l],n[96]=l,n}function Al(e,t,l){const n=e.slice();return n[105]=t[l],n}function Ml(e,t,l){const n=e.slice();return n[108]=t[l],n}function Cl(e,t,l){const n=e.slice();return n[101]=t[l],n}function Pl(e){let t,l=e[101]+"",n;return{c(){t=p("option"),n=L(l),s(t,"num",e[101]),t.__value=e[101],t.value=t.__value},m(o,a){ye(o,t,a),r(t,n)},p:Be,d(o){o&&ce(t)}}}function Ol(e){let t,l=e[108]+"",n;return{c(){t=p("option"),n=L(l),s(t,"ratio",e[108]),t.__value=e[108],t.value=t.__value},m(o,a){ye(o,t,a),r(t,n)},p:Be,d(o){o&&ce(t)}}}function Sl(e){let t,l=`${e[0].panel_width-e[105]}px`,n=`${e[0].panel_height-e[105]}px`;return{c(){t=p("div"),s(t,"class","panel_back svelte-1ga6wgl"),m(t,"width",l),m(t,"height",n),m(t,"background",e[0].colors[e[0].panel_color_def[e[96]]])},m(o,a){ye(o,t,a)},p(o,a){a[0]&4194305&&l!==(l=`${o[0].panel_width-o[105]}px`)&&m(t,"width",l),a[0]&4194305&&n!==(n=`${o[0].panel_height-o[105]}px`)&&m(t,"height",n),a[0]&1&&m(t,"background",o[0].colors[o[0].panel_color_def[o[96]]])},d(o){o&&ce(t)}}}function Fl(e){let t,l,n,o=e[0].names[e[96]]+"",a,f,g=`${e[0].panel_width+1}px`,k=`${e[0].panel_height+1}px`,y=`${e[0].panel_top[e[96]]*e[0].panel_height}px`,A=`${e[0].panel_left[e[96]]*e[0].panel_width}px`,b,B,C=e[22][e[96]],N=[];for(let E=0;E<C.length;E+=1)N[E]=Sl(Al(e,C,E));return{c(){t=p("div");for(let E=0;E<N.length;E+=1)N[E].c();l=D(),n=p("div"),a=L(o),f=D(),s(n,"class","svelte-1ga6wgl"),s(t,"class","panel svelte-1ga6wgl"),m(t,"width",g),m(t,"height",k),m(t,"top",y),m(t,"left",A),m(t,"background",e[24][e[96]])},m(E,h){ye(E,t,h);for(let K=0;K<N.length;K+=1)N[K]&&N[K].m(t,null);r(t,l),r(t,n),r(n,a),r(t,f),b||(B=v(t,"click",e[35](e[96])),b=!0)},p(E,h){if(e=E,h[0]&4194305){C=e[22][e[96]];let K;for(K=0;K<C.length;K+=1){const de=Al(e,C,K);N[K]?N[K].p(de,h):(N[K]=Sl(de),N[K].c(),N[K].m(t,l))}for(;K<N.length;K+=1)N[K].d(1);N.length=C.length}h[0]&1&&o!==(o=e[0].names[e[96]]+"")&&Ge(a,o),h[0]&1&&g!==(g=`${e[0].panel_width+1}px`)&&m(t,"width",g),h[0]&1&&k!==(k=`${e[0].panel_height+1}px`)&&m(t,"height",k),h[0]&1&&y!==(y=`${e[0].panel_top[e[96]]*e[0].panel_height}px`)&&m(t,"top",y),h[0]&1&&A!==(A=`${e[0].panel_left[e[96]]*e[0].panel_width}px`)&&m(t,"left",A),h[0]&16777216&&m(t,"background",e[24][e[96]])},d(E){E&&ce(t),We(N,E),b=!1,B()}}}function Rl(e){let t,l,n=`${e[0].note_width+1}px`,o=`${e[25]/e[2]*2/e[5]+1}px`,a=`${e[101]*2/e[5]}px`,f=`${e[96]*e[0].note_width}px`,g,k;function y(){return e[65](e[101])}return{c(){t=p("div"),s(t,"class",l=ml(e[99]%(e[2]/4)==0?"grid4":"grid")+" svelte-1ga6wgl"),m(t,"width",n),m(t,"height",o),m(t,"top",a),m(t,"left",f)},m(A,b){ye(A,t,b),g||(k=v(t,"click",y),g=!0)},p(A,b){e=A,b[0]&4&&l!==(l=ml(e[99]%(e[2]/4)==0?"grid4":"grid")+" svelte-1ga6wgl")&&s(t,"class",l),b[0]&1&&n!==(n=`${e[0].note_width+1}px`)&&m(t,"width",n),b[0]&36&&o!==(o=`${e[25]/e[2]*2/e[5]+1}px`)&&m(t,"height",o),b[0]&2097184&&a!==(a=`${e[101]*2/e[5]}px`)&&m(t,"top",a),b[0]&1&&f!==(f=`${e[96]*e[0].note_width}px`)&&m(t,"left",f)},d(A){A&&ce(t),g=!1,k()}}}function Ll(e){let t,l=e[21],n=[];for(let o=0;o<l.length;o+=1)n[o]=Rl(Nl(e,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=Gl()},m(o,a){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(o,a);ye(o,t,a)},p(o,a){if(a[0]&572523045){l=o[21];let f;for(f=0;f<l.length;f+=1){const g=Nl(o,l,f);n[f]?n[f].p(g,a):(n[f]=Rl(g),n[f].c(),n[f].m(t.parentNode,t))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},d(o){We(n,o),o&&ce(t)}}}function Tl(e){let t,l=`${e[16]*2/e[5]}px`,n=`${e[0].note_width*e[0].panel_num}px`;return{c(){t=p("div"),s(t,"class","cursor_play svelte-1ga6wgl"),m(t,"top",l),m(t,"width",n)},m(o,a){ye(o,t,a)},p(o,a){a[0]&65568&&l!==(l=`${o[16]*2/o[5]}px`)&&m(t,"top",l),a[0]&1&&n!==(n=`${o[0].note_width*o[0].panel_num}px`)&&m(t,"width",n)},d(o){o&&ce(t)}}}function jl(e){let t,l=`${e[0].note_width+1}px`,n=`${e[0].note_height}px`,o=`${e[97]*2/e[5]-e[0].note_height/2}px`,a=`${e[96]*e[0].note_width}px`;return{c(){t=p("div"),s(t,"class","note svelte-1ga6wgl"),m(t,"width",l),m(t,"height",n),m(t,"top",o),m(t,"left",a),m(t,"background",e[0].colors[e[0].panel_color_def[e[96]]])},m(f,g){ye(f,t,g)},p(f,g){g[0]&1&&l!==(l=`${f[0].note_width+1}px`)&&m(t,"width",l),g[0]&1&&n!==(n=`${f[0].note_height}px`)&&m(t,"height",n),g[0]&8388641&&o!==(o=`${f[97]*2/f[5]-f[0].note_height/2}px`)&&m(t,"top",o),g[0]&1&&a!==(a=`${f[96]*f[0].note_width}px`)&&m(t,"left",a),g[0]&1&&m(t,"background",f[0].colors[f[0].panel_color_def[f[96]]])},d(f){f&&ce(t)}}}function Bl(e){let t,l=e[94],n=[];for(let o=0;o<l.length;o+=1)n[o]=jl(Kl(e,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=Gl()},m(o,a){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(o,a);ye(o,t,a)},p(o,a){if(a[0]&8388641){l=o[94];let f;for(f=0;f<l.length;f+=1){const g=Kl(o,l,f);n[f]?n[f].p(g,a):(n[f]=jl(g),n[f].c(),n[f].m(t.parentNode,t))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},d(o){We(n,o),o&&ce(t)}}}function bn(e){let t,l,n,o;return{c(){t=p("div"),t.textContent="ページの途中にラベルがあるため曲再生が正常にできない可能性があります。",s(t,"class","message svelte-1ga6wgl"),m(t,"background",e[28].warning)},m(a,f){ye(a,t,f),o=!0},p:Be,i(a){o||(Ie(()=>{o&&(n&&n.end(1),l=Hl(t,$t,{duration:100}),l.start())}),o=!0)},o(a){l&&l.invalidate(),n=Ql(t,$t,{duration:300}),o=!1},d(a){a&&ce(t),a&&n&&n.end()}}}function vn(e){let t,l,n,o,a,f,g;return{c(){t=p("div"),l=L(e[13]),s(t,"class","message svelte-1ga6wgl"),m(t,"background",e[14])},m(k,y){ye(k,t,y),r(t,l),a=!0,f||(g=v(t,"click",e[69]),f=!0)},p(k,y){(!a||y[0]&8192)&&Ge(l,k[13]),y[0]&16384&&m(t,"background",k[14])},i(k){a||(Ie(()=>{a&&(o&&o.end(1),n=Hl(t,$t,{duration:100}),n.start())}),a=!0)},o(k){n&&n.invalidate(),o=Ql(t,$t,{duration:300}),a=!1},d(k){k&&ce(t),k&&o&&o.end(),f=!1,g()}}}function kn(e){let t,l,n,o=e[8]+1+"",a,f,g=(e[1]-e[8]*192)/(e[25]/e[2])+1+"",k,y,A,b,B=Math.round(e[19])+"",C,N,E,h,K,de,Me,we,kt,et,Kt,me,Ne,R,el,G,be,F,Ce,P,I,J,_e,T,W,Ye,d,X,U,ne,tt,oe,Je,Y,Pe,ie,lt,V,nt,z,Oe,se,Se,ve,ot,Z,Ot,Fe,Dt,ke,Nt,Re,Et,Le,St,Ke,Te,it,Ft,H,Ue,Ze,Ee,st=`${(e[1]-e[9]*e[25]*e[5])*2/e[5]}px`,rt=`${e[0].note_width*e[0].panel_num}px`,Rt,tl=`${e[25]*2+10}px`,Lt,pe,Tt,at=e[17].toFixed(2)+"",He,jt,ge,Bt,ut=e[18].toFixed(2)+"",At,It,he,Jt,qe,Ut,re,Ve,u,c,M,O,ft,Ae,qt,De,Vt,je,Q,ae,cl,ct,Qe,_l,$e,j,ll,pl,_t=e[26],$=[];for(let i=0;i<_t.length;i+=1)$[i]=Pl(Cl(e,_t,i));let pt=e[27],x=[];for(let i=0;i<pt.length;i+=1)x[i]=Ol(Ml(e,pt,i));let gt=e[3],ee=[];for(let i=0;i<gt.length;i+=1)ee[i]=Fl(El(e,gt,i));let ht=e[23],te=[];for(let i=0;i<ht.length;i+=1)te[i]=Ll(Dl(e,ht,i));let ue=e[16]>=0&&Tl(e),dt=e[23],le=[];for(let i=0;i<dt.length;i+=1)le[i]=Bl(kl(e,dt,i));const gl=[vn,bn],ze=[];function hl(i,w){return i[13]!==""?0:i[20]?1:-1}return~(Q=hl(e))&&(ae=ze[Q]=gl[Q](e)),{c(){t=p("main"),l=p("div"),n=p("div"),a=L(o),f=L("小節目, "),k=L(g),y=L("/"),A=L(e[2]),b=L(" ("),C=L(B),N=L("f)"),E=D(),h=p("div"),K=p("input"),Me=D(),we=p("label"),we.textContent="この小節で設定変更",kt=L(` |\r
      `),et=p("label"),et.textContent="開始フレーム:",Kt=D(),me=p("input"),Ne=D(),R=p("label"),R.textContent="BPM:",el=D(),G=p("input"),be=L(` |\r
      `),F=p("input"),Ce=D(),P=p("label"),P.textContent="パネル表示を逆転",I=p("br"),J=L(`\r
      1ページの小節数\r
      `),_e=p("select");for(let i=0;i<$.length;i+=1)$[i].c();T=L(`\r
      | パネル表示倍率\r
      `),W=p("select");for(let i=0;i<x.length;i+=1)x[i].c();Ye=D(),d=p("div"),X=p("input"),U=D(),ne=p("input"),tt=D(),oe=p("input"),Je=D(),Y=p("input"),Pe=D(),ie=p("input"),lt=D(),V=p("input"),nt=D(),z=p("input"),Oe=D(),se=p("input"),Se=D(),ve=p("input"),ot=D(),Z=p("input"),Ot=D(),Fe=p("input"),Dt=D(),ke=p("input"),Nt=D(),Re=p("input"),Et=D(),Le=p("input"),St=D(),Ke=p("div"),Te=p("div");for(let i=0;i<ee.length;i+=1)ee[i].c();Ft=D(),H=p("div");for(let i=0;i<te.length;i+=1)te[i].c();Ue=D(),ue&&ue.c(),Ze=D(),Ee=p("div"),Rt=D();for(let i=0;i<le.length;i+=1)le[i].c();Lt=D(),pe=p("div"),Tt=L("音量("),He=L(at),jt=L(`)\r
      `),ge=p("input"),Bt=L(`\r
      速度(`),At=L(ut),It=L(`)\r
      `),he=p("input"),Jt=D(),qe=p("div"),qe.textContent="画面にファイルをドロップしてセーブデータ/音楽ファイルを読み込み",Ut=D(),re=p("div"),Ve=p("input"),u=D(),c=p("input"),M=D(),O=p("input"),ft=D(),Ae=p("input"),qt=L(`\r
      譜面番号`),De=p("input"),Vt=D(),je=p("div"),ae&&ae.c(),cl=D(),ct=p("footer"),Qe=p("a"),Qe.textContent="使用しているソフトウェアのライセンス表示",_l=L(` |\r
      `),$e=p("a"),$e.textContent=`Pun◇Pane Editor Ver.${$l}`,s(K,"type","checkbox"),K.checked=de=e[11]===e[8],s(K,"id","fix"),s(we,"for","fix"),s(we,"class","svelte-1ga6wgl"),s(et,"for","begin_frame"),s(et,"class","svelte-1ga6wgl"),s(me,"type","number"),me.value=e[10],s(me,"id","begin_frame"),s(me,"class","svelte-1ga6wgl"),s(R,"for","bpm"),s(R,"class","svelte-1ga6wgl"),s(G,"type","number"),G.value=e[7],s(G,"step","0.01"),s(G,"min","0.01"),s(G,"id","bpm"),s(G,"class","svelte-1ga6wgl"),s(F,"type","checkbox"),s(F,"id","panel_reverse"),s(P,"for","panel_reverse"),s(P,"title","Rキー: カーソルより前のパネルを表示するか後のパネルを表示するかの切り替え"),s(P,"class","svelte-1ga6wgl"),s(_e,"class","svelte-1ga6wgl"),e[5]===void 0&&Ie(()=>e[63].call(_e)),s(W,"class","svelte-1ga6wgl"),e[6]===void 0&&Ie(()=>e[64].call(W)),s(h,"class","main_input svelte-1ga6wgl"),s(X,"type","button"),X.value="4",s(X,"title","1キー: カーソル移動間隔を4分に変更"),s(X,"class","svelte-1ga6wgl"),q(X,"selected",e[2]===4),s(ne,"type","button"),ne.value="8",s(ne,"title","2キー: カーソル移動間隔を8分に変更"),s(ne,"class","svelte-1ga6wgl"),q(ne,"selected",e[2]===8),s(oe,"type","button"),oe.value="16",s(oe,"title","3キー: カーソル移動間隔を16分に変更"),s(oe,"class","svelte-1ga6wgl"),q(oe,"selected",e[2]===16),s(Y,"type","button"),Y.value="32",s(Y,"title","Rキー: カーソル移動間隔を32分に変更"),s(Y,"class","svelte-1ga6wgl"),q(Y,"selected",e[2]===32),s(ie,"type","button"),ie.value="12",s(ie,"title","4キー: カーソル移動間隔を12分(8分3連)に変更"),s(ie,"class","svelte-1ga6wgl"),q(ie,"selected",e[2]===12),s(V,"type","button"),V.value="24",s(V,"title","5キー: カーソル移動間隔を24分(16分3連)に変更"),s(V,"class","svelte-1ga6wgl"),q(V,"selected",e[2]===24),s(z,"type","button"),z.value="48",s(z,"title","6キー: カーソル移動間隔を48分(32分3連)に変更"),s(z,"class","svelte-1ga6wgl"),q(z,"selected",e[2]===48),s(se,"type","button"),se.value="←",s(se,"title","左矢印キー: 前のページに移動"),s(se,"class","svelte-1ga6wgl"),s(ve,"type","button"),ve.value="↑",s(ve,"title","上矢印/E/B: カーソルを上に移動"),s(ve,"class","svelte-1ga6wgl"),s(Z,"type","button"),Z.value="↓",s(Z,"title","下矢印/D/スペース: カーソルを下に移動"),s(Z,"class","svelte-1ga6wgl"),s(Fe,"type","button"),Fe.value="→",s(Fe,"title","右矢印キー: 次のページに移動"),s(Fe,"class","svelte-1ga6wgl"),s(ke,"type","button"),ke.value="BS",s(ke,"title","Backspace: カーソルを前に移動してパネルを削除"),s(ke,"class","svelte-1ga6wgl"),s(Re,"type","button"),Re.value="DEL",s(Re,"title","Delete: カーソルのある行のパネルを削除"),s(Re,"class","svelte-1ga6wgl"),s(Le,"type","button"),Le.value="Enter",s(Le,"title","Enter: 曲再生の開始/停止"),s(Le,"class","svelte-1ga6wgl"),s(d,"class","main_buttons svelte-1ga6wgl"),s(Te,"class","panels svelte-1ga6wgl"),s(Te,"style",it=`left: ${e[0].note_width*e[0].panel_num+20}px; width: ${e[0].panel_width*5}px;`),s(Ee,"class","cursor svelte-1ga6wgl"),m(Ee,"top",st),m(Ee,"width",rt),s(H,"class","notes svelte-1ga6wgl"),s(Ke,"class","punpane_editor svelte-1ga6wgl"),m(Ke,"height",tl),s(ge,"type","range"),s(ge,"min","0"),s(ge,"max","1"),s(ge,"step","0.01"),s(he,"type","range"),s(he,"min","0.1"),s(he,"max","1.5"),s(he,"step","0.1"),s(pe,"class","music_control svelte-1ga6wgl"),s(qe,"class","drop_area svelte-1ga6wgl"),q(qe,"dragover",e[15]),s(Ve,"type","button"),Ve.value="新規作成",s(Ve,"class","svelte-1ga6wgl"),s(c,"type","button"),c.value="クリップボードから読み込み",s(c,"class","svelte-1ga6wgl"),s(O,"type","button"),O.value="セーブデータの保存",s(O,"class","svelte-1ga6wgl"),s(Ae,"type","button"),Ae.value="dosの保存",s(Ae,"class","svelte-1ga6wgl"),s(De,"type","number"),s(De,"min","1"),s(De,"class","svelte-1ga6wgl"),s(re,"class","save_buttons svelte-1ga6wgl"),s(je,"class","message_container svelte-1ga6wgl"),s(Qe,"href","./thirdparty_license.txt"),s(Qe,"target","_blank"),s(Qe,"rel","noopener noreferrer"),s(Qe,"class","svelte-1ga6wgl"),s($e,"href","https://github.com/suzme/punpane-editor"),s($e,"target","_blank"),s($e,"rel","noopener noreferrer"),s($e,"class","svelte-1ga6wgl"),s(ct,"class","svelte-1ga6wgl"),s(l,"class","container svelte-1ga6wgl"),q(l,"dragover",e[15]),m(l,"width",`${e[0].note_width*e[0].panel_num+20+e[0].panel_width*5}px`)},m(i,w){ye(i,t,w),r(t,l),r(l,n),r(n,a),r(n,f),r(n,k),r(n,y),r(n,A),r(n,b),r(n,C),r(n,N),r(l,E),r(l,h),r(h,K),r(h,Me),r(h,we),r(h,kt),r(h,et),r(h,Kt),r(h,me),r(h,Ne),r(h,R),r(h,el),r(h,G),r(h,be),r(h,F),F.checked=e[4],r(h,Ce),r(h,P),r(h,I),r(h,J),r(h,_e);for(let S=0;S<$.length;S+=1)$[S]&&$[S].m(_e,null);zt(_e,e[5],!0),r(h,T),r(h,W);for(let S=0;S<x.length;S+=1)x[S]&&x[S].m(W,null);zt(W,e[6],!0),r(l,Ye),r(l,d),r(d,X),r(d,U),r(d,ne),r(d,tt),r(d,oe),r(d,Je),r(d,Y),r(d,Pe),r(d,ie),r(d,lt),r(d,V),r(d,nt),r(d,z),r(d,Oe),r(d,se),r(d,Se),r(d,ve),r(d,ot),r(d,Z),r(d,Ot),r(d,Fe),r(d,Dt),r(d,ke),r(d,Nt),r(d,Re),r(d,Et),r(d,Le),r(l,St),r(l,Ke),r(Ke,Te);for(let S=0;S<ee.length;S+=1)ee[S]&&ee[S].m(Te,null);r(Ke,Ft),r(Ke,H);for(let S=0;S<te.length;S+=1)te[S]&&te[S].m(H,null);r(H,Ue),ue&&ue.m(H,null),r(H,Ze),r(H,Ee),r(H,Rt);for(let S=0;S<le.length;S+=1)le[S]&&le[S].m(H,null);r(l,Lt),r(l,pe),r(pe,Tt),r(pe,He),r(pe,jt),r(pe,ge),mt(ge,e[17]),r(pe,Bt),r(pe,At),r(pe,It),r(pe,he),mt(he,e[18]),r(l,Jt),r(l,qe),r(l,Ut),r(l,re),r(re,Ve),r(re,u),r(re,c),r(re,M),r(re,O),r(re,ft),r(re,Ae),r(re,qt),r(re,De),mt(De,e[12]),r(l,Vt),r(l,je),~Q&&ze[Q].m(je,null),r(l,cl),r(l,ct),r(ct,Qe),r(ct,_l),r(ct,$e),j=!0,ll||(pl=[v(window,"beforeunload",e[53]),v(window,"keydown",e[51]),v(window,"wheel",e[52]),v(window,"drop",e[50]),v(window,"dragover",e[48]),v(window,"dragleave",e[49]),v(K,"change",e[45]),v(me,"change",e[46]),v(G,"change",e[47]),v(F,"change",e[62]),v(_e,"change",e[63]),v(W,"change",e[64]),v(X,"click",e[34](4)),v(ne,"click",e[34](8)),v(oe,"click",e[34](16)),v(Y,"click",e[34](32)),v(ie,"click",e[34](12)),v(V,"click",e[34](24)),v(z,"click",e[34](48)),v(se,"click",e[32]),v(ve,"click",e[30]),v(Z,"click",e[31]),v(Fe,"click",e[33]),v(ke,"click",e[37]),v(Re,"click",e[36]),v(Le,"click",e[42]),v(ge,"change",e[66]),v(ge,"input",e[66]),v(ge,"input",e[43]),v(he,"change",e[67]),v(he,"input",e[67]),v(he,"input",e[44]),v(Ve,"click",e[38]),v(c,"click",e[40]),v(O,"click",e[39]),v(Ae,"click",e[41]),v(De,"input",e[68])],ll=!0)},p(i,w){if((!j||w[0]&256)&&o!==(o=i[8]+1+"")&&Ge(a,o),(!j||w[0]&262)&&g!==(g=(i[1]-i[8]*192)/(i[25]/i[2])+1+"")&&Ge(k,g),(!j||w[0]&4)&&Ge(A,i[2]),(!j||w[0]&524288)&&B!==(B=Math.round(i[19])+"")&&Ge(C,B),(!j||w[0]&2304&&de!==(de=i[11]===i[8]))&&(K.checked=de),(!j||w[0]&1024&&me.value!==i[10])&&(me.value=i[10]),(!j||w[0]&128&&G.value!==i[7])&&(G.value=i[7]),w[0]&16&&(F.checked=i[4]),w[0]&67108864){_t=i[26];let _;for(_=0;_<_t.length;_+=1){const fe=Cl(i,_t,_);$[_]?$[_].p(fe,w):($[_]=Pl(fe),$[_].c(),$[_].m(_e,null))}for(;_<$.length;_+=1)$[_].d(1);$.length=_t.length}if(w[0]&67108896&&zt(_e,i[5]),w[0]&134217728){pt=i[27];let _;for(_=0;_<pt.length;_+=1){const fe=Ml(i,pt,_);x[_]?x[_].p(fe,w):(x[_]=Ol(fe),x[_].c(),x[_].m(W,null))}for(;_<x.length;_+=1)x[_].d(1);x.length=pt.length}if(w[0]&134217792&&zt(W,i[6]),(!j||w[0]&4)&&q(X,"selected",i[2]===4),(!j||w[0]&4)&&q(ne,"selected",i[2]===8),(!j||w[0]&4)&&q(oe,"selected",i[2]===16),(!j||w[0]&4)&&q(Y,"selected",i[2]===32),(!j||w[0]&4)&&q(ie,"selected",i[2]===12),(!j||w[0]&4)&&q(V,"selected",i[2]===24),(!j||w[0]&4)&&q(z,"selected",i[2]===48),w[0]&20971529|w[1]&16){gt=i[3];let _;for(_=0;_<gt.length;_+=1){const fe=El(i,gt,_);ee[_]?ee[_].p(fe,w):(ee[_]=Fl(fe),ee[_].c(),ee[_].m(Te,null))}for(;_<ee.length;_+=1)ee[_].d(1);ee.length=gt.length}if((!j||w[0]&1&&it!==(it=`left: ${i[0].note_width*i[0].panel_num+20}px; width: ${i[0].panel_width*5}px;`))&&s(Te,"style",it),w[0]&580911653){ht=i[23];let _;for(_=0;_<ht.length;_+=1){const fe=Dl(i,ht,_);te[_]?te[_].p(fe,w):(te[_]=Ll(fe),te[_].c(),te[_].m(H,Ue))}for(;_<te.length;_+=1)te[_].d(1);te.length=ht.length}if(i[16]>=0?ue?ue.p(i,w):(ue=Tl(i),ue.c(),ue.m(H,Ze)):ue&&(ue.d(1),ue=null),w[0]&546&&st!==(st=`${(i[1]-i[9]*i[25]*i[5])*2/i[5]}px`)&&m(Ee,"top",st),w[0]&1&&rt!==(rt=`${i[0].note_width*i[0].panel_num}px`)&&m(Ee,"width",rt),w[0]&8388641){dt=i[23];let _;for(_=0;_<dt.length;_+=1){const fe=kl(i,dt,_);le[_]?le[_].p(fe,w):(le[_]=Bl(fe),le[_].c(),le[_].m(H,null))}for(;_<le.length;_+=1)le[_].d(1);le.length=dt.length}(!j||w[0]&131072)&&at!==(at=i[17].toFixed(2)+"")&&Ge(He,at),w[0]&131072&&mt(ge,i[17]),(!j||w[0]&262144)&&ut!==(ut=i[18].toFixed(2)+"")&&Ge(At,ut),w[0]&262144&&mt(he,i[18]),(!j||w[0]&32768)&&q(qe,"dragover",i[15]),w[0]&4096&&Xt(De.value)!==i[12]&&mt(De,i[12]);let S=Q;Q=hl(i),Q===S?~Q&&ze[Q].p(i,w):(ae&&(pn(),vl(ze[S],1,1,()=>{ze[S]=null}),gn()),~Q?(ae=ze[Q],ae?ae.p(i,w):(ae=ze[Q]=gl[Q](i),ae.c()),rl(ae,1),ae.m(je,null)):ae=null),(!j||w[0]&32768)&&q(l,"dragover",i[15]),w[0]&1&&m(l,"width",`${i[0].note_width*i[0].panel_num+20+i[0].panel_width*5}px`)},i(i){j||(rl(ae),j=!0)},o(i){vl(ae),j=!1},d(i){i&&ce(t),We($,i),We(x,i),We(ee,i),We(te,i),ue&&ue.d(),We(le,i),~Q&&ze[Q].d(),ll=!1,xe(pl)}}}const $l="20240129-0",Kn=100,ol=0,Gt=200,Wt=160;function Dn(e,t,l){let n,o,a,f,g,k,y,A,b,B,C,N,E,h,K,de,Me,we,kt;const Kt=[1,2,4],me=["1/4","1/2","1","2","4"],Ne={success:"#99ccff",error:"#ffcccc",warning:"#ffffcc"};let R={};const G=new URL(document.location).searchParams.get("key");G&&Ct[G]?(R={...Ct[G]},R.key=G):(R={...Ct["18p"]},R.key="18p");let be=1,F=0,Ce=16,P=[0],I=[Gt],J=[Wt],_e=null,T="",W=Ne.success,Ye=!1,d=new Array(R.panel_num).fill([]),X,U=1,ne="1",tt,oe=-1,Je=1,Y=1;const Pe=new AudioContext,ie=Pe.createGain();ie.connect(Pe.destination);let lt,V,nt=!1,z=!1;const Oe=u=>{l(13,T=""),z&&Math.floor(u/192)!==Math.floor(F/192)&&setTimeout(Ue,0),l(1,F=u)},se=()=>Oe(F-3*64/Ce),Se=()=>Oe(F+3*64/Ce),ve=()=>Oe((o-1)*U*192),ot=()=>Oe((o+1)*U*192),Z=u=>()=>{l(13,T=""),l(2,Ce=u),l(1,F=Math.floor(F/(192/u))*(192/u))},Ot=(u,c)=>{l(3,d[u]=[...d[u],c],d)},Fe=(u,c)=>{l(3,d[u]=d[u].filter(M=>M!==c),d)},Dt=u=>()=>{l(13,T=""),d[u].includes(F)?Fe(u,F):Ot(u,F),_e===null&&(_e=setTimeout(()=>{_e=null,Se()},Kn))},ke=()=>{l(13,T=""),l(3,d=d.map(u=>u.filter(c=>c!==F)))},Nt=()=>{se(),ke()},Re=()=>{confirm("現在編集中のデータは失われます。よろしいですか？")!==!1&&(l(3,d=new Array(R.panel_num).fill([])),l(54,P=[]),l(55,I=[]),l(56,J=[]),l(12,be=1),l(1,F=0),l(13,T=""))},Et=(u,c="クリップボードにコピーしました。")=>{navigator.clipboard?(navigator.clipboard.writeText(u),l(13,T=c),l(14,W=Ne.success)):prompt("コピーして保存してください。",u)},Le=()=>JSON.stringify({key:R.key,panels:d,label_measures:P,begin_frames:I,bpms:J,resolution:192,chart_num:be,editor_version:$l,save_data_version:1}),St=()=>Et(Le(),"クリップボードにセーブデータをコピーしました。"),Ke=u=>{let c;if(confirm("セーブデータを読み込むと現在編集中のデータは失われます。よろしいですか？")!==!1){try{c=JSON.parse(u)}catch(M){console.log(M),l(13,T="セーブデータの読み込みに失敗しました。"),l(14,W=Ne.error);return}c.key?(l(0,R={...Ct[c.key]}),l(0,R.key=c.key,R)):(l(0,R={...Ct["18p"]}),l(0,R.key="18p",R)),l(1,F=0),l(3,d=c.panels??new Array(R.panel_num).fill([])),l(54,P=c.label_measures??[]),l(55,I=c.begin_frames??[]),l(56,J=c.bpms??[]),l(12,be=c.chart_num),l(13,T="セーブデータを読み込みました。")}},Te=()=>{if(navigator.clipboard)navigator.clipboard.readText().then(u=>Ke(u));else{const u=prompt("セーブデータを貼り付けてください。");u&&u!==""&&Ke(u)}},it=()=>d.map((u,c)=>`|${R.dos_chara[c]}${be!==1?be:""}_data=`+[...u.map(M=>{const O=Math.floor(M/192),ft=Math.max(...P.filter(je=>O>=je)),Ae=P.findIndex(je=>je===ft),qt=P[Ae]??P[0]??ol,De=I[Ae]??I[0]??Gt,Vt=J[Ae]??J[0]??Wt;return Math.round((M-qt*192)/192*4*60*60/Vt+De)})].sort().join(",")).join("")+"|",Ft=()=>Et(it(),"クリップボードにdosをコピーしました。"),H=()=>{z&&(l(16,oe=((Pe.currentTime-tt)*C*Y/60/4-.5)*192),oe>192*U&&(Ze(),Ue()),requestAnimationFrame(H))},Ue=()=>{if(z&&Ze(),nt){const c=((o*U-A-.5)*4*60*60/N+B-200)/60,M=c<0?-c:0;ie.gain.value=Je,V=Pe.createBufferSource(),V.buffer=lt,V.playbackRate.value=Y,V.connect(ie),tt=Pe.currentTime+M,V.start(tt+M,Math.max(c,0)),requestAnimationFrame(H),z=!0}else lt?l(13,T="再生準備が未完了です。"):l(13,T="音楽ファイルが入力されていません。"),l(14,W=Ne.error)},Ze=()=>{V.stop(),l(16,oe=-1),z=!1},Ee=()=>{z?Ze():Ue()},st=()=>{ie.gain.value=Je},rt=()=>{V.playbackRate.value=Y,z&&Ue()},Rt=u=>{if(l(13,T=""),u.target.checked)l(54,P=[...P,n]),l(55,I=[...I,Math.round(E)]),l(56,J=[...J,C]);else{const c=g;l(54,P=P.filter((M,O)=>c!==O)),l(55,I=I.filter((M,O)=>c!==O)),l(56,J=J.filter((M,O)=>c!==O))}},tl=u=>{l(13,T="");const c=u.target.value;let M;try{M=parseFloat(c)}catch(O){console.log(O),O.target.value=I[g];return}Number.isNaN(M)?u.target.value=I[g]:l(55,I[g]=M,I)},Lt=u=>{l(13,T="");const c=u.target.value;let M;try{M=parseFloat(c)}catch(O){console.log(O),O.target.value=J[g];return}Number.isNaN(M)||M<=0?u.target.value=J[g]:l(56,J[g]=M,J)},pe=u=>{u.preventDefault(),l(15,Ye=!0),l(13,T="")},Tt=u=>{u.preventDefault(),l(15,Ye=!1),l(13,T="")},at=u=>{if(u.stopPropagation(),u.preventDefault(),l(15,Ye=!1),l(13,T=""),!u.dataTransfer||!u.dataTransfer.files)return;const c=u.dataTransfer.files;if(c.length===0)return;const M=c[0];if(M.type.match(/^audio/)){nt=!1;const O=new FileReader;O.onload=()=>{Pe.decodeAudioData(O.result,ft=>{lt=ft,l(13,T="音楽ファイルの読み込みが完了しました。"),l(14,W=Ne.success),nt=!0})},O.readAsArrayBuffer(M)}else if(M.type==="text/plain"){const O=new FileReader;O.onload=()=>{Ke(O.result)},O.readAsText(M)}else l(13,T="非対応のファイルタイプです("+M.type+")"),l(14,W=Ne.error)},He={ArrowUp:se,ArrowDown:Se,ArrowLeft:ve,ArrowRight:ot,KeyE:se,KeyD:Se,KeyS:ve,KeyF:ot,KeyB:se,Space:Se,Digit1:Z(4),Digit2:Z(8),Digit3:Z(16),Digit4:Z(12),Digit5:Z(24),Digit6:Z(48),KeyR:Z(32),Delete:ke,Backspace:Nt,KeyR:()=>l(4,X=!X),Enter:Ee},jt=Object.assign({},He);R.key_config.forEach((u,c)=>He[u]=Dt(c));const ge=u=>{if(u.target.type!=="number"){const c=u.ctrlKey?jt:He;c[u.code]&&(c[u.code](),u.preventDefault())}},Bt=u=>{u.deltaY>0?Se():u.deltaY<0&&se()},ut=u=>{u.preventDefault(),u.returnValue="ページを移動してよろしいですか？現在編集中のデータは失われます。"};function At(){X=this.checked,l(4,X)}function It(){U=yl(this),l(5,U),l(26,Kt)}function he(){ne=yl(this),l(6,ne),l(27,me)}const Jt=u=>Oe(o*192*U+u);function qe(){Je=Xt(this.value),l(17,Je)}function Ut(){Y=Xt(this.value),l(18,Y)}function re(){be=Xt(this.value),l(12,be)}const Ve=()=>l(13,T="");return e.$$.update=()=>{e.$$.dirty[0]&2&&l(8,n=Math.floor(F/192)),e.$$.dirty[0]&34&&l(9,o=Math.floor(F/192/U)),e.$$.dirty[0]&256|e.$$.dirty[1]&8388608&&l(61,a=Math.max(...P.filter(u=>n>=u))),e.$$.dirty[0]&544|e.$$.dirty[1]&8388608&&l(60,f=Math.max(...P.filter(u=>o*U>=u))),e.$$.dirty[1]&1082130432&&l(57,g=P.findIndex(u=>u===a)),e.$$.dirty[1]&545259520&&l(59,k=P.findIndex(u=>u===f)),e.$$.dirty[1]&75497472&&l(11,y=P[g]??P[0]??ol),e.$$.dirty[1]&276824064&&(A=P[k]??P[0]??ol),e.$$.dirty[1]&83886080&&l(10,b=I[g]??I[0]??Gt),e.$$.dirty[1]&285212672&&(B=I[k]??I[0]??Gt),e.$$.dirty[1]&100663296&&l(7,C=J[g]??J[0]??Wt),e.$$.dirty[1]&301989888&&(N=J[k]??J[0]??Wt),e.$$.dirty[0]&3202&&l(19,E=(F-y*192)/192*4*60*60/C+b),e.$$.dirty[0]&64&&l(58,h=(()=>{const u=ne.split("/");return u.length===1?parseFloat(u[0]):parseFloat(u[0])/parseFloat(u[1])})()),e.$$.dirty[0]&11&&l(24,K=d.map((u,c)=>u.includes(F)?R.colors[R.panel_color_def[c]]:R.colors[0])),e.$$.dirty[0]&552&&l(23,de=d.map(u=>u.map(c=>c-o*U*192).filter(c=>c>=0&&c<192*U))),e.$$.dirty[0]&26|e.$$.dirty[1]&134217728&&l(22,Me=d.map(u=>X?u.map(c=>(c-F)*h).filter(c=>c>0&&c<=96):u.map(c=>(F-c)*h).filter(c=>c>0&&c<=96))),e.$$.dirty[0]&36&&l(21,we=new Array(Ce*U).fill(0).map((u,c)=>192/Ce*c)),e.$$.dirty[0]&544|e.$$.dirty[1]&8388608&&l(20,kt=P.filter(u=>o*U<u&&u<(o+1)*U).length>0)},[R,F,Ce,d,X,U,ne,C,n,o,b,y,be,T,W,Ye,oe,Je,Y,E,kt,we,Me,de,K,192,Kt,me,Ne,Oe,se,Se,ve,ot,Z,Dt,ke,Nt,Re,St,Te,Ft,Ee,st,rt,Rt,tl,Lt,pe,Tt,at,ge,Bt,ut,P,I,J,g,h,k,f,a,At,It,he,Jt,qe,Ut,re,Ve]}class Nn extends wn{constructor(t){super(),yn(this,t,Dn,kn,xl,{},null,[-1,-1,-1,-1])}}new Nn({target:document.getElementById("app")});
