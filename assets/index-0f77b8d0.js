(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ie(){}const dn=e=>e;function Yn(e){return e()}function bn(){return Object.create(null)}function tt(e){e.forEach(Yn)}function on(e){return typeof e=="function"}function ol(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function il(e){return Object.keys(e).length===0}function kn(e){return e??""}const Zn=typeof window<"u";let zn=Zn?()=>window.performance.now():()=>Date.now(),hn=Zn?e=>requestAnimationFrame(e):Ie;const Et=new Set;function Gn(e){Et.forEach(t=>{t.c(e)||(Et.delete(t),t.f())}),Et.size!==0&&hn(Gn)}function Wn(e){let t;return Et.size===0&&hn(Gn),{promise:new Promise(n=>{Et.add(t={c:e,f:n})}),abort(){Et.delete(t)}}}function a(e,t){e.appendChild(t)}function Xn(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function sl(e){const t=p("style");return rl(Xn(e),t),t.sheet}function rl(e,t){return a(e.head||e,t),t.sheet}function we(e,t,n){e.insertBefore(t,n||null)}function ce(e){e.parentNode&&e.parentNode.removeChild(e)}function Xe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function L(e){return document.createTextNode(e)}function N(){return L(" ")}function Hn(){return L("")}function b(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function i(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $t(e){return e===""?null:+e}function al(e){return Array.from(e.childNodes)}function We(e,t){t=""+t,e.data!==t&&(e.data=t)}function Kt(e,t){e.value=t??""}function m(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function Xt(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Kn(e){const t=e.querySelector(":checked");return t&&t.__value}function V(e,t,n){e.classList[n?"add":"remove"](t)}function ul(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,l,t),o}const en=new Map;let tn=0;function fl(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function cl(e,t){const n={stylesheet:sl(t),rules:{}};return en.set(e,n),n}function Qn(e,t,n,l,o,u,f,d=0){const K=16.666/l;let v=`{
`;for(let h=0;h<=1;h+=K){const D=t+(n-t)*u(h);v+=h*100+`%{${f(D,1-D)}}
`}const M=v+`100% {${f(n,1-n)}}
}`,k=`__svelte_${fl(M)}_${d}`,B=Xn(e),{stylesheet:C,rules:E}=en.get(B)||cl(B,e);E[k]||(E[k]=!0,C.insertRule(`@keyframes ${k} ${M}`,C.cssRules.length));const A=e.style.animation||"";return e.style.animation=`${A?`${A}, `:""}${k} ${l}ms linear ${o}ms 1 both`,tn+=1,k}function cn(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?u=>u.indexOf(t)<0:u=>u.indexOf("__svelte")===-1),o=n.length-l.length;o&&(e.style.animation=l.join(", "),tn-=o,tn||_l())}function _l(){hn(()=>{tn||(en.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&ce(t)}),en.clear())})}let gn;function Bt(e){gn=e}const Nt=[],Dn=[];let At=[];const Nn=[],pl=Promise.resolve();let _n=!1;function dl(){_n||(_n=!0,pl.then($n))}function Je(e){At.push(e)}const un=new Set;let Dt=0;function $n(){if(Dt!==0)return;const e=gn;do{try{for(;Dt<Nt.length;){const t=Nt[Dt];Dt++,Bt(t),hl(t.$$)}}catch(t){throw Nt.length=0,Dt=0,t}for(Bt(null),Nt.length=0,Dt=0;Dn.length;)Dn.pop()();for(let t=0;t<At.length;t+=1){const n=At[t];un.has(n)||(un.add(n),n())}At.length=0}while(Nt.length);for(;Nn.length;)Nn.pop()();_n=!1,un.clear(),Bt(e)}function hl(e){if(e.fragment!==null){e.update(),tt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Je)}}function gl(e){const t=[],n=[];At.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),At=t}let Tt;function xn(){return Tt||(Tt=Promise.resolve(),Tt.then(()=>{Tt=null})),Tt}function nn(e,t,n){e.dispatchEvent(ul(`${t?"intro":"outro"}${n}`))}const xt=new Set;let He;function ml(){He={r:0,c:[],p:He}}function vl(){He.r||tt(He.c),He=He.p}function pn(e,t){e&&e.i&&(xt.delete(e),e.i(t))}function En(e,t,n,l){if(e&&e.o){if(xt.has(e))return;xt.add(e),He.c.push(()=>{xt.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const el={duration:0};function tl(e,t,n){const l={direction:"in"};let o=t(e,n,l),u=!1,f,d,K=0;function v(){f&&cn(e,f)}function M(){const{delay:B=0,duration:C=300,easing:E=dn,tick:A=Ie,css:h}=o||el;h&&(f=Qn(e,0,1,C,B,E,h,K++)),A(0,1);const D=zn()+B,ve=D+C;d&&d.abort(),u=!0,Je(()=>nn(e,!0,"start")),d=Wn(Se=>{if(u){if(Se>=ve)return A(1,0),nn(e,!0,"end"),v(),u=!1;if(Se>=D){const be=E((Se-D)/C);A(be,1-be)}}return u})}let k=!1;return{start(){k||(k=!0,cn(e),on(o)?(o=o(l),xn().then(M)):M())},invalidate(){k=!1},end(){u&&(v(),u=!1)}}}function nl(e,t,n){const l={direction:"out"};let o=t(e,n,l),u=!0,f;const d=He;d.r+=1;function K(){const{delay:v=0,duration:M=300,easing:k=dn,tick:B=Ie,css:C}=o||el;C&&(f=Qn(e,1,0,M,v,k,C));const E=zn()+v,A=E+M;Je(()=>nn(e,!1,"start")),Wn(h=>{if(u){if(h>=A)return B(0,1),nn(e,!1,"end"),--d.r||tt(d.c),!1;if(h>=E){const D=k((h-E)/M);B(1-D,D)}}return u})}return on(o)?xn().then(()=>{o=o(l),K()}):K(),{end(v){v&&o.tick&&o.tick(1,0),u&&(f&&cn(e,f),u=!1)}}}function yl(e,t,n,l){const{fragment:o,after_update:u}=e.$$;o&&o.m(t,n),l||Je(()=>{const f=e.$$.on_mount.map(Yn).filter(on);e.$$.on_destroy?e.$$.on_destroy.push(...f):tt(f),e.$$.on_mount=[]}),u.forEach(Je)}function wl(e,t){const n=e.$$;n.fragment!==null&&(gl(n.after_update),tt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function bl(e,t){e.$$.dirty[0]===-1&&(Nt.push(e),dl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function kl(e,t,n,l,o,u,f,d=[-1]){const K=gn;Bt(e);const v=e.$$={fragment:null,ctx:[],props:u,update:Ie,not_equal:o,bound:bn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(K?K.$$.context:[])),callbacks:bn(),dirty:d,skip_bound:!1,root:t.target||K.$$.root};f&&f(v.root);let M=!1;if(v.ctx=n?n(e,t.props||{},(k,B,...C)=>{const E=C.length?C[0]:B;return v.ctx&&o(v.ctx[k],v.ctx[k]=E)&&(!v.skip_bound&&v.bound[k]&&v.bound[k](E),M&&bl(e,k)),B}):[],v.update(),M=!0,tt(v.before_update),v.fragment=l?l(v.ctx):!1,t.target){if(t.hydrate){const k=al(t.target);v.fragment&&v.fragment.l(k),k.forEach(ce)}else v.fragment&&v.fragment.c();t.intro&&pn(e.$$.fragment),yl(e,t.target,t.anchor,t.customElement),$n()}Bt(K)}class Kl{$destroy(){wl(this,1),this.$destroy=Ie}$on(t,n){if(!on(n))return Ie;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!il(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ln(e,{delay:t=0,duration:n=400,easing:l=dn}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:l,css:u=>`opacity: ${u*o}`}}const jt={"18p":{panel_num:18,panel_width:96,panel_height:96,panel_w_num:5,note_width:20,note_height:6,panel_top:[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],panel_left:[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4],colors:["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],panel_color_def:[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],names:"7890-UIOPJKL;NM<>/".split(""),dos_chara:"aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de".split(","),key_config:"Digit7,Digit8,Digit9,Digit0,Minus,KeyU,KeyI,KeyO,KeyP,KeyJ,KeyK,KeyL,Semicolon,KeyN,KeyM,Comma,Period,Slash".split(",")},"9t":{panel_num:9,panel_width:96,panel_height:96,panel_w_num:3,note_width:30,note_height:6,panel_top:[0,0,0,1,1,1,2,2,2],panel_left:[0,1,2,0,1,2,0,1,2],colors:["#cccccc","#9999ff","#ff9999","#99ff99"],panel_color_def:[1,1,1,2,3,2,1,1,1],names:"789456123".split(""),dos_chara:"left,down,up,right,space,sleft,sdown,sup,sright".split(","),key_config:"Numpad7,Numpad8,Numpad9,Numpad4,Numpad5,Numpad6,Numpad1,Numpad2,Numpad3".split(",")},"36p":{panel_num:36,panel_width:48,panel_height:48,panel_w_num:10,note_width:15,note_height:6,panel_top:[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],panel_left:[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4,5,6,7,8,9,5.5,6.5,7.5,8.5,5.5,6.5,7.5,8.5,5,6,7,8,9],colors:["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],panel_color_def:[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4,1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],names:"23456WERTSDFGZXCVB7890-UIOPJKL;NM<>/".split(""),dos_chara:"aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de,af,ag,ah,ai,aj,bf,bg,bh,bi,cf,cg,ch,ci,df,dg,dh,di,dj".split(","),key_config:"Digit2,Digit3,Digit4,Digit5,Digit6,KeyW,KeyE,KeyR,KeyT,KeyS,KeyD,KeyF,KeyG,KeyZ,KeyX,KeyC,KeyV,KeyB,Digit7,Digit8,Digit9,Digit0,Minus,KeyU,KeyI,KeyO,KeyP,KeyJ,KeyK,KeyL,Semicolon,KeyN,KeyM,Comma,Period,Slash".split(",")}};function An(e,t,n){const l=e.slice();return l[101]=t[n],l[103]=n,l}function Mn(e,t,n){const l=e.slice();return l[104]=t[n],l[106]=n,l}function Cn(e,t,n){const l=e.slice();return l[101]=t[n],l[103]=n,l}function Pn(e,t,n){const l=e.slice();return l[108]=t[n],l[106]=n,l}function On(e,t,n){const l=e.slice();return l[110]=t[n],l[103]=n,l}function Sn(e,t,n){const l=e.slice();return l[112]=t[n],l}function Fn(e,t,n){const l=e.slice();return l[115]=t[n],l}function Rn(e,t,n){const l=e.slice();return l[108]=t[n],l}function Ln(e){let t,n=e[108]+"",l;return{c(){t=p("option"),l=L(n),i(t,"num",e[108]),t.__value=e[108],t.value=t.__value},m(o,u){we(o,t,u),a(t,l)},p:Ie,d(o){o&&ce(t)}}}function Tn(e){let t,n=e[115]+"",l;return{c(){t=p("option"),l=L(n),i(t,"ratio",e[115]),t.__value=e[115],t.value=t.__value},m(o,u){we(o,t,u),a(t,l)},p:Ie,d(o){o&&ce(t)}}}function jn(e){let t,n=`${e[0].panel_width-e[112]}px`,l=`${e[0].panel_height-e[112]}px`;return{c(){t=p("div"),i(t,"class","panel_back svelte-1vw65n4"),m(t,"width",n),m(t,"height",l),m(t,"background",e[0].colors[e[0].panel_color_def[e[103]]])},m(o,u){we(o,t,u)},p(o,u){u[0]&4194305&&n!==(n=`${o[0].panel_width-o[112]}px`)&&m(t,"width",n),u[0]&4194305&&l!==(l=`${o[0].panel_height-o[112]}px`)&&m(t,"height",l),u[0]&1&&m(t,"background",o[0].colors[o[0].panel_color_def[o[103]]])},d(o){o&&ce(t)}}}function Bn(e){let t,n,l,o=e[0].names[e[103]]+"",u,f,d=`${e[0].panel_width+1}px`,K=`${e[0].panel_height+1}px`,v=`${e[0].panel_top[e[103]]*e[0].panel_height}px`,M=`${e[0].panel_left[e[103]]*e[0].panel_width}px`,k,B,C=e[22][e[103]],E=[];for(let A=0;A<C.length;A+=1)E[A]=jn(Sn(e,C,A));return{c(){t=p("div");for(let A=0;A<E.length;A+=1)E[A].c();n=N(),l=p("div"),u=L(o),f=N(),i(l,"class","svelte-1vw65n4"),i(t,"class","panel svelte-1vw65n4"),m(t,"width",d),m(t,"height",K),m(t,"top",v),m(t,"left",M),m(t,"background",e[24][e[103]])},m(A,h){we(A,t,h);for(let D=0;D<E.length;D+=1)E[D]&&E[D].m(t,null);a(t,n),a(t,l),a(l,u),a(t,f),k||(B=b(t,"click",e[37](e[103])),k=!0)},p(A,h){if(e=A,h[0]&4194305){C=e[22][e[103]];let D;for(D=0;D<C.length;D+=1){const ve=Sn(e,C,D);E[D]?E[D].p(ve,h):(E[D]=jn(ve),E[D].c(),E[D].m(t,n))}for(;D<E.length;D+=1)E[D].d(1);E.length=C.length}h[0]&1&&o!==(o=e[0].names[e[103]]+"")&&We(u,o),h[0]&1&&d!==(d=`${e[0].panel_width+1}px`)&&m(t,"width",d),h[0]&1&&K!==(K=`${e[0].panel_height+1}px`)&&m(t,"height",K),h[0]&1&&v!==(v=`${e[0].panel_top[e[103]]*e[0].panel_height}px`)&&m(t,"top",v),h[0]&1&&M!==(M=`${e[0].panel_left[e[103]]*e[0].panel_width}px`)&&m(t,"left",M),h[0]&16777216&&m(t,"background",e[24][e[103]])},d(A){A&&ce(t),Xe(E,A),k=!1,B()}}}function In(e){let t,n,l=`${e[0].note_width+1}px`,o=`${e[25]/e[2]*2/e[5]+1}px`,u=`${e[108]*2/e[5]}px`,f=`${e[103]*e[0].note_width}px`,d,K;function v(){return e[67](e[108])}return{c(){t=p("div"),i(t,"class",n=kn(e[106]%(e[2]/4)==0?"grid4":"grid")+" svelte-1vw65n4"),m(t,"width",l),m(t,"height",o),m(t,"top",u),m(t,"left",f)},m(M,k){we(M,t,k),d||(K=b(t,"click",v),d=!0)},p(M,k){e=M,k[0]&4&&n!==(n=kn(e[106]%(e[2]/4)==0?"grid4":"grid")+" svelte-1vw65n4")&&i(t,"class",n),k[0]&1&&l!==(l=`${e[0].note_width+1}px`)&&m(t,"width",l),k[0]&36&&o!==(o=`${e[25]/e[2]*2/e[5]+1}px`)&&m(t,"height",o),k[0]&2097184&&u!==(u=`${e[108]*2/e[5]}px`)&&m(t,"top",u),k[0]&1&&f!==(f=`${e[103]*e[0].note_width}px`)&&m(t,"left",f)},d(M){M&&ce(t),d=!1,K()}}}function Jn(e){let t,n=e[21],l=[];for(let o=0;o<n.length;o+=1)l[o]=In(Pn(e,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=Hn()},m(o,u){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,u);we(o,t,u)},p(o,u){if(u[0]&35652133|u[1]&1){n=o[21];let f;for(f=0;f<n.length;f+=1){const d=Pn(o,n,f);l[f]?l[f].p(d,u):(l[f]=In(d),l[f].c(),l[f].m(t.parentNode,t))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}},d(o){Xe(l,o),o&&ce(t)}}}function Un(e){let t,n=`${e[16]*2/e[5]}px`,l=`${e[0].note_width*e[0].panel_num}px`;return{c(){t=p("div"),i(t,"class","cursor_play svelte-1vw65n4"),m(t,"top",n),m(t,"width",l)},m(o,u){we(o,t,u)},p(o,u){u[0]&65568&&n!==(n=`${o[16]*2/o[5]}px`)&&m(t,"top",n),u[0]&1&&l!==(l=`${o[0].note_width*o[0].panel_num}px`)&&m(t,"width",l)},d(o){o&&ce(t)}}}function qn(e){let t,n=`${e[0].note_width+1}px`,l=`${e[0].note_height}px`,o=`${e[104]*2/e[5]-e[0].note_height/2}px`,u=`${e[103]*e[0].note_width}px`;return{c(){t=p("div"),i(t,"class","note svelte-1vw65n4"),m(t,"width",n),m(t,"height",l),m(t,"top",o),m(t,"left",u),m(t,"background",e[0].colors[e[0].panel_color_def[e[103]]])},m(f,d){we(f,t,d)},p(f,d){d[0]&1&&n!==(n=`${f[0].note_width+1}px`)&&m(t,"width",n),d[0]&1&&l!==(l=`${f[0].note_height}px`)&&m(t,"height",l),d[0]&8388641&&o!==(o=`${f[104]*2/f[5]-f[0].note_height/2}px`)&&m(t,"top",o),d[0]&1&&u!==(u=`${f[103]*f[0].note_width}px`)&&m(t,"left",u),d[0]&1&&m(t,"background",f[0].colors[f[0].panel_color_def[f[103]]])},d(f){f&&ce(t)}}}function Vn(e){let t,n=e[101],l=[];for(let o=0;o<n.length;o+=1)l[o]=qn(Mn(e,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=Hn()},m(o,u){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,u);we(o,t,u)},p(o,u){if(u[0]&8388641){n=o[101];let f;for(f=0;f<n.length;f+=1){const d=Mn(o,n,f);l[f]?l[f].p(d,u):(l[f]=qn(d),l[f].c(),l[f].m(t.parentNode,t))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}},d(o){Xe(l,o),o&&ce(t)}}}function Dl(e){let t,n,l,o;return{c(){t=p("div"),t.textContent="ページの途中にラベルがあるため曲再生が正常にできない可能性があります。",i(t,"class","message svelte-1vw65n4"),m(t,"background",e[28].warning)},m(u,f){we(u,t,f),o=!0},p:Ie,i(u){o||(Je(()=>{o&&(l&&l.end(1),n=tl(t,ln,{duration:100}),n.start())}),o=!0)},o(u){n&&n.invalidate(),l=nl(t,ln,{duration:300}),o=!1},d(u){u&&ce(t),u&&l&&l.end()}}}function Nl(e){let t,n,l,o,u,f,d;return{c(){t=p("div"),n=L(e[13]),i(t,"class","message svelte-1vw65n4"),m(t,"background",e[14])},m(K,v){we(K,t,v),a(t,n),u=!0,f||(d=b(t,"click",e[71]),f=!0)},p(K,v){(!u||v[0]&8192)&&We(n,K[13]),v[0]&16384&&m(t,"background",K[14])},i(K){u||(Je(()=>{u&&(o&&o.end(1),l=tl(t,ln,{duration:100}),l.start())}),u=!0)},o(K){l&&l.invalidate(),o=nl(t,ln,{duration:300}),u=!1},d(K){K&&ce(t),K&&o&&o.end(),f=!1,d()}}}function El(e){let t,n,l,o=e[8]+1+"",u,f,d=(e[1]-e[8]*192)/(e[25]/e[2])+1+"",K,v,M,k,B=Math.round(e[19])+"",C,E,A,h,D,ve,Se,be,Mt,nt,Ct,ye,Ee,F,sn,z,ke,S,Fe,P,I,J,_e,T,G,Qe,g,W,U,oe,lt,ie,Ue,X,Re,se,ot,Y,it,Z,qe,pe,Pt,Ae,st,H,Le,re,rt,Ke,De,Ne,at,Te,It,Me,ut,Ce,Jt,Pe,je,ft,ct,$,Ot,St,Oe,Be=`${(e[1]-e[9]*e[25]*e[5])*2/e[5]}px`,Ve=`${e[0].note_width*e[0].panel_num}px`,Ft,rn=`${e[25]*2+10}px`,Ut,de,qt,_t=e[17].toFixed(2)+"",Rt,Vt,he,pt,dt=e[18].toFixed(2)+"",Lt,Yt,ge,Zt,Ye,zt,ae,Ze,Gt,ze,Wt,r,c,w,R,me,ht,$e,q,Q,gt,mt,xe,mn,et,j,an,vn,vt=e[26],x=[];for(let s=0;s<vt.length;s+=1)x[s]=Ln(Rn(e,vt,s));let yt=e[27],ee=[];for(let s=0;s<yt.length;s+=1)ee[s]=Tn(Fn(e,yt,s));let wt=e[3],te=[];for(let s=0;s<wt.length;s+=1)te[s]=Bn(On(e,wt,s));let bt=e[23],ne=[];for(let s=0;s<bt.length;s+=1)ne[s]=Jn(Cn(e,bt,s));let ue=e[16]>=0&&Un(e),kt=e[23],le=[];for(let s=0;s<kt.length;s+=1)le[s]=Vn(An(e,kt,s));const yn=[Nl,Dl],Ge=[];function wn(s,y){return s[13]!==""?0:s[20]?1:-1}return~(q=wn(e))&&(Q=Ge[q]=yn[q](e)),{c(){t=p("main"),n=p("div"),l=p("div"),u=L(o),f=L("小節目, "),K=L(d),v=L("/"),M=L(e[2]),k=L(" ("),C=L(B),E=L("f)"),A=N(),h=p("div"),D=p("input"),Se=N(),be=p("label"),be.textContent="この小節で設定変更",Mt=L(` |\r
      `),nt=p("label"),nt.textContent="開始フレーム:",Ct=N(),ye=p("input"),Ee=N(),F=p("label"),F.textContent="BPM:",sn=N(),z=p("input"),ke=L(` |\r
      `),S=p("input"),Fe=N(),P=p("label"),P.textContent="パネル表示を逆転",I=p("br"),J=L(`\r
      1ページの小節数\r
      `),_e=p("select");for(let s=0;s<x.length;s+=1)x[s].c();T=L(`\r
      | パネル表示倍率\r
      `),G=p("select");for(let s=0;s<ee.length;s+=1)ee[s].c();Qe=N(),g=p("div"),W=p("input"),U=N(),oe=p("input"),lt=N(),ie=p("input"),Ue=N(),X=p("input"),Re=N(),se=p("input"),ot=N(),Y=p("input"),it=N(),Z=p("input"),qe=N(),pe=p("input"),Pt=N(),Ae=p("input"),st=N(),H=p("input"),Le=N(),re=p("input"),rt=N(),Ke=p("input"),De=N(),Ne=p("input"),at=N(),Te=p("input"),It=N(),Me=p("input"),ut=N(),Ce=p("input"),Jt=N(),Pe=p("div"),je=p("div");for(let s=0;s<te.length;s+=1)te[s].c();ct=N(),$=p("div");for(let s=0;s<ne.length;s+=1)ne[s].c();Ot=N(),ue&&ue.c(),St=N(),Oe=p("div"),Ft=N();for(let s=0;s<le.length;s+=1)le[s].c();Ut=N(),de=p("div"),qt=L("音量("),Rt=L(_t),Vt=L(`)\r
      `),he=p("input"),pt=L(`\r
      速度(`),Lt=L(dt),Yt=L(`)\r
      `),ge=p("input"),Zt=N(),Ye=p("div"),Ye.textContent="画面にファイルをドロップしてセーブデータ/音楽ファイルを読み込み",zt=N(),ae=p("div"),Ze=p("input"),Gt=N(),ze=p("input"),Wt=N(),r=p("input"),c=N(),w=p("input"),R=L(`\r
      譜面番号`),me=p("input"),ht=N(),$e=p("div"),Q&&Q.c(),gt=N(),mt=p("footer"),xe=p("a"),xe.textContent="使用しているソフトウェアのライセンス表示",mn=L(` |\r
      `),et=p("a"),et.textContent=`Pun◇Pane Editor Ver.${ll}`,i(D,"type","checkbox"),D.checked=ve=e[11]===e[8],i(D,"id","fix"),i(be,"for","fix"),i(be,"class","svelte-1vw65n4"),i(nt,"for","begin_frame"),i(nt,"class","svelte-1vw65n4"),i(ye,"type","number"),ye.value=e[10],i(ye,"id","begin_frame"),i(ye,"class","svelte-1vw65n4"),i(F,"for","bpm"),i(F,"class","svelte-1vw65n4"),i(z,"type","number"),z.value=e[7],i(z,"step","0.01"),i(z,"min","0.01"),i(z,"id","bpm"),i(z,"class","svelte-1vw65n4"),i(S,"type","checkbox"),i(S,"id","panel_reverse"),i(P,"for","panel_reverse"),i(P,"title","Rキー: カーソルより前のパネルを表示するか後のパネルを表示するかの切り替え"),i(P,"class","svelte-1vw65n4"),i(_e,"class","svelte-1vw65n4"),e[5]===void 0&&Je(()=>e[65].call(_e)),i(G,"class","svelte-1vw65n4"),e[6]===void 0&&Je(()=>e[66].call(G)),i(h,"class","main_input svelte-1vw65n4"),i(W,"type","button"),W.value="4",i(W,"title","1キー: カーソル移動間隔を4分に変更"),i(W,"class","svelte-1vw65n4"),V(W,"selected",e[2]===4),i(oe,"type","button"),oe.value="8",i(oe,"title","2キー: カーソル移動間隔を8分に変更"),i(oe,"class","svelte-1vw65n4"),V(oe,"selected",e[2]===8),i(ie,"type","button"),ie.value="16",i(ie,"title","3キー: カーソル移動間隔を16分に変更"),i(ie,"class","svelte-1vw65n4"),V(ie,"selected",e[2]===16),i(X,"type","button"),X.value="32",i(X,"title","Rキー: カーソル移動間隔を32分に変更"),i(X,"class","svelte-1vw65n4"),V(X,"selected",e[2]===32),i(se,"type","button"),se.value="12",i(se,"title","4キー: カーソル移動間隔を12分(8分3連)に変更"),i(se,"class","svelte-1vw65n4"),V(se,"selected",e[2]===12),i(Y,"type","button"),Y.value="24",i(Y,"title","5キー: カーソル移動間隔を24分(16分3連)に変更"),i(Y,"class","svelte-1vw65n4"),V(Y,"selected",e[2]===24),i(Z,"type","button"),Z.value="48",i(Z,"title","6キー: カーソル移動間隔を48分(32分3連)に変更"),i(Z,"class","svelte-1vw65n4"),V(Z,"selected",e[2]===48),i(pe,"type","button"),pe.value="←",i(pe,"title","左矢印キー: 前のページに移動"),i(pe,"class","svelte-1vw65n4"),i(Ae,"type","button"),Ae.value="↑",i(Ae,"title","上矢印/E/B: カーソルを上に移動"),i(Ae,"class","svelte-1vw65n4"),i(H,"type","button"),H.value="↓",i(H,"title","下矢印/D/スペース: カーソルを下に移動"),i(H,"class","svelte-1vw65n4"),i(re,"type","button"),re.value="→",i(re,"title","右矢印キー: 次のページに移動"),i(re,"class","svelte-1vw65n4"),i(Ke,"type","button"),Ke.value="BS",i(Ke,"title","Backspace: カーソルを前に移動してパネルを削除"),i(Ke,"class","svelte-1vw65n4"),i(Ne,"type","button"),Ne.value="Del",i(Ne,"title","Delete: カーソルのある行のパネルを削除"),i(Ne,"class","svelte-1vw65n4"),i(Te,"type","button"),Te.value="↶",i(Te,"title","Z: 元に戻す"),i(Te,"class","svelte-1vw65n4"),i(Me,"type","button"),Me.value="↷",i(Me,"title","Y: やり直す"),i(Me,"class","svelte-1vw65n4"),i(Ce,"type","button"),Ce.value="♪",i(Ce,"title","Enter: 曲再生の開始/停止"),i(Ce,"class","svelte-1vw65n4"),i(g,"class","main_buttons svelte-1vw65n4"),i(je,"class","panels svelte-1vw65n4"),i(je,"style",ft=`left: ${e[0].note_width*e[0].panel_num+20}px; width: ${e[0].panel_width*5}px;`),i(Oe,"class","cursor svelte-1vw65n4"),m(Oe,"top",Be),m(Oe,"width",Ve),i($,"class","notes svelte-1vw65n4"),i(Pe,"class","punpane_editor svelte-1vw65n4"),m(Pe,"height",rn),i(he,"type","range"),i(he,"min","0"),i(he,"max","1"),i(he,"step","0.01"),i(ge,"type","range"),i(ge,"min","0.1"),i(ge,"max","1.5"),i(ge,"step","0.1"),i(de,"class","music_control svelte-1vw65n4"),i(Ye,"class","drop_area svelte-1vw65n4"),V(Ye,"dragover",e[15]),i(Ze,"type","button"),Ze.value="新規作成",i(Ze,"class","svelte-1vw65n4"),i(ze,"type","button"),ze.value="クリップボードから読み込み",i(ze,"class","svelte-1vw65n4"),i(r,"type","button"),r.value="セーブデータの保存",i(r,"class","svelte-1vw65n4"),i(w,"type","button"),w.value="dosの保存",i(w,"class","svelte-1vw65n4"),i(me,"type","number"),i(me,"min","1"),i(me,"class","svelte-1vw65n4"),i(ae,"class","save_buttons svelte-1vw65n4"),i($e,"class","message_container svelte-1vw65n4"),i(xe,"href","./thirdparty_license.txt"),i(xe,"target","_blank"),i(xe,"rel","noopener noreferrer"),i(xe,"class","svelte-1vw65n4"),i(et,"href","https://github.com/suzme/punpane-editor"),i(et,"target","_blank"),i(et,"rel","noopener noreferrer"),i(et,"class","svelte-1vw65n4"),i(mt,"class","svelte-1vw65n4"),i(n,"class","container svelte-1vw65n4"),V(n,"dragover",e[15]),m(n,"width",`${e[0].note_width*e[0].panel_num+20+e[0].panel_width*e[0].panel_w_num}px`)},m(s,y){we(s,t,y),a(t,n),a(n,l),a(l,u),a(l,f),a(l,K),a(l,v),a(l,M),a(l,k),a(l,C),a(l,E),a(n,A),a(n,h),a(h,D),a(h,Se),a(h,be),a(h,Mt),a(h,nt),a(h,Ct),a(h,ye),a(h,Ee),a(h,F),a(h,sn),a(h,z),a(h,ke),a(h,S),S.checked=e[4],a(h,Fe),a(h,P),a(h,I),a(h,J),a(h,_e);for(let O=0;O<x.length;O+=1)x[O]&&x[O].m(_e,null);Xt(_e,e[5],!0),a(h,T),a(h,G);for(let O=0;O<ee.length;O+=1)ee[O]&&ee[O].m(G,null);Xt(G,e[6],!0),a(n,Qe),a(n,g),a(g,W),a(g,U),a(g,oe),a(g,lt),a(g,ie),a(g,Ue),a(g,X),a(g,Re),a(g,se),a(g,ot),a(g,Y),a(g,it),a(g,Z),a(g,qe),a(g,pe),a(g,Pt),a(g,Ae),a(g,st),a(g,H),a(g,Le),a(g,re),a(g,rt),a(g,Ke),a(g,De),a(g,Ne),a(g,at),a(g,Te),a(g,It),a(g,Me),a(g,ut),a(g,Ce),a(n,Jt),a(n,Pe),a(Pe,je);for(let O=0;O<te.length;O+=1)te[O]&&te[O].m(je,null);a(Pe,ct),a(Pe,$);for(let O=0;O<ne.length;O+=1)ne[O]&&ne[O].m($,null);a($,Ot),ue&&ue.m($,null),a($,St),a($,Oe),a($,Ft);for(let O=0;O<le.length;O+=1)le[O]&&le[O].m($,null);a(n,Ut),a(n,de),a(de,qt),a(de,Rt),a(de,Vt),a(de,he),Kt(he,e[17]),a(de,pt),a(de,Lt),a(de,Yt),a(de,ge),Kt(ge,e[18]),a(n,Zt),a(n,Ye),a(n,zt),a(n,ae),a(ae,Ze),a(ae,Gt),a(ae,ze),a(ae,Wt),a(ae,r),a(ae,c),a(ae,w),a(ae,R),a(ae,me),Kt(me,e[12]),a(n,ht),a(n,$e),~q&&Ge[q].m($e,null),a(n,gt),a(n,mt),a(mt,xe),a(mt,mn),a(mt,et),j=!0,an||(vn=[b(window,"beforeunload",e[55]),b(window,"keydown",e[53]),b(window,"wheel",e[54]),b(window,"drop",e[52]),b(window,"dragover",e[50]),b(window,"dragleave",e[51]),b(D,"change",e[47]),b(ye,"change",e[48]),b(z,"change",e[49]),b(S,"change",e[64]),b(_e,"change",e[65]),b(G,"change",e[66]),b(W,"click",e[36](4)),b(oe,"click",e[36](8)),b(ie,"click",e[36](16)),b(X,"click",e[36](32)),b(se,"click",e[36](12)),b(Y,"click",e[36](24)),b(Z,"click",e[36](48)),b(pe,"click",e[34]),b(Ae,"click",e[32]),b(H,"click",e[33]),b(re,"click",e[35]),b(Ke,"click",e[39]),b(Ne,"click",e[38]),b(Te,"click",e[29]),b(Me,"click",e[30]),b(Ce,"click",e[44]),b(he,"change",e[68]),b(he,"input",e[68]),b(he,"input",e[45]),b(ge,"change",e[69]),b(ge,"input",e[69]),b(ge,"input",e[46]),b(Ze,"click",e[40]),b(ze,"click",e[42]),b(r,"click",e[41]),b(w,"click",e[43]),b(me,"input",e[70])],an=!0)},p(s,y){if((!j||y[0]&256)&&o!==(o=s[8]+1+"")&&We(u,o),(!j||y[0]&262)&&d!==(d=(s[1]-s[8]*192)/(s[25]/s[2])+1+"")&&We(K,d),(!j||y[0]&4)&&We(M,s[2]),(!j||y[0]&524288)&&B!==(B=Math.round(s[19])+"")&&We(C,B),(!j||y[0]&2304&&ve!==(ve=s[11]===s[8]))&&(D.checked=ve),(!j||y[0]&1024&&ye.value!==s[10])&&(ye.value=s[10]),(!j||y[0]&128&&z.value!==s[7])&&(z.value=s[7]),y[0]&16&&(S.checked=s[4]),y[0]&67108864){vt=s[26];let _;for(_=0;_<vt.length;_+=1){const fe=Rn(s,vt,_);x[_]?x[_].p(fe,y):(x[_]=Ln(fe),x[_].c(),x[_].m(_e,null))}for(;_<x.length;_+=1)x[_].d(1);x.length=vt.length}if(y[0]&67108896&&Xt(_e,s[5]),y[0]&134217728){yt=s[27];let _;for(_=0;_<yt.length;_+=1){const fe=Fn(s,yt,_);ee[_]?ee[_].p(fe,y):(ee[_]=Tn(fe),ee[_].c(),ee[_].m(G,null))}for(;_<ee.length;_+=1)ee[_].d(1);ee.length=yt.length}if(y[0]&134217792&&Xt(G,s[6]),(!j||y[0]&4)&&V(W,"selected",s[2]===4),(!j||y[0]&4)&&V(oe,"selected",s[2]===8),(!j||y[0]&4)&&V(ie,"selected",s[2]===16),(!j||y[0]&4)&&V(X,"selected",s[2]===32),(!j||y[0]&4)&&V(se,"selected",s[2]===12),(!j||y[0]&4)&&V(Y,"selected",s[2]===24),(!j||y[0]&4)&&V(Z,"selected",s[2]===48),y[0]&20971529|y[1]&64){wt=s[3];let _;for(_=0;_<wt.length;_+=1){const fe=On(s,wt,_);te[_]?te[_].p(fe,y):(te[_]=Bn(fe),te[_].c(),te[_].m(je,null))}for(;_<te.length;_+=1)te[_].d(1);te.length=wt.length}if((!j||y[0]&1&&ft!==(ft=`left: ${s[0].note_width*s[0].panel_num+20}px; width: ${s[0].panel_width*5}px;`))&&i(je,"style",ft),y[0]&44040741|y[1]&1){bt=s[23];let _;for(_=0;_<bt.length;_+=1){const fe=Cn(s,bt,_);ne[_]?ne[_].p(fe,y):(ne[_]=Jn(fe),ne[_].c(),ne[_].m($,Ot))}for(;_<ne.length;_+=1)ne[_].d(1);ne.length=bt.length}if(s[16]>=0?ue?ue.p(s,y):(ue=Un(s),ue.c(),ue.m($,St)):ue&&(ue.d(1),ue=null),y[0]&546&&Be!==(Be=`${(s[1]-s[9]*s[25]*s[5])*2/s[5]}px`)&&m(Oe,"top",Be),y[0]&1&&Ve!==(Ve=`${s[0].note_width*s[0].panel_num}px`)&&m(Oe,"width",Ve),y[0]&8388641){kt=s[23];let _;for(_=0;_<kt.length;_+=1){const fe=An(s,kt,_);le[_]?le[_].p(fe,y):(le[_]=Vn(fe),le[_].c(),le[_].m($,null))}for(;_<le.length;_+=1)le[_].d(1);le.length=kt.length}(!j||y[0]&131072)&&_t!==(_t=s[17].toFixed(2)+"")&&We(Rt,_t),y[0]&131072&&Kt(he,s[17]),(!j||y[0]&262144)&&dt!==(dt=s[18].toFixed(2)+"")&&We(Lt,dt),y[0]&262144&&Kt(ge,s[18]),(!j||y[0]&32768)&&V(Ye,"dragover",s[15]),y[0]&4096&&$t(me.value)!==s[12]&&Kt(me,s[12]);let O=q;q=wn(s),q===O?~q&&Ge[q].p(s,y):(Q&&(ml(),En(Ge[O],1,1,()=>{Ge[O]=null}),vl()),~q?(Q=Ge[q],Q?Q.p(s,y):(Q=Ge[q]=yn[q](s),Q.c()),pn(Q,1),Q.m($e,null)):Q=null),(!j||y[0]&32768)&&V(n,"dragover",s[15]),y[0]&1&&m(n,"width",`${s[0].note_width*s[0].panel_num+20+s[0].panel_width*s[0].panel_w_num}px`)},i(s){j||(pn(Q),j=!0)},o(s){En(Q),j=!1},d(s){s&&ce(t),Xe(x,s),Xe(ee,s),Xe(te,s),Xe(ne,s),ue&&ue.d(),Xe(le,s),~q&&Ge[q].d(),an=!1,tt(vn)}}}const ll="20240129-1",Al=100,fn=0,Ht=200,Qt=160;function Ml(e,t,n){let l,o,u,f,d,K,v,M,k,B,C,E,A,h,D,ve,Se,be,Mt;const Ct=[1,2,4],ye=["1/4","1/2","1","2","4"],Ee={success:"#99ccff",error:"#ffcccc",warning:"#ffffcc"};let F={};const z=new URL(document.location).searchParams.get("key");z&&jt[z]?(F={...jt[z]},F.key=z):(F={...jt["18p"]},F.key="18p");let ke=1,S=0,Fe=16,P=[0],I=[Ht],J=[Qt],_e=null,T="",G=Ee.success,Qe=!1,g=new Array(F.panel_num).fill([]),W,U=1,oe="1",lt,ie=-1,Ue=1,X=1;const Re=new AudioContext,se=Re.createGain();se.connect(Re.destination);let ot,Y,it=!1,Z=!1,qe=[],pe=[];const Pt=()=>{const r=qe.pop();r&&(r.undo(),pe.push(r))},Ae=()=>{const r=pe.pop();r&&(r.do(),qe.push(r))},st=r=>{pe=[],qe.push(r),r.do()},H=r=>{n(13,T=""),Z&&Math.floor(r/192)!==Math.floor(S/192)&&setTimeout(Be,0),n(1,S=r)},Le=()=>H(S-3*64/Fe),re=()=>H(S+3*64/Fe),rt=()=>H((o-1)*U*192),Ke=()=>H((o+1)*U*192),De=r=>()=>{n(13,T=""),n(2,Fe=r),n(1,S=Math.floor(S/(192/r))*(192/r))},Ne=(r,c)=>{H(c),n(3,g[r]=[...g[r],c],g)},at=(r,c)=>{H(c),n(3,g[r]=g[r].filter(w=>w!==c),g)},Te=(r,c)=>{st({undo:()=>at(r,c),do:()=>Ne(r,c)})},It=(r,c)=>{st({undo:()=>Ne(r,c),do:()=>at(r,c)})},Me=r=>()=>{n(13,T=""),g[r].includes(S)?It(r,S):Te(r,S),_e===null&&(_e=setTimeout(()=>{_e=null,re()},Al))},ut=()=>{n(13,T="");const r=S,c=g.map((w,R)=>w.includes(r)?R:-1).filter(w=>w>=0);st({do:()=>c.forEach(w=>at(w,r)),undo:()=>c.forEach(w=>Ne(w,r))})},Ce=()=>{Le(),ut()},Jt=()=>{confirm("現在編集中のデータは失われます。よろしいですか？")!==!1&&(n(3,g=new Array(F.panel_num).fill([])),qe=[],pe=[],n(56,P=[]),n(57,I=[]),n(58,J=[]),n(12,ke=1),n(1,S=0),n(13,T=""))},Pe=(r,c="クリップボードにコピーしました。")=>{navigator.clipboard?(navigator.clipboard.writeText(r),n(13,T=c),n(14,G=Ee.success)):prompt("コピーして保存してください。",r)},je=()=>JSON.stringify({key:F.key,panels:g,label_measures:P,begin_frames:I,bpms:J,resolution:192,chart_num:ke,editor_version:ll,save_data_version:1}),ft=()=>Pe(je(),"クリップボードにセーブデータをコピーしました。"),ct=r=>{let c;if(confirm("セーブデータを読み込むと現在編集中のデータは失われます。よろしいですか？")!==!1){try{c=JSON.parse(r)}catch(w){console.log(w),n(13,T="セーブデータの読み込みに失敗しました。"),n(14,G=Ee.error);return}c.key?(n(0,F={...jt[c.key]}),n(0,F.key=c.key,F)):(n(0,F={...jt["18p"]}),n(0,F.key="18p",F)),n(1,S=0),n(3,g=c.panels??new Array(F.panel_num).fill([])),qe=[],pe=[],n(56,P=c.label_measures??[]),n(57,I=c.begin_frames??[]),n(58,J=c.bpms??[]),n(12,ke=c.chart_num),n(13,T="セーブデータを読み込みました。")}},$=()=>{if(navigator.clipboard)navigator.clipboard.readText().then(r=>ct(r));else{const r=prompt("セーブデータを貼り付けてください。");r&&r!==""&&ct(r)}},Ot=()=>g.map((r,c)=>`|${F.dos_chara[c]}${ke!==1?ke:""}_data=`+[...r.map(w=>{const R=Math.floor(w/192),me=Math.max(...P.filter(gt=>R>=gt)),ht=P.findIndex(gt=>gt===me),$e=P[ht]??P[0]??fn,q=I[ht]??I[0]??Ht,Q=J[ht]??J[0]??Qt;return Math.round((w-$e*192)/192*4*60*60/Q+q)})].sort().join(",")).join("")+"|",St=()=>Pe(Ot(),"クリップボードにdosをコピーしました。"),Oe=()=>{Z&&(n(16,ie=((Re.currentTime-lt)*C*X/60/4-.5)*192),ie>192*U&&(Ve(),Be()),requestAnimationFrame(Oe))},Be=()=>{if(Z&&Ve(),it){const c=((o*U-M-.5)*4*60*60/E+B-200)/60,w=c<0?-c:0;se.gain.value=Ue,Y=Re.createBufferSource(),Y.buffer=ot,Y.playbackRate.value=X,Y.connect(se),lt=Re.currentTime+w,Y.start(lt+w,Math.max(c,0)),requestAnimationFrame(Oe),Z=!0}else ot?n(13,T="再生準備が未完了です。"):n(13,T="音楽ファイルが入力されていません。"),n(14,G=Ee.error)},Ve=()=>{Y.stop(),n(16,ie=-1),Z=!1},Ft=()=>{Z?Ve():Be()},rn=()=>{se.gain.value=Ue},Ut=()=>{Y.playbackRate.value=X,Z&&Be()},de=r=>{if(n(13,T=""),r.target.checked)n(56,P=[...P,l]),n(57,I=[...I,Math.round(A)]),n(58,J=[...J,C]);else{const c=d;n(56,P=P.filter((w,R)=>c!==R)),n(57,I=I.filter((w,R)=>c!==R)),n(58,J=J.filter((w,R)=>c!==R))}},qt=r=>{n(13,T="");const c=r.target.value;let w;try{w=parseFloat(c)}catch(R){console.log(R),R.target.value=I[d];return}Number.isNaN(w)?r.target.value=I[d]:n(57,I[d]=w,I)},_t=r=>{n(13,T="");const c=r.target.value;let w;try{w=parseFloat(c)}catch(R){console.log(R),R.target.value=J[d];return}Number.isNaN(w)||w<=0?r.target.value=J[d]:n(58,J[d]=w,J)},Rt=r=>{r.preventDefault(),n(15,Qe=!0),n(13,T="")},Vt=r=>{r.preventDefault(),n(15,Qe=!1),n(13,T="")},he=r=>{if(r.stopPropagation(),r.preventDefault(),n(15,Qe=!1),n(13,T=""),!r.dataTransfer||!r.dataTransfer.files)return;const c=r.dataTransfer.files;if(c.length===0)return;const w=c[0];if(w.type.match(/^audio/)){it=!1;const R=new FileReader;R.onload=()=>{Re.decodeAudioData(R.result,me=>{ot=me,n(13,T="音楽ファイルの読み込みが完了しました。"),n(14,G=Ee.success),it=!0})},R.readAsArrayBuffer(w)}else if(w.type==="text/plain"){const R=new FileReader;R.onload=()=>{ct(R.result)},R.readAsText(w)}else n(13,T="非対応のファイルタイプです("+w.type+")"),n(14,G=Ee.error)},pt={ArrowUp:Le,ArrowDown:re,ArrowLeft:rt,ArrowRight:Ke,KeyE:Le,KeyD:re,KeyS:rt,KeyF:Ke,KeyB:Le,Space:re,Digit1:De(4),Digit2:De(8),Digit3:De(16),Digit4:De(12),Digit5:De(24),Digit6:De(48),KeyR:De(32),Delete:ut,Backspace:Ce,KeyR:()=>n(4,W=!W),Enter:Ft,KeyZ:Pt,KeyY:Ae},dt=Object.assign({},pt);F.key_config.forEach((r,c)=>pt[r]=Me(c));const Lt=r=>{if(r.target.type!=="number"){const c=r.ctrlKey?dt:pt;c[r.code]&&(c[r.code](),r.preventDefault())}},Yt=r=>{r.deltaY>0?re():r.deltaY<0&&Le()},ge=r=>{r.preventDefault(),r.returnValue="ページを移動してよろしいですか？現在編集中のデータは失われます。"};function Zt(){W=this.checked,n(4,W)}function Ye(){U=Kn(this),n(5,U),n(26,Ct)}function zt(){oe=Kn(this),n(6,oe),n(27,ye)}const ae=r=>H(o*192*U+r);function Ze(){Ue=$t(this.value),n(17,Ue)}function Gt(){X=$t(this.value),n(18,X)}function ze(){ke=$t(this.value),n(12,ke)}const Wt=()=>n(13,T="");return e.$$.update=()=>{e.$$.dirty[0]&2&&n(8,l=Math.floor(S/192)),e.$$.dirty[0]&34&&n(9,o=Math.floor(S/192/U)),e.$$.dirty[0]&256|e.$$.dirty[1]&33554432&&n(63,u=Math.max(...P.filter(r=>l>=r))),e.$$.dirty[0]&544|e.$$.dirty[1]&33554432&&n(62,f=Math.max(...P.filter(r=>o*U>=r))),e.$$.dirty[1]&33554432|e.$$.dirty[2]&2&&n(59,d=P.findIndex(r=>r===u)),e.$$.dirty[1]&33554432|e.$$.dirty[2]&1&&n(61,K=P.findIndex(r=>r===f)),e.$$.dirty[1]&301989888&&n(11,v=P[d]??P[0]??fn),e.$$.dirty[1]&1107296256&&(M=P[K]??P[0]??fn),e.$$.dirty[1]&335544320&&n(10,k=I[d]??I[0]??Ht),e.$$.dirty[1]&1140850688&&(B=I[K]??I[0]??Ht),e.$$.dirty[1]&402653184&&n(7,C=J[d]??J[0]??Qt),e.$$.dirty[1]&1207959552&&(E=J[K]??J[0]??Qt),e.$$.dirty[0]&3202&&n(19,A=(S-v*192)/192*4*60*60/C+k),e.$$.dirty[0]&64&&n(60,h=(()=>{const r=oe.split("/");return r.length===1?parseFloat(r[0]):parseFloat(r[0])/parseFloat(r[1])})()),e.$$.dirty[0]&11&&n(24,D=g.map((r,c)=>r.includes(S)?F.colors[F.panel_color_def[c]]:F.colors[0])),e.$$.dirty[0]&552&&n(23,ve=g.map(r=>r.map(c=>c-o*U*192).filter(c=>c>=0&&c<192*U))),e.$$.dirty[0]&26|e.$$.dirty[1]&536870912&&n(22,Se=g.map(r=>W?r.map(c=>(c-S)*h).filter(c=>c>0&&c<=96):r.map(c=>(S-c)*h).filter(c=>c>0&&c<=96))),e.$$.dirty[0]&36&&n(21,be=new Array(Fe*U).fill(0).map((r,c)=>192/Fe*c)),e.$$.dirty[0]&544|e.$$.dirty[1]&33554432&&n(20,Mt=P.filter(r=>o*U<r&&r<(o+1)*U).length>0)},[F,S,Fe,g,W,U,oe,C,l,o,k,v,ke,T,G,Qe,ie,Ue,X,A,Mt,be,Se,ve,D,192,Ct,ye,Ee,Pt,Ae,H,Le,re,rt,Ke,De,Me,ut,Ce,Jt,ft,$,St,Ft,rn,Ut,de,qt,_t,Rt,Vt,he,Lt,Yt,ge,P,I,J,d,h,K,f,u,Zt,Ye,zt,ae,Ze,Gt,ze,Wt]}class Cl extends Kl{constructor(t){super(),kl(this,t,Ml,El,ol,{},null,[-1,-1,-1,-1])}}new Cl({target:document.getElementById("app")});
