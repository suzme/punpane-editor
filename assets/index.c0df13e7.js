const ll=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=l(s);fetch(s.href,r)}};ll();function He(){}const vt=e=>e;function Vt(e){return e()}function Et(){return Object.create(null)}function Me(e){e.forEach(Vt)}function bt(e){return typeof e=="function"}function nl(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function sl(e){return Object.keys(e).length===0}const Yt=typeof window!="undefined";let Gt=Yt?()=>window.performance.now():()=>Date.now(),yt=Yt?e=>requestAnimationFrame(e):He;const je=new Set;function Ht(e){je.forEach(t=>{t.c(e)||(je.delete(t),t.f())}),je.size!==0&&yt(Ht)}function Qt(e){let t;return je.size===0&&yt(Ht),{promise:new Promise(l=>{je.add(t={c:e,f:l})}),abort(){je.delete(t)}}}function o(e,t){e.appendChild(t)}function Wt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function il(e){const t=d("style");return ol(Wt(e),t),t.sheet}function ol(e,t){o(e.head||e,t)}function Ee(e,t,l){e.insertBefore(t,l||null)}function he(e){e.parentNode.removeChild(e)}function ze(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function d(e){return document.createElement(e)}function x(e){return document.createTextNode(e)}function E(){return x(" ")}function Xt(){return x("")}function M(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function f(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function rl(e){return Array.from(e.childNodes)}function Ve(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function D(e,t,l,n){l===null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}function X(e,t,l){e.classList[l?"add":"remove"](t)}function fl(e,t,{bubbles:l=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,l,n,t),s}const rt=new Map;let ft=0;function cl(e){let t=5381,l=e.length;for(;l--;)t=(t<<5)-t^e.charCodeAt(l);return t>>>0}function ul(e,t){const l={stylesheet:il(t),rules:{}};return rt.set(e,l),l}function Zt(e,t,l,n,s,r,i,_=0){const g=16.666/n;let p=`{
`;for(let m=0;m<=1;m+=g){const v=t+(l-t)*r(m);p+=m*100+`%{${i(v,1-v)}}
`}const K=p+`100% {${i(l,1-l)}}
}`,y=`__svelte_${cl(K)}_${_}`,O=Wt(e),{stylesheet:N,rules:k}=rt.get(O)||ul(O,e);k[y]||(k[y]=!0,N.insertRule(`@keyframes ${y} ${K}`,N.cssRules.length));const w=e.style.animation||"";return e.style.animation=`${w?`${w}, `:""}${y} ${n}ms linear ${s}ms 1 both`,ft+=1,y}function ht(e,t){const l=(e.style.animation||"").split(", "),n=l.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),s=l.length-n.length;s&&(e.style.animation=n.join(", "),ft-=s,ft||al())}function al(){yt(()=>{ft||(rt.forEach(e=>{const{stylesheet:t}=e;let l=t.cssRules.length;for(;l--;)t.deleteRule(l);e.rules={}}),rt.clear())})}let kt;function Ge(e){kt=e}const Ye=[],Kt=[],st=[],Nt=[],pl=Promise.resolve();let mt=!1;function dl(){mt||(mt=!0,pl.then($t))}function Be(e){st.push(e)}const pt=new Set;let nt=0;function $t(){const e=kt;do{for(;nt<Ye.length;){const t=Ye[nt];nt++,Ge(t),gl(t.$$)}for(Ge(null),Ye.length=0,nt=0;Kt.length;)Kt.pop()();for(let t=0;t<st.length;t+=1){const l=st[t];pt.has(l)||(pt.add(l),l())}st.length=0}while(Ye.length);for(;Nt.length;)Nt.pop()();mt=!1,pt.clear(),Ge(e)}function gl(e){if(e.fragment!==null){e.update(),Me(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Be)}}let qe;function xt(){return qe||(qe=Promise.resolve(),qe.then(()=>{qe=null})),qe}function ct(e,t,l){e.dispatchEvent(fl(`${t?"intro":"outro"}${l}`))}const it=new Set;let De;function _l(){De={r:0,c:[],p:De}}function hl(){De.r||Me(De.c),De=De.p}function ot(e,t){e&&e.i&&(it.delete(e),e.i(t))}function At(e,t,l,n){if(e&&e.o){if(it.has(e))return;it.add(e),De.c.push(()=>{it.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}}const el={duration:0};function ml(e,t,l){let n=t(e,l),s=!1,r,i,_=0;function g(){r&&ht(e,r)}function p(){const{delay:y=0,duration:O=300,easing:N=vt,tick:k=He,css:w}=n||el;w&&(r=Zt(e,0,1,O,y,N,w,_++)),k(0,1);const m=Gt()+y,v=m+O;i&&i.abort(),s=!0,Be(()=>ct(e,!0,"start")),i=Qt(V=>{if(s){if(V>=v)return k(1,0),ct(e,!0,"end"),g(),s=!1;if(V>=m){const Ke=N((V-m)/O);k(Ke,1-Ke)}}return s})}let K=!1;return{start(){K||(K=!0,ht(e),bt(n)?(n=n(),xt().then(p)):p())},invalidate(){K=!1},end(){s&&(g(),s=!1)}}}function vl(e,t,l){let n=t(e,l),s=!0,r;const i=De;i.r+=1;function _(){const{delay:g=0,duration:p=300,easing:K=vt,tick:y=He,css:O}=n||el;O&&(r=Zt(e,1,0,p,g,K,O));const N=Gt()+g,k=N+p;Be(()=>ct(e,!1,"start")),Qt(w=>{if(s){if(w>=k)return y(0,1),ct(e,!1,"end"),--i.r||Me(i.c),!1;if(w>=N){const m=K((w-N)/p);y(1-m,m)}}return s})}return bt(n)?xt().then(()=>{n=n(),_()}):_(),{end(g){g&&n.tick&&n.tick(1,0),s&&(r&&ht(e,r),s=!1)}}}function bl(e,t,l,n){const{fragment:s,on_mount:r,on_destroy:i,after_update:_}=e.$$;s&&s.m(t,l),n||Be(()=>{const g=r.map(Vt).filter(bt);i?i.push(...g):Me(g),e.$$.on_mount=[]}),_.forEach(Be)}function yl(e,t){const l=e.$$;l.fragment!==null&&(Me(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function kl(e,t){e.$$.dirty[0]===-1&&(Ye.push(e),dl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function wl(e,t,l,n,s,r,i,_=[-1]){const g=kt;Ge(e);const p=e.$$={fragment:null,ctx:null,props:r,update:He,not_equal:s,bound:Et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(g?g.$$.context:[])),callbacks:Et(),dirty:_,skip_bound:!1,root:t.target||g.$$.root};i&&i(p.root);let K=!1;if(p.ctx=l?l(e,t.props||{},(y,O,...N)=>{const k=N.length?N[0]:O;return p.ctx&&s(p.ctx[y],p.ctx[y]=k)&&(!p.skip_bound&&p.bound[y]&&p.bound[y](k),K&&kl(e,y)),O}):[],p.update(),K=!0,Me(p.before_update),p.fragment=n?n(p.ctx):!1,t.target){if(t.hydrate){const y=rl(t.target);p.fragment&&p.fragment.l(y),y.forEach(he)}else p.fragment&&p.fragment.c();t.intro&&ot(e.$$.fragment),bl(e,t.target,t.anchor,t.customElement),$t()}Ge(g)}class Dl{$destroy(){yl(this,1),this.$destroy=He}$on(t,l){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(t){this.$$set&&!sl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ct(e,{delay:t=0,duration:l=400,easing:n=vt}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:l,easing:n,css:r=>`opacity: ${r*s}`}}function Mt(e,t,l){const n=e.slice();return n[57]=t[l],n[59]=l,n}function Ot(e,t,l){const n=e.slice();return n[60]=t[l],n[62]=l,n}function Pt(e,t,l){const n=e.slice();return n[57]=t[l],n[59]=l,n}function St(e,t,l){const n=e.slice();return n[64]=t[l],n}function Lt(e,t,l){const n=e.slice();return n[67]=t[l],n[59]=l,n}function Rt(e,t,l){const n=e.slice();return n[69]=t[l],n}function jt(e){let t,l=`${Ce-e[69]}px`,n=`${ut-e[69]}px`;return{c(){t=d("div"),f(t,"class","panel_back svelte-7fipeg"),D(t,"width",l,!1),D(t,"height",n,!1),D(t,"background",e[17][e[18][e[59]]],!1)},m(s,r){Ee(s,t,r)},p(s,r){r[0]&2048&&l!==(l=`${Ce-s[69]}px`)&&D(t,"width",l,!1),r[0]&2048&&n!==(n=`${ut-s[69]}px`)&&D(t,"height",n,!1)},d(s){s&&he(t)}}}function zt(e){let t,l,n,s=e[19][e[59]]+"",r,i,_=`${Ce+1}px`,g=`${ut+1}px`,p=`${e[15][e[59]]*ut}px`,K=`${e[16][e[59]]*Ce}px`,y,O,N=e[11][e[59]],k=[];for(let w=0;w<N.length;w+=1)k[w]=jt(Rt(e,N,w));return{c(){t=d("div");for(let w=0;w<k.length;w+=1)k[w].c();l=E(),n=d("div"),r=x(s),i=E(),f(n,"class","svelte-7fipeg"),f(t,"class","panel svelte-7fipeg"),D(t,"width",_,!1),D(t,"height",g,!1),D(t,"top",p,!1),D(t,"left",K,!1),D(t,"background",e[13][e[59]],!1)},m(w,m){Ee(w,t,m);for(let v=0;v<k.length;v+=1)k[v].m(t,null);o(t,l),o(t,n),o(n,r),o(t,i),y||(O=M(t,"click",e[26](e[59])),y=!0)},p(w,m){if(e=w,m[0]&395264){N=e[11][e[59]];let v;for(v=0;v<N.length;v+=1){const V=Rt(e,N,v);k[v]?k[v].p(V,m):(k[v]=jt(V),k[v].c(),k[v].m(t,l))}for(;v<k.length;v+=1)k[v].d(1);k.length=N.length}m[0]&8192&&D(t,"background",e[13][e[59]],!1)},d(w){w&&he(t),ze(k,w),y=!1,O()}}}function Bt(e){let t,l=`${Ae+1}px`,n=`${e[14]/e[1]*2+1}px`,s=`${e[64]*2}px`,r=`${e[59]*Ae}px`,i,_;function g(){return e[43](e[64])}return{c(){t=d("div"),f(t,"class","grid svelte-7fipeg"),D(t,"width",l,!1),D(t,"height",n,!1),D(t,"top",s,!1),D(t,"left",r,!1)},m(p,K){Ee(p,t,K),i||(_=M(t,"click",g),i=!0)},p(p,K){e=p,K[0]&2&&n!==(n=`${e[14]/e[1]*2+1}px`)&&D(t,"height",n,!1),K[0]&1024&&s!==(s=`${e[64]*2}px`)&&D(t,"top",s,!1)},d(p){p&&he(t),i=!1,_()}}}function It(e){let t,l=e[10],n=[];for(let s=0;s<l.length;s+=1)n[s]=Bt(St(e,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=Xt()},m(s,r){for(let i=0;i<n.length;i+=1)n[i].m(s,r);Ee(s,t,r)},p(s,r){if(r[0]&1066002){l=s[10];let i;for(i=0;i<l.length;i+=1){const _=St(s,l,i);n[i]?n[i].p(_,r):(n[i]=Bt(_),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){ze(n,s),s&&he(t)}}}function Tt(e){let t,l=`${Ae+1}px`,n=`${dt}px`,s=`${e[60]*2-dt/2}px`,r=`${e[59]*Ae}px`;return{c(){t=d("div"),f(t,"class","note svelte-7fipeg"),D(t,"width",l,!1),D(t,"height",n,!1),D(t,"top",s,!1),D(t,"left",r,!1),D(t,"background",e[17][e[18][e[59]]],!1)},m(i,_){Ee(i,t,_)},p(i,_){_[0]&4096&&s!==(s=`${i[60]*2-dt/2}px`)&&D(t,"top",s,!1)},d(i){i&&he(t)}}}function Jt(e){let t,l=e[57],n=[];for(let s=0;s<l.length;s+=1)n[s]=Tt(Ot(e,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=Xt()},m(s,r){for(let i=0;i<n.length;i+=1)n[i].m(s,r);Ee(s,t,r)},p(s,r){if(r[0]&397312){l=s[57];let i;for(i=0;i<l.length;i+=1){const _=Ot(s,l,i);n[i]?n[i].p(_,r):(n[i]=Tt(_),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){ze(n,s),s&&he(t)}}}function Ft(e){let t,l,n,s,r,i,_;return{c(){t=d("div"),l=x(e[7]),f(t,"class","message svelte-7fipeg"),D(t,"background",e[8],!1)},m(g,p){Ee(g,t,p),o(t,l),r=!0,i||(_=M(t,"click",e[44]),i=!0)},p(g,p){(!r||p[0]&128)&&Ve(l,g[7]),p[0]&256&&D(t,"background",g[8],!1)},i(g){r||(Be(()=>{s&&s.end(1),n=ml(t,Ct,{duration:100}),n.start()}),r=!0)},o(g){n&&n.invalidate(),s=vl(t,Ct,{duration:300}),r=!1},d(g){g&&he(t),g&&s&&s.end(),i=!1,_()}}}function El(e){let t,l,n,s=e[4]+1+"",r,i,_=(e[0]-e[4]*192)/(e[14]/e[1])+1+"",g,p,K,y,O=Math.round(e[9])+"",N,k,w,m,v,V,Ke,Ne,Oe,me,T,J,R,L,F,Y,G,b,A,ie,U,oe,Z,Pe,j,Qe,le,P,$,Ie,ee,We,re,Te,fe,Xe,ce,Ze,ue,$e,ae,xe,pe,et,de,ve,tt,u,h,S,z=`${(e[0]-e[4]*e[14])*2}px`,ge=`${Ae*18}px`,te,q=`${e[14]*2+10}px`,B,se,be,Je,ye,Fe,ke,Ue,_e,wt,lt,ne,at,Dt,Se=e[2],H=[];for(let c=0;c<Se.length;c+=1)H[c]=zt(Lt(e,Se,c));let Le=e[12],Q=[];for(let c=0;c<Le.length;c+=1)Q[c]=It(Pt(e,Le,c));let Re=e[12],W=[];for(let c=0;c<Re.length;c+=1)W[c]=Jt(Mt(e,Re,c));let I=e[7]!==""&&Ft(e);return{c(){t=d("main"),l=d("div"),n=d("div"),r=x(s),i=x("\u5C0F\u7BC0\u76EE, "),g=x(_),p=x("/"),K=x(e[1]),y=x(" ("),N=x(O),k=x("f)"),w=E(),m=d("div"),v=d("input"),Ke=E(),Ne=d("label"),Ne.textContent="\u3053\u306E\u5C0F\u7BC0\u3067\u8A2D\u5B9A\u5909\u66F4",Oe=x(` |
      `),me=d("label"),me.textContent="\u958B\u59CB\u30D5\u30EC\u30FC\u30E0:",T=E(),J=d("input"),R=E(),L=d("label"),L.textContent="BPM:",F=E(),Y=d("input"),G=E(),b=d("div"),A=d("input"),ie=E(),U=d("input"),oe=E(),Z=d("input"),Pe=E(),j=d("input"),Qe=E(),le=d("input"),P=E(),$=d("input"),Ie=E(),ee=d("input"),We=E(),re=d("input"),Te=E(),fe=d("input"),Xe=E(),ce=d("input"),Ze=E(),ue=d("input"),$e=E(),ae=d("input"),xe=E(),pe=d("input"),et=E(),de=d("div"),ve=d("div");for(let c=0;c<H.length;c+=1)H[c].c();tt=E(),u=d("div");for(let c=0;c<Q.length;c+=1)Q[c].c();h=E(),S=d("div"),te=E();for(let c=0;c<W.length;c+=1)W[c].c();B=E(),se=d("div"),be=d("input"),Je=E(),ye=d("input"),Fe=E(),ke=d("input"),Ue=E(),_e=d("div"),I&&I.c(),wt=E(),lt=d("footer"),lt.textContent=`Pun\u25C7Pane Editor Ver.${tl}`,f(v,"type","checkbox"),v.checked=V=e[6]===e[4],f(v,"id","fix"),f(Ne,"for","fix"),f(Ne,"class","svelte-7fipeg"),f(me,"for","begin_frame"),f(me,"class","svelte-7fipeg"),f(J,"type","number"),J.value=e[5],f(J,"id","begin_frame"),f(J,"class","svelte-7fipeg"),f(L,"for","bpm"),f(L,"class","svelte-7fipeg"),f(Y,"type","number"),Y.value=e[3],f(Y,"step","0.01"),f(Y,"id","bpm"),f(Y,"class","svelte-7fipeg"),f(m,"class","main_input svelte-7fipeg"),f(A,"type","button"),A.value="4",f(A,"title","1\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30924\u5206\u306B\u5909\u66F4"),f(A,"class","svelte-7fipeg"),X(A,"selected",e[1]===4),f(U,"type","button"),U.value="8",f(U,"title","2\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u30928\u5206\u306B\u5909\u66F4"),f(U,"class","svelte-7fipeg"),X(U,"selected",e[1]===8),f(Z,"type","button"),Z.value="16",f(Z,"title","3\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309216\u5206\u306B\u5909\u66F4"),f(Z,"class","svelte-7fipeg"),X(Z,"selected",e[1]===16),f(j,"type","button"),j.value="32",f(j,"title","R\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309232\u5206\u306B\u5909\u66F4"),f(j,"class","svelte-7fipeg"),X(j,"selected",e[1]===32),f(le,"type","button"),le.value="12",f(le,"title","4\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309212\u5206(8\u52063\u9023)\u306B\u5909\u66F4"),f(le,"class","svelte-7fipeg"),X(le,"selected",e[1]===12),f($,"type","button"),$.value="24",f($,"title","5\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309224\u5206(16\u52063\u9023)\u306B\u5909\u66F4"),f($,"class","svelte-7fipeg"),X($,"selected",e[1]===24),f(ee,"type","button"),ee.value="48",f(ee,"title","6\u30AD\u30FC: \u30AB\u30FC\u30BD\u30EB\u79FB\u52D5\u9593\u9694\u309248\u5206(32\u52063\u9023)\u306B\u5909\u66F4"),f(ee,"class","svelte-7fipeg"),X(ee,"selected",e[1]===48),f(re,"type","button"),re.value="\u2190",f(re,"title","\u5DE6\u77E2\u5370\u30AD\u30FC: \u524D\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),f(re,"class","svelte-7fipeg"),f(fe,"type","button"),fe.value="\u2191",f(fe,"title","\u4E0A\u77E2\u5370/E/B: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0A\u306B\u79FB\u52D5"),f(fe,"class","svelte-7fipeg"),f(ce,"type","button"),ce.value="\u2193",f(ce,"title","\u4E0B\u77E2\u5370/D/\u30B9\u30DA\u30FC\u30B9: \u30AB\u30FC\u30BD\u30EB\u3092\u4E0B\u306B\u79FB\u52D5"),f(ce,"class","svelte-7fipeg"),f(ue,"type","button"),ue.value="\u2192",f(ue,"title","\u53F3\u77E2\u5370\u30AD\u30FC: \u6B21\u306E\u5C0F\u7BC0\u306B\u79FB\u52D5"),f(ue,"class","svelte-7fipeg"),f(ae,"type","button"),ae.value="BS",f(ae,"title","Backspace: \u30AB\u30FC\u30BD\u30EB\u3092\u524D\u306B\u79FB\u52D5\u3057\u3066\u30D1\u30CD\u30EB\u3092\u524A\u9664"),f(ae,"class","svelte-7fipeg"),f(pe,"type","button"),pe.value="DEL",f(pe,"title","Delete: \u30AB\u30FC\u30BD\u30EB\u306E\u3042\u308B\u884C\u306E\u30D1\u30CD\u30EB\u3092\u524A\u9664"),f(pe,"class","svelte-7fipeg"),f(b,"class","main_buttons svelte-7fipeg"),f(ve,"class","panels svelte-7fipeg"),f(ve,"style",`left: ${Ae*18+20}px; width: ${Ce*5}px;`),f(S,"class","cursor svelte-7fipeg"),D(S,"top",z,!1),D(S,"width",ge,!1),f(u,"class","notes svelte-7fipeg"),f(de,"class","punpane_editor svelte-7fipeg"),D(de,"height",q,!1),f(be,"type","button"),be.value="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u4FDD\u5B58",f(ye,"type","button"),ye.value="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u304B\u3089\u8AAD\u307F\u8FBC\u307F",f(ke,"type","button"),ke.value="dos\u306E\u4FDD\u5B58",f(se,"class","save_buttons svelte-7fipeg"),f(_e,"class","message_container svelte-7fipeg"),f(lt,"class","svelte-7fipeg"),f(l,"class","container svelte-7fipeg"),D(l,"width",`${Ae*18+20+Ce*5}px`,!1)},m(c,C){Ee(c,t,C),o(t,l),o(l,n),o(n,r),o(n,i),o(n,g),o(n,p),o(n,K),o(n,y),o(n,N),o(n,k),o(l,w),o(l,m),o(m,v),o(m,Ke),o(m,Ne),o(m,Oe),o(m,me),o(m,T),o(m,J),o(m,R),o(m,L),o(m,F),o(m,Y),o(l,G),o(l,b),o(b,A),o(b,ie),o(b,U),o(b,oe),o(b,Z),o(b,Pe),o(b,j),o(b,Qe),o(b,le),o(b,P),o(b,$),o(b,Ie),o(b,ee),o(b,We),o(b,re),o(b,Te),o(b,fe),o(b,Xe),o(b,ce),o(b,Ze),o(b,ue),o(b,$e),o(b,ae),o(b,xe),o(b,pe),o(l,et),o(l,de),o(de,ve);for(let a=0;a<H.length;a+=1)H[a].m(ve,null);o(de,tt),o(de,u);for(let a=0;a<Q.length;a+=1)Q[a].m(u,null);o(u,h),o(u,S),o(u,te);for(let a=0;a<W.length;a+=1)W[a].m(u,null);o(l,B),o(l,se),o(se,be),o(se,Je),o(se,ye),o(se,Fe),o(se,ke),o(l,Ue),o(l,_e),I&&I.m(_e,null),o(l,wt),o(l,lt),ne=!0,at||(Dt=[M(window,"beforeunload",e[37]),M(window,"keydown",e[35]),M(window,"wheel",e[36]),M(v,"change",e[32]),M(J,"change",e[33]),M(Y,"change",e[34]),M(A,"click",e[25](4)),M(U,"click",e[25](8)),M(Z,"click",e[25](16)),M(j,"click",e[25](32)),M(le,"click",e[25](12)),M($,"click",e[25](24)),M(ee,"click",e[25](48)),M(re,"click",e[23]),M(fe,"click",e[21]),M(ce,"click",e[22]),M(ue,"click",e[24]),M(ae,"click",e[28]),M(pe,"click",e[27]),M(be,"click",e[29]),M(ye,"click",e[30]),M(ke,"click",e[31])],at=!0)},p(c,C){if((!ne||C[0]&16)&&s!==(s=c[4]+1+"")&&Ve(r,s),(!ne||C[0]&19)&&_!==(_=(c[0]-c[4]*192)/(c[14]/c[1])+1+"")&&Ve(g,_),(!ne||C[0]&2)&&Ve(K,c[1]),(!ne||C[0]&512)&&O!==(O=Math.round(c[9])+"")&&Ve(N,O),(!ne||C[0]&80&&V!==(V=c[6]===c[4]))&&(v.checked=V),(!ne||C[0]&32&&J.value!==c[5])&&(J.value=c[5]),(!ne||C[0]&8&&Y.value!==c[3])&&(Y.value=c[3]),C[0]&2&&X(A,"selected",c[1]===4),C[0]&2&&X(U,"selected",c[1]===8),C[0]&2&&X(Z,"selected",c[1]===16),C[0]&2&&X(j,"selected",c[1]===32),C[0]&2&&X(le,"selected",c[1]===12),C[0]&2&&X($,"selected",c[1]===24),C[0]&2&&X(ee,"selected",c[1]===48),C[0]&68134916){Se=c[2];let a;for(a=0;a<Se.length;a+=1){const we=Lt(c,Se,a);H[a]?H[a].p(we,C):(H[a]=zt(we),H[a].c(),H[a].m(ve,null))}for(;a<H.length;a+=1)H[a].d(1);H.length=Se.length}if(C[0]&1070098){Le=c[12];let a;for(a=0;a<Le.length;a+=1){const we=Pt(c,Le,a);Q[a]?Q[a].p(we,C):(Q[a]=It(we),Q[a].c(),Q[a].m(u,h))}for(;a<Q.length;a+=1)Q[a].d(1);Q.length=Le.length}if(C[0]&17&&z!==(z=`${(c[0]-c[4]*c[14])*2}px`)&&D(S,"top",z,!1),C[0]&397312){Re=c[12];let a;for(a=0;a<Re.length;a+=1){const we=Mt(c,Re,a);W[a]?W[a].p(we,C):(W[a]=Jt(we),W[a].c(),W[a].m(u,null))}for(;a<W.length;a+=1)W[a].d(1);W.length=Re.length}c[7]!==""?I?(I.p(c,C),C[0]&128&&ot(I,1)):(I=Ft(c),I.c(),ot(I,1),I.m(_e,null)):I&&(_l(),At(I,1,1,()=>{I=null}),hl())},i(c){ne||(ot(I),ne=!0)},o(c){At(I),ne=!1},d(c){c&&he(t),ze(H,c),ze(Q,c),ze(W,c),I&&I.d(),at=!1,Me(Dt)}}}const tl="20220704-0",Ut=18,Ce=96,ut=96,Ae=20,dt=6,Kl=100,qt=0,gt=200,_t=160;function Nl(e,t,l){let n,s,r,i,_,g,p,K,y,O,N;const w=[0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3],m=[0,1,2,3,4,.5,1.5,2.5,3.5,.5,1.5,2.5,3.5,0,1,2,3,4],v=["#cccccc","#9999ff","#99ffff","#ffff99","#ff9966","#ffffff"],V=[1,2,5,3,4,1,2,3,4,1,2,3,4,1,2,5,3,4],Ke="7890-UIOPJKL;NM<>/".split(""),Ne="aa,ab,ac,ad,ae,ba,bb,bc,bd,ca,cb,cc,cd,da,db,dc,dd,de".split(","),Oe={success:"#99ccff",error:"#ffcccc"};let me=1,T=0,J=16,R=[0],L=[gt],F=[_t],Y=null,G="",b=Oe.success,A=new Array(Ut).fill([]);const ie=u=>{l(7,G=""),l(0,T=u)},U=()=>ie(T-3*64/J),oe=()=>ie(T+3*64/J),Z=()=>ie((n-1)*192),Pe=()=>ie((n+1)*192),j=u=>()=>{l(7,G=""),l(1,J=u),l(0,T=Math.floor(T/(192/u))*(192/u))},Qe=(u,h)=>{l(2,A[u]=[...A[u],h],A)},le=(u,h)=>{l(2,A[u]=A[u].filter(S=>S!==h),A)},P=u=>()=>{l(7,G=""),A[u].includes(T)?le(u,T):Qe(u,T),Y===null&&(Y=setTimeout(()=>{Y=null,oe()},Kl))},$=()=>{l(7,G=""),l(2,A=A.map(u=>u.filter(h=>h!==T)))},Ie=()=>{U(),$()},ee=(u,h="\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002")=>{navigator.clipboard?(navigator.clipboard.writeText(u),l(7,G=h),l(8,b=Oe.success)):prompt("\u30B3\u30D4\u30FC\u3057\u3066\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044\u3002",u)},We=()=>JSON.stringify({panels:A,label_measures:R,begin_frames:L,bpms:F,resolution:192,chart_num:me,editor_version:tl,save_data_version:0}),re=()=>ee(We(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),Te=u=>{var S,z,ge,te;let h;try{h=JSON.parse(u)}catch(q){console.log(q),l(7,G="\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002"),l(8,b=Oe.error);return}l(2,A=(S=h.panels)!=null?S:new Array(Ut).fill([])),l(38,R=(z=h.label_measures)!=null?z:[]),l(39,L=(ge=h.begin_frames)!=null?ge:[]),l(40,F=(te=h.bpms)!=null?te:[]),me=h.chart_num},fe=()=>{if(navigator.clipboard)navigator.clipboard.readText().then(u=>Te(u));else{const u=prompt("\u30BB\u30FC\u30D6\u30C7\u30FC\u30BF\u3092\u8CBC\u308A\u4ED8\u3051\u3066\u304F\u3060\u3055\u3044\u3002");u&&u!==""&&Te(u)}},Xe=()=>A.map((u,h)=>`|${Ne[h]}_data=`+[...u.map(S=>{var be,Je,ye,Fe,ke,Ue;const z=Math.floor(S/192),ge=Math.max(...R.filter(_e=>z>=_e)),te=R.findIndex(_e=>_e===ge),q=(Je=(be=R[te])!=null?be:R[0])!=null?Je:qt,B=(Fe=(ye=L[te])!=null?ye:L[0])!=null?Fe:gt,se=(Ue=(ke=F[te])!=null?ke:F[0])!=null?Ue:_t;return Math.round((S-q*192)/192*4*60*60/se+B)})].sort().join(",")).join("")+"|",ce=()=>ee(Xe(),"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306Bdos\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002"),Ze=u=>{if(l(7,G=""),u.target.checked)l(38,R=[...R,n]),l(39,L=[...L,Math.round(p)]),l(40,F=[...F,g]);else{const h=r;l(38,R=R.filter((S,z)=>h!==z)),l(39,L=L.filter((S,z)=>h!==z)),l(40,F=F.filter((S,z)=>h!==z))}},ue=u=>{l(7,G="");const h=u.target.value;isNaN(h)||l(39,L[r]=h,L)},$e=u=>{l(7,G="");const h=u.target.value;isNaN(h)||l(40,F[r]=h,F)},ae={ArrowUp:U,ArrowDown:oe,ArrowLeft:Z,ArrowRight:Pe,KeyE:U,KeyD:oe,KeyS:Z,KeyF:Pe,KeyB:U,Space:oe,Digit1:j(4),Digit2:j(8),Digit3:j(16),Digit4:j(12),Digit5:j(24),Digit6:j(48),KeyR:j(32),Digit7:P(0),Digit8:P(1),Digit9:P(2),Digit0:P(3),Minus:P(4),KeyU:P(5),KeyI:P(6),KeyO:P(7),KeyP:P(8),KeyJ:P(9),KeyK:P(10),KeyL:P(11),Semicolon:P(12),KeyN:P(13),KeyM:P(14),Comma:P(15),Period:P(16),Slash:P(17),Delete:$,Backspace:Ie},xe={},pe=u=>{if(u.target.type!=="number"){const h=u.ctrlKey?xe:ae;h[u.code]&&(h[u.code](),u.preventDefault())}},et=u=>{u.deltaY>0?oe():u.deltaY<0&&U()},de=u=>{console.log(u),u.preventDefault(),u.returnValue="\u30DA\u30FC\u30B8\u3092\u79FB\u52D5\u3057\u3066\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F\u672A\u4FDD\u5B58\u306E\u30C7\u30FC\u30BF\u306F\u5931\u308F\u308C\u307E\u3059\u3002"},ve=u=>ie(n*192+u),tt=()=>l(7,G="");return e.$$.update=()=>{var u,h,S,z,ge,te;e.$$.dirty[0]&1&&l(4,n=Math.floor(T/192)),e.$$.dirty[0]&16|e.$$.dirty[1]&128&&l(42,s=Math.max(...R.filter(q=>n>=q))),e.$$.dirty[1]&2176&&l(41,r=R.findIndex(q=>q===s)),e.$$.dirty[1]&1152&&l(6,i=(h=(u=R[r])!=null?u:R[0])!=null?h:qt),e.$$.dirty[1]&1280&&l(5,_=(z=(S=L[r])!=null?S:L[0])!=null?z:gt),e.$$.dirty[1]&1536&&l(3,g=(te=(ge=F[r])!=null?ge:F[0])!=null?te:_t),e.$$.dirty[0]&105&&l(9,p=(T-i*192)/192*4*60*60/g+_),e.$$.dirty[0]&5&&l(13,K=A.map((q,B)=>q.includes(T)?v[V[B]]:v[0])),e.$$.dirty[0]&20&&l(12,y=A.map(q=>q.map(B=>B-n*192).filter(B=>B>=0&&B<192))),e.$$.dirty[0]&5&&l(11,O=A.map(q=>q.map(B=>T-B).filter(B=>B>0&&B<=Ce))),e.$$.dirty[0]&2&&l(10,N=new Array(J).fill(0).map((q,B)=>192/J*B))},[T,J,A,g,n,_,i,G,b,p,N,O,y,K,192,w,m,v,V,Ke,ie,U,oe,Z,Pe,j,P,$,Ie,re,fe,ce,Ze,ue,$e,pe,et,de,R,L,F,r,s,ve,tt]}class Al extends Dl{constructor(t){super(),wl(this,t,Nl,El,nl,{},null,[-1,-1,-1])}}new Al({target:document.getElementById("app")});
